
// Translations for zh_CN
i18n_register({"catalog": {"+-Reset": "\u91cd\u7f6e"}, "plural": function(n) { return n != 1; }});


define("splunkjs/compiled/js_charting",function(){}),define("highcharts.runtime_patches",["underscore"],function(e){var t=[].slice,n=function(t,n){var r=t.prototype;e(n).each(function(t,n){r[n]=e(r[n]).wrap(t)})},r=function(e){typeof e=="function"&&e.apply(null,t.call(arguments,1))},i=function(e,n,r){return typeof e=="function"?e.apply(null,t.call(arguments,2)):n.apply(r,t.call(arguments,3))},s=function(t){n(t.Chart,{firstRender:function(e){i(this.options.firstRenderOverride,e,this)},render:function(e,t){i(this.options.renderOverride,e,this,t)}}),n(t.Tooltip,{getAnchor:function(e,t,n){var i=e.call(this,t,n);return r(this.options.getAnchorPostHook,t,n,i),i}}),n(t.Legend,{renderItem:function(t,n){var r=this.options,i=this.allItems;typeof r.renderItemsPreHook=="function"&&n===i[0]?(r.renderItemsPreHook(this),t.call(this,n)):typeof r.renderItemsPostHook=="function"&&n===e(i).last()?(t.call(this,n),r.renderItemsPostHook(this)):t.call(this,n)}}),n(t.Series,{drawPoints:function(e){var t=this.options;r(t.drawPointsPreHook,this),e.call(this)},plotGroup:function(e,t,n,i,s,o){var u=e.call(this,t,n,i,s,o);return r(this.options.plotGroupPostHook,this,u),u},render:function(e){e.call(this),r(this.options.renderPostHook,this)},afterAnimate:function(e){e.call(this),r(this.options.afterAnimate,this)},destroy:function(e){r(this.options.destroyPreHook,this),e.call(this)},translate:function(e){e.call(this),r(this.options.translatePostHook,this)}});var s=t.seriesTypes;e([s.column,s.scatter]).each(function(e){n(e,{drawPoints:function(e){i(this.options.drawPointsOverride,e,this)},drawGraph:function(e){i(this.options.drawGraphOverride,e,this)},drawTracker:function(e){i(this.options.drawTrackerOverride,e,this)},getGraphPath:function(e){return i(this.options.getGraphPathOverride,e,this)}})}),n(s.pie,{translate:function(e){r(this.options.translatePreHook,this),e.call(this)},drawDataLabels:function(e){var t=this.options.dataLabels;r(t.drawDataLabelsPreHook,this),e.call(this),r(t.drawDataLabelsPostHook,this)}}),n(t.Axis,{getOffset:function(e){r(this.options.getOffsetPreHook,this),e.call(this)},getSeriesExtremes:function(e){e.call(this),r(this.options.getSeriesExtremesPostHook,this)},setTickPositions:function(e,t){var n=this.options;r(n.setTickPositionsPreHook,this,t),e.call(this,t),r(n.setTickPositionsPostHook,this,t)},setAxisSize:function(e){r(this.options.setSizePreHook,this),e.call(this)},zoom:function(e,t,n){return i(this.options.zoomOverride,e,this,t,n)}}),n(t.Tick,{render:function(e,t,n,i){e.call(this,t,n,i),r(this.axis.options.tickRenderPostHook,this,t,n,i)},handleOverflow:function(e,t,n,r){return i(this.axis.options.tickHandleOverflowOverride,e,this,t,n,r)},getLabelSize:function(e){return i(this.axis.options.getLabelSizeOverride,e,this)}}),n(t.Pointer,{runPointActions:function(e,t){var n=this.chart.hoverSeries;n&&typeof n.options.pointActionsPreHook=="function"&&n.options.pointActionsPreHook(n,t),e.call(this,t)},dragStart:function(e,t){r(this.chart.options.pointerDragStartPreHook,this,t),e.call(this,t)},drag:function(e,t){return i(this.chart.options.pointerDragOverride,e,this,t,e)},drop:function(e,t){this.chart.hasOwnProperty("index")&&(r(this.chart.options.pointerDropPreHook,this,t),e.call(this,t),r(this.chart.options.pointerDropPostHook,this,t))},pinch:function(e,t){return i(this.chart.options.pointerPinchOverride,e,this,t,e)}})};return{applyPatches:s}}),function(){function xt(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e}function Tt(){var e,t=arguments.length,n={},r=function(e,t){var n,i;typeof e!="object"&&(e={});for(i in t)t.hasOwnProperty(i)&&(n=t[i],n&&typeof n=="object"&&Object.prototype.toString.call(n)!=="[object Array]"&&typeof n.nodeType!="number"?e[i]=r(e[i]||{},n):e[i]=t[i]);return e};for(e=0;e<t;e++)n=r(n,arguments[e]);return n}function Nt(){var e=0,t=arguments,n=t.length,r={};for(;e<n;e++)r[t[e++]]=t[e];return r}function Ct(e,t){return parseInt(e,t||10)}function kt(e){return typeof e=="string"}function Lt(e){return typeof e=="object"}function At(e){return Object.prototype.toString.call(e)==="[object Array]"}function Ot(e){return typeof e=="number"}function Mt(e){return r.log(e)/r.LN10}function _t(e){return r.pow(10,e)}function Dt(e,t){var n=e.length;while(n--)if(e[n]===t){e.splice(n,1);break}}function Pt(t){return t!==e&&t!==null}function Ht(e,t,n){var r,i="setAttribute",s;if(kt(t))Pt(n)?e[i](t,n):e&&e.getAttribute&&(s=e.getAttribute(t));else if(Pt(t)&&Lt(t))for(r in t)e[i](r,t[r]);return s}function Bt(e){return At(e)?e:[e]}function jt(){var e=arguments,t,n,r=e.length;for(t=0;t<r;t++){n=e[t];if(typeof n!="undefined"&&n!==null)return n}}function Ft(t,n){m&&n&&n.opacity!==e&&(n.filter="alpha(opacity="+n.opacity*100+")"),xt(t.style,n)}function It(e,n,r,i,s){var o=t.createElement(e);return n&&xt(o,n),s&&Ft(o,{padding:0,border:V,margin:0}),r&&Ft(o,r),i&&i.appendChild(o),o}function qt(e,t){var n=function(){};return n.prototype=new e,xt(n.prototype,t),n}function Rt(e,t,n,r){var i=O.lang,s=+e||0,o=t===-1?(s.toString().split(".")[1]||"").length:isNaN(t=f(t))?2:t,u=n===undefined?i.decimalPoint:n,a=r===undefined?i.thousandsSep:r,l=s<0?"-":"",c=String(Ct(s=f(s).toFixed(o))),h=c.length>3?c.length%3:0;return l+(h?c.substr(0,h)+a:"")+c.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+a)+(o?u+f(s-c).toFixed(o).slice(2):"")}function Ut(e,t){return(new Array((t||2)+1-String(e).length)).join(0)+e}function zt(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);return e.unshift(r),n.apply(this,e)}}function Wt(e,t){var n=/f$/,r=/\.([0-9])/,i=O.lang,s;return n.test(e)?(s=e.match(r),s=s?s[1]:-1,t=Rt(t,s,i.decimalPoint,e.indexOf(",")>-1?i.thousandsSep:"")):t=M(e,t),t}function Xt(e,t){var n="{",r=!1,i,s,o,u,a,f=[],l,c;while((c=e.indexOf(n))!==-1){i=e.slice(0,c);if(r){s=i.split(":"),o=s.shift().split("."),a=o.length,l=t;for(u=0;u<a;u++)l=l[o[u]];s.length&&(l=Wt(s.join(":"),l)),f.push(l)}else f.push(i);e=e.slice(c+1),r=!r,n=r?"}":"{"}return f.push(e),f.join("")}function Vt(e){return r.pow(10,s(r.log(e)/r.LN10))}function $t(e,t,n,r){var i,s;n=jt(n,1),i=e/n,t||(t=[1,2,2.5,5,10],r&&r.allowDecimals===!1&&(n===1?t=[1,2,5,10]:n<=.1&&(t=[1/n])));for(s=0;s<t.length;s++){e=t[s];if(i<=(t[s]+(t[s+1]||t[s]))/2)break}return e*=n,e}function Jt(e,t){var n=t||[[Z,[1,2,5,10,20,25,50,100,200,500]],[et,[1,2,5,10,15,30]],[tt,[1,2,5,10,15,30]],[nt,[1,2,3,4,6,8,12]],[rt,[1,2]],[it,[1,2]],[st,[1,2,3,4,6]],[ot,null]],r=n[n.length-1],i=P[r[0]],s=r[1],o,a;for(a=0;a<n.length;a++){r=n[a],i=P[r[0]],s=r[1];if(n[a+1]){var f=(i*s[s.length-1]+P[n[a+1][0]])/2;if(e<=f)break}}return i===P[ot]&&e<5*i&&(s=[1,2,5]),o=$t(e/i,s,r[0]===ot?u(Vt(e/i),1):1),{unitRange:i,count:o,unitName:r[0]}}function Kt(e,t,n,r){var i=[],o,u={},a=O.global.useUTC,f,l=new Date(t),c=e.unitRange,h=e.count;if(Pt(t)){c>=P[et]&&(l.setMilliseconds(0),l.setSeconds(c>=P[tt]?0:h*s(l.getSeconds()/h))),c>=P[tt]&&l[gt](c>=P[nt]?0:h*s(l[ct]()/h)),c>=P[nt]&&l[yt](c>=P[rt]?0:h*s(l[ht]()/h)),c>=P[rt]&&l[bt](c>=P[st]?1:h*s(l[dt]()/h)),c>=P[st]&&(l[wt](c>=P[ot]?0:h*s(l[vt]()/h)),f=l[mt]()),c>=P[ot]&&(f-=f%h,l[Et](f)),c===P[it]&&l[bt](l[dt]()-l[pt]()+jt(r,1)),o=1,f=l[mt]();var p=l.getTime(),d=l[vt](),v=l[dt](),m=a?0:(864e5+l.getTimezoneOffset()*60*1e3)%864e5;while(p<n)i.push(p),c===P[ot]?p=lt(f+o*h,0):c===P[st]?p=lt(f,d+o*h):!!a||c!==P[rt]&&c!==P[it]?p+=c*h:p=lt(f,d,v+o*h*(c===P[rt]?1:7)),o++;i.push(p),cn(hn(i,function(e){return c<=P[nt]&&e%P[rt]===m}),function(e){u[e]=rt})}return i.info=xt(e,{higherRanks:u,totalRange:c*h}),i}function Qt(){this.color=0,this.symbol=0}function Gt(e,t){var n=e.length,r,i;for(i=0;i<n;i++)e[i].ss_i=i;e.sort(function(e,n){return r=t(e,n),r===0?e.ss_i-n.ss_i:r});for(i=0;i<n;i++)delete e[i].ss_i}function Yt(e){var t=e.length,n=e[0];while(t--)e[t]<n&&(n=e[t]);return n}function Zt(e){var t=e.length,n=e[0];while(t--)e[t]>n&&(n=e[t]);return n}function en(e,t){var n;for(n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function tn(e){A||(A=It(I)),e&&A.appendChild(e),A.innerHTML=""}function nn(e,t){var r="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw r;n.console&&console.log(r)}function rn(e){return parseFloat(e.toPrecision(14))}function sn(e,t){_=jt(e,t.animation)}function Tn(){var e=O.global.useUTC,t=e?"getUTC":"get",n=e?"setUTC":"set";lt=e?Date.UTC:function(e,t,n,r,i,s){return(new Date(e,t,jt(n,1),jt(r,0),jt(i,0),jt(s,0))).getTime()},ct=t+"Minutes",ht=t+"Hours",pt=t+"Day",dt=t+"Date",vt=t+"Month",mt=t+"FullYear",gt=n+"Minutes",yt=n+"Hours",bt=n+"Date",wt=n+"Month",Et=n+"FullYear"}function Nn(e){return O=Tt(O,e),Tn(),O}function Cn(){return O}function Mn(){}function Fn(e,t,n,r){this.axis=e,this.pos=t,this.type=n||"",this.isNew=!0,!n&&!r&&this.addLabel()}function In(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)}function qn(e,t,n,r,i,s){var o=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=r,this.total=null,this.points={},this.stack=i,this.percent=s==="percent",this.alignOptions={align:t.align||(o?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(o?"middle":n?"bottom":"top"),y:jt(t.y,o?4:n?14:-6),x:jt(t.x,o?n?-6:6:0)},this.textAlign=t.textAlign||(o?n?"right":"left":"center")}function Rn(){this.init.apply(this,arguments)}function Un(){this.init.apply(this,arguments)}function zn(e,t){this.init(e,t)}function Wn(e,t){this.init(e,t)}function Xn(){this.init.apply(this,arguments)}var e,t=document,n=window,r=Math,i=r.round,s=r.floor,o=r.ceil,u=r.max,a=r.min,f=r.abs,l=r.cos,c=r.sin,h=r.PI,p=h*2/360,d=navigator.userAgent,v=n.opera,m=/msie/i.test(d)&&!v,g=t.documentMode===8,y=/AppleWebKit/.test(d),b=/Firefox/.test(d),w=/(Mobile|Android|Windows Phone)/.test(d),E="http://www.w3.org/2000/svg",S=!!t.createElementNS&&!!t.createElementNS(E,"svg").createSVGRect,x=b&&parseInt(d.split("Firefox/")[1],10)<4,T=!S&&!m&&!!t.createElement("canvas").getContext,N,C=t.documentElement.ontouchstart!==e,k={},L=0,A,O,M,_,D,P,H=function(){},B=[],j="Highcharts",F="3.0.7",I="div",q="absolute",R="relative",U="hidden",z="highcharts-",W="visible",X="px",V="none",$="M",J="L",K="rgba(192,192,192,"+(S?1e-4:.002)+")",Q="",G="hover",Y="select",Z="millisecond",et="second",tt="minute",nt="hour",rt="day",it="week",st="month",ot="year",ut="linearGradient",at="stops",ft="stroke-width",lt,ct,ht,pt,dt,vt,mt,gt,yt,bt,wt,Et,St={};n.Highcharts=n.Highcharts?nn(16,!0):{},M=function(e,t,n){if(!Pt(t)||isNaN(t))return"Invalid date";e=jt(e,"%Y-%m-%d %H:%M:%S");var r=new Date(t),s,o=r[ht](),u=r[pt](),a=r[dt](),f=r[vt](),l=r[mt](),c=O.lang,h=c.weekdays,p=xt({a:h[u].substr(0,3),A:h[u],d:Ut(a),e:a,b:c.shortMonths[f],B:c.months[f],m:Ut(f+1),y:l.toString().substr(2,2),Y:l,H:Ut(o),I:Ut(o%12||12),l:o%12||12,M:Ut(r[ct]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:Ut(r.getSeconds()),L:Ut(i(t%1e3),3)},Highcharts.dateFormats);for(s in p)while(e.indexOf("%"+s)!==-1)e=e.replace("%"+s,typeof p[s]=="function"?p[s](t):p[s]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},Qt.prototype={wrapColor:function(e){this.color>=e&&(this.color=0)},wrapSymbol:function(e){this.symbol>=e&&(this.symbol=0)}},P=Nt(Z,1,et,1e3,tt,6e4,nt,36e5,rt,864e5,it,6048e5,st,26784e5,ot,31556952e3),D={init:function(e,t,n){t=t||"";var r=e.shift,i=t.indexOf("C")>-1,s=i?7:3,o,u,a,f=t.split(" "),l=[].concat(n),c,h,p=function(e){a=e.length;while(a--)e[a]===$&&e.splice(a+1,0,e[a+1],e[a+2],e[a+1],e[a+2])};i&&(p(f),p(l)),e.isArea&&(c=f.splice(f.length-6,6),h=l.splice(l.length-6,6));if(r<=l.length/s&&f.length===l.length)while(r--)l=[].concat(l).splice(0,s).concat(l);e.shift=0;if(f.length){o=l.length;while(f.length<o)u=[].concat(f).splice(f.length-s,s),i&&(u[s-6]=u[s-2],u[s-5]=u[s-1]),f=f.concat(u)}return c&&(f=f.concat(c),l=l.concat(h)),[f,l]},step:function(e,t,n,r){var i=[],s=e.length,o;if(n===1)i=r;else if(s===t.length&&n<1)while(s--)o=parseFloat(e[s]),i[s]=isNaN(o)?e[s]:n*parseFloat(t[s]-o)+o;else i=t;return i}},function(r){n.HighchartsAdapter=n.HighchartsAdapter||r&&{init:function(t){var n=r.fx,i=n.step,s,o=r.Tween,u=o&&o.propHooks,a=r.cssHooks.opacity;r.extend(r.easing,{easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n}}),r.each(["cur","_default","width","height","opacity"],function(t,r){var s=i,a,f;r==="cur"?s=n.prototype:r==="_default"&&o&&(s=u[r],r="set"),a=s[r],a&&(s[r]=function(n){n=t?n:this;if(n.prop==="align")return;return f=n.elem,f.attr?f.attr(n.prop,r==="cur"?e:n.now):a.apply(this,arguments)})}),zt(a,"get",function(e,t,n){return t.attr?t.opacity||0:e.call(this,t,n)}),s=function(e){var n=e.elem,r;e.started||(r=t.init(n,n.d,n.toD),e.start=r[0],e.end=r[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))},o?u.d={set:s}:i.d=s,this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){var n=0,r=e.length;for(;n<r;n++)if(t.call(e[n],e[n],n,e)===!1)return n},r.fn.highcharts=function(){var t="Chart",n=arguments,r,i,s;return kt(n[0])&&(t=n[0],n=Array.prototype.slice.call(n,1)),r=n[0],r!==e&&(r.chart=r.chart||{},r.chart.renderTo=this[0],s=new Highcharts[t](r,n[1]),i=this),r===e&&(i=B[Ht(this[0],"data-highcharts-chart")]),i}},getScript:r.getScript,inArray:r.inArray,adapterRun:function(e,t){return r(e)[t]()},grep:r.grep,map:function(e,t){var n=[],r=0,i=e.length;for(;r<i;r++)n[r]=t.call(e[r],e[r],r,e);return n},offset:function(e){return r(e).offset()},addEvent:function(e,t,n){r(e).bind(t,n)},removeEvent:function(e,n,i){var s=t.removeEventListener?"removeEventListener":"detachEvent";t[s]&&e&&!e[s]&&(e[s]=function(){}),r(e).unbind(n,i)},fireEvent:function(e,t,n,i){var s=r.Event(t),o="detached"+t,u;!m&&n&&(delete n.layerX,delete n.layerY),xt(s,n),e[t]&&(e[o]=e[t],e[t]=null),r.each(["preventDefault","stopPropagation"],function(e,t){var n=s[t];s[t]=function(){try{n.call(s)}catch(e){t==="preventDefault"&&(u=!0)}}}),r(e).trigger(s),e[o]&&(e[t]=e[o],e[o]=null),i&&!s.isDefaultPrevented()&&!u&&i(s)},washMouseEvent:function(t){var n=t.originalEvent||t;return n.pageX===e&&(n.pageX=t.pageX,n.pageY=t.pageY),n},animate:function(t,n,i){var s=r(t);t.style||(t.style={}),n.d&&(t.toD=n.d,n.d=1),s.stop(),n.opacity!==e&&t.attr&&(n.opacity+="px"),s.animate(n,i)},stop:function(e){r(e).stop()}}}(n.jQuery);var on=n.HighchartsAdapter,un=on||{};on&&on.init.call(on,D);var an=un.adapterRun,fn=un.getScript,ln=un.inArray,cn=un.each,hn=un.grep,pn=un.offset,dn=un.map,vn=un.addEvent,mn=un.removeEvent,gn=un.fireEvent,yn=un.washMouseEvent,bn=un.animate,wn=un.stop,En={enabled:!0,x:0,y:15,style:{color:"#666",cursor:"default",fontSize:"11px",lineHeight:"14px"}};O={colors:["#2f7ed8","#0d233a","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/3.0.7/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/3.0.7/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:Tt(En,{align:"center",enabled:!1,formatter:function(){return this.y===null?"":Rt(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:q,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#274b6d",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:q,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:R,top:"1em"},style:{position:q,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:S,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,snap:w?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var Sn=O.plotOptions,xn=Sn.line;Tn();var kn=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,Ln=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,An=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,On=function(e){function i(e){e&&e.stops?r=dn(e.stops,function(e){return On(e[1])}):(n=kn.exec(e),n?t=[Ct(n[1]),Ct(n[2]),Ct(n[3]),parseFloat(n[4],10)]:(n=Ln.exec(e),n?t=[Ct(n[1],16),Ct(n[2],16),Ct(n[3],16),1]:(n=An.exec(e),n&&(t=[Ct(n[1]),Ct(n[2]),Ct(n[3]),1]))))}function s(n){var i;return r?(i=Tt(e),i.stops=[].concat(i.stops),cn(r,function(e,t){i.stops[t]=[i.stops[t][0],e.get(n)]})):t&&!isNaN(t[0])?n==="rgb"?i="rgb("+t[0]+","+t[1]+","+t[2]+")":n==="a"?i=t[3]:i="rgba("+t.join(",")+")":i=e,i}function o(e){if(r)cn(r,function(t){t.brighten(e)});else if(Ot(e)&&e!==0){var n;for(n=0;n<3;n++)t[n]+=Ct(e*255),t[n]<0&&(t[n]=0),t[n]>255&&(t[n]=255)}return this}function u(e){return t[3]=e,this}var t=[],n,r;return i(e),{get:s,brighten:o,rgba:t,setOpacity:u}};Mn.prototype={init:function(e,n){var r=this;r.element=n==="span"?It(n):t.createElementNS(E,n),r.renderer=e,r.attrSetters={}},opacity:1,animate:function(e,t,n){var r=jt(t,_,!0);wn(this),r?(r=Tt(r),n&&(r.complete=n),bn(this,e,r)):(this.attr(e),n&&n())},attr:function(n,r){var i=this,s,o,a,f,l,c=i.element,h=c.nodeName.toLowerCase(),p=i.renderer,d,v,m=i.attrSetters,g=i.shadows,y,b,w=i;kt(n)&&Pt(r)&&(s=n,n={},n[s]=r);if(kt(n))s=n,h==="circle"?s={x:"cx",y:"cy"}[s]||s:s==="strokeWidth"&&(s="stroke-width"),w=Ht(c,s)||i[s]||0,s!=="d"&&s!=="visibility"&&s!=="fill"&&(w=parseFloat(w));else{for(s in n){d=!1,o=n[s],a=m[s]&&m[s].call(i,o,s);if(a!==!1){a!==e&&(o=a);if(s==="d")o&&o.join&&(o=o.join(" ")),/(NaN| {2}|^$)/.test(o)&&(o="M 0 0");else if(s==="x"&&h==="text")for(f=0;f<c.childNodes.length;f++)l=c.childNodes[f],Ht(l,"x")===Ht(c,"x")&&Ht(l,"x",o);else if(!i.rotation||s!=="x"&&s!=="y")if(s==="fill")o=p.color(o,c,s);else if(h!=="circle"||s!=="x"&&s!=="y")if(h==="rect"&&s==="r")Ht(c,{rx:o,ry:o}),d=!0;else if(s==="translateX"||s==="translateY"||s==="rotation"||s==="verticalAlign"||s==="scaleX"||s==="scaleY")b=!0,d=!0;else if(s==="stroke")o=p.color(o,c,s);else if(s==="dashstyle"){s="stroke-dasharray",o=o&&o.toLowerCase();if(o==="solid")o=V;else if(o){o=o.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),f=o.length;while(f--)o[f]=Ct(o[f])*jt(n["stroke-width"],i["stroke-width"]);o=o.join(",")}}else s==="width"?o=Ct(o):s==="align"?(s="text-anchor",o={left:"start",center:"middle",right:"end"}[o]):s==="title"&&(v=c.getElementsByTagName("title")[0],v||(v=t.createElementNS(E,"title"),c.appendChild(v)),v.textContent=o);else s={x:"cx",y:"cy"}[s]||s;else b=!0;s==="strokeWidth"&&(s="stroke-width");if(s==="stroke-width"||s==="stroke")i[s]=o,i.stroke&&i["stroke-width"]?(Ht(c,"stroke",i.stroke),Ht(c,"stroke-width",i["stroke-width"]),i.hasStroke=!0):s==="stroke-width"&&o===0&&i.hasStroke&&(c.removeAttribute("stroke"),i.hasStroke=!1),d=!0;i.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(s)&&(y||(i.symbolAttr(n),y=!0),d=!0);if(g&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(s)){f=g.length;while(f--)Ht(g[f],s,s==="height"?u(o-(g[f].cutHeight||0),0):o)}(s==="width"||s==="height")&&h==="rect"&&o<0&&(o=0),i[s]=o,s==="text"?(o!==i.textStr&&delete i.bBox,i.textStr=o,i.added&&p.buildText(i)):d||Ht(c,s,o)}}b&&i.updateTransform()}return w},addClass:function(e){var t=this.element,n=Ht(t,"class")||"";return n.indexOf(e)===-1&&Ht(t,"class",n+" "+e),this},symbolAttr:function(e){var t=this;cn(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(n){t[n]=jt(e[n],t[n])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":V)},crisp:function(e,t,n,r,o){var u=this,a,f={},l={},c;e=e||u.strokeWidth||u.attr&&u.attr("stroke-width")||0,c=i(e)%2/2,l.x=s(t||u.x||0)+c,l.y=s(n||u.y||0)+c,l.width=s((r||u.width||0)-2*c),l.height=s((o||u.height||0)-2*c),l.strokeWidth=e;for(a in l)u[a]!==l[a]&&(u[a]=f[a]=l[a]);return f},css:function(e){var t=this,n=t.element,r=t.textWidth=e&&e.width&&n.nodeName.toLowerCase()==="text"&&Ct(e.width),i,s="",o=function(e,t){return"-"+t.toLowerCase()};e&&e.color&&(e.fill=e.color),e=xt(t.styles,e),t.styles=e,r&&delete e.width;if(m&&!S)Ft(t.element,e);else{for(i in e)s+=i.replace(/([A-Z])/g,o)+":"+e[i]+";";Ht(n,"style",s)}return r&&t.added&&t.renderer.buildText(t),t},on:function(e,t){var n=this,r=n.element;return C&&e==="click"?(r.ontouchstart=function(e){n.touchEventFired=Date.now(),e.preventDefault(),t.call(r,e)},r.onclick=function(e){(d.indexOf("Android")===-1||Date.now()-(n.touchEventFired||0)>1100)&&t.call(r,e)}):r["on"+e]=t,this},setRadialReference:function(e){return this.element.radialReference=e,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){var e=this;return e.inverted=!0,e.updateTransform(),e},htmlCss:function(e){var t=this,n=t.element,r=e&&n.tagName==="SPAN"&&e.width;return r&&(delete e.width,t.textWidth=r,t.updateTransform()),t.styles=xt(t.styles,e),Ft(t.element,e),t},htmlGetBBox:function(){var e=this,t=e.element,n=e.bBox;return n||(t.nodeName==="text"&&(t.style.position=q),n=e.bBox={x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}),n},htmlUpdateTransform:function(){if(!this.added){this.alignOnAdd=!0;return}var e=this,t=e.renderer,n=e.element,r=e.translateX||0,i=e.translateY||0,s=e.x||0,o=e.y||0,u=e.textAlign||"left",a={left:0,center:.5,right:1}[u],f=u&&u!=="left",h=e.shadows;Ft(n,{marginLeft:r,marginTop:i}),h&&cn(h,function(e){Ft(e,{marginLeft:r+1,marginTop:i+1})}),e.inverted&&cn(n.childNodes,function(e){t.invertChild(e,n)});if(n.tagName==="SPAN"){var d,v,m=e.rotation,g,b=0,w=1,E=0,S,x=Ct(e.textWidth),T=e.xCorr||0,N=e.yCorr||0,C=[m,u,n.innerHTML,e.textWidth].join(",");C!==e.cTT&&(Pt(m)&&(b=m*p,w=l(b),E=c(b),e.setSpanRotation(m,E,w)),d=jt(e.elemWidth,n.offsetWidth),v=jt(e.elemHeight,n.offsetHeight),d>x&&/[ \-]/.test(n.textContent||n.innerText)&&(Ft(n,{width:x+X,display:"block",whiteSpace:"normal"}),d=x),g=t.fontMetrics(n.style.fontSize).b,T=w<0&&-d,N=E<0&&-v,S=w*E<0,T+=E*g*(S?1-a:a),N-=w*g*(m?S?a:1-a:1),f&&(T-=d*a*(w<0?-1:1),m&&(N-=v*a*(E<0?-1:1)),Ft(n,{textAlign:u})),e.xCorr=T,e.yCorr=N),Ft(n,{left:s+T+X,top:o+N+X}),y&&(v=n.offsetHeight),e.cTT=C}},setSpanRotation:function(e){var t={},n=m?"-ms-transform":y?"-webkit-transform":b?"MozTransform":v?"-o-transform":"";t[n]=t.transform="rotate("+e+"deg)",Ft(this.element,t)},updateTransform:function(){var e=this,t=e.translateX||0,n=e.translateY||0,r=e.scaleX,i=e.scaleY,s=e.inverted,o=e.rotation,u;s&&(t+=e.attr("width"),n+=e.attr("height")),u=["translate("+t+","+n+")"],s?u.push("rotate(90) scale(-1,1)"):o&&u.push("rotate("+o+" "+(e.x||0)+" "+(e.y||0)+")"),(Pt(r)||Pt(i))&&u.push("scale("+jt(r,1)+" "+jt(i,1)+")"),u.length&&Ht(e.element,"transform",u.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,n){var r,s,o,u,a={},f,l=this.renderer,c=l.alignedObjects;if(e){this.alignOptions=e,this.alignByTranslate=t;if(!n||kt(n))this.alignTo=f=n||"renderer",Dt(c,this),c.push(this),n=null}else e=this.alignOptions,t=this.alignByTranslate,f=this.alignTo;n=jt(n,l[f],l),r=e.align,s=e.verticalAlign,o=(n.x||0)+(e.x||0),u=(n.y||0)+(e.y||0);if(r==="right"||r==="center")o+=(n.width-(e.width||0))/{right:1,center:2}[r];a[t?"translateX":"x"]=i(o);if(s==="bottom"||s==="middle")u+=(n.height-(e.height||0))/({bottom:1,middle:2}[s]||1);return a[t?"translateY":"y"]=i(u),this[this.placed?"animate":"attr"](a),this.placed=!0,this.alignAttr=a,this},getBBox:function(){var e=this,t=e.bBox,n=e.renderer,r,i,s=e.rotation,o=e.element,u=e.styles,a=s*p;if(!t){if(o.namespaceURI===E||n.forExport){try{t=o.getBBox?xt({},o.getBBox()):{width:o.offsetWidth,height:o.offsetHeight}}catch(h){}if(!t||t.width<0)t={width:0,height:0}}else t=e.htmlGetBBox();n.isSVG&&(r=t.width,i=t.height,m&&u&&u.fontSize==="11px"&&i.toPrecision(3)==="22.7"&&(t.height=i=14),s&&(t.width=f(i*c(a))+f(r*l(a)),t.height=f(i*l(a))+f(r*c(a)))),e.bBox=t}return t},show:function(){return this.attr({visibility:W})},hide:function(){return this.attr({visibility:U})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.hide()}})},add:function(e){var t=this.renderer,n=e||t,r=n.element||t.box,i=r.childNodes,s=this.element,o=Ht(s,"zIndex"),u,a,f,l;e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,this.textStr!==undefined&&t.buildText(this),o&&(n.handleZ=!0,o=Ct(o));if(n.handleZ)for(f=0;f<i.length;f++){u=i[f],a=Ht(u,"zIndex");if(u!==s&&(Ct(a)>o||!Pt(o)&&Pt(a))){r.insertBefore(s,u),l=!0;break}}return l||r.appendChild(s),this.added=!0,gn(this,"add"),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e=this,t=e.element||{},n=e.shadows,r=e.renderer.isSVG&&t.nodeName==="SPAN"&&e.parentGroup,i,s,o;t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null,wn(e),e.clipPath&&(e.clipPath=e.clipPath.destroy());if(e.stops){for(o=0;o<e.stops.length;o++)e.stops[o]=e.stops[o].destroy();e.stops=null}e.safeRemoveChild(t),n&&cn(n,function(t){e.safeRemoveChild(t)});while(r&&r.div.childNodes.length===0)i=r.parentGroup,e.safeRemoveChild(r.div),delete r.div,r=i;e.alignTo&&Dt(e.renderer.alignedObjects,e);for(s in e)delete e[s];return null},shadow:function(e,t,n){var r=[],i,s,o=this.element,a,f,l,c;if(e){f=jt(e.width,3),l=(e.opacity||.15)/f,c=this.parentInverted?"(-1,-1)":"("+jt(e.offsetX,1)+", "+jt(e.offsetY,1)+")";for(i=1;i<=f;i++)s=o.cloneNode(0),a=f*2+1-2*i,Ht(s,{isShadow:"true",stroke:e.color||"black","stroke-opacity":l*i,"stroke-width":a,transform:"translate"+c,fill:V}),n&&(Ht(s,"height",u(Ht(s,"height")-a,0)),s.cutHeight=a),t?t.element.appendChild(s):o.parentNode.insertBefore(s,o),r.push(s);this.shadows=r}return this}};var _n=function(){this.init.apply(this,arguments)};_n.prototype={Element:Mn,init:function(e,r,i,s){var u=this,a=location,f,l,c;f=u.createElement("svg").attr({version:"1.1"}),l=f.element,e.appendChild(l),e.innerHTML.indexOf("xmlns")===-1&&Ht(l,"xmlns",E),u.isSVG=!0,u.box=l,u.boxWrapper=f,u.alignedObjects=[],u.url=(b||y)&&t.getElementsByTagName("base").length?a.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",c=this.createElement("desc").add(),c.element.appendChild(t.createTextNode("Created with "+j+" "+F)),u.defs=this.createElement("defs").add(),u.forExport=s,u.gradients={},u.setSize(r,i,!1);var h,p;b&&e.getBoundingClientRect&&(u.subPixelFix=h=function(){Ft(e,{left:0,top:0}),p=e.getBoundingClientRect(),Ft(e,{left:o(p.left)-p.left+X,top:o(p.top)-p.top+X})},h(),vn(n,"resize",h))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this,t=e.defs;return e.box=null,e.boxWrapper=e.boxWrapper.destroy(),en(e.gradients||{}),e.gradients=null,t&&(e.defs=t.destroy()),e.subPixelFix&&mn(n,"resize",e.subPixelFix),e.alignedObjects=null,null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},buildText:function(e){var n=e.element,r=this,i=r.forExport,s=jt(e.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),o=n.childNodes,u=/style="([^"]+)"/,a=/href="(http[^"]+)"/,f=Ht(n,"x"),l=e.styles,c=e.textWidth,h=l&&l.lineHeight,p=o.length;while(p--)n.removeChild(o[p]);c&&!e.added&&this.box.appendChild(n),s[s.length-1]===""&&s.pop(),cn(s,function(s,o){var p,d=0;s=s.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),p=s.split("|||"),cn(p,function(s){if(s!==""||p.length===1){var v={},m=t.createElementNS(E,"tspan"),g;u.test(s)&&(g=s.match(u)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),Ht(m,"style",g)),a.test(s)&&!i&&(Ht(m,"onclick",'location.href="'+s.match(a)[1]+'"'),Ft(m,{cursor:"pointer"})),s=(s.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");if(s!==" "){m.appendChild(t.createTextNode(s)),d?v.dx=0:v.x=f,Ht(m,v),!d&&o&&(!S&&i&&Ft(m,{display:"block"}),Ht(m,"dy",h||r.fontMetrics(/px$/.test(m.style.fontSize)?m.style.fontSize:l.fontSize).h,y&&m.offsetHeight)),n.appendChild(m),d++;if(c){var b=s.replace(/([^\^])-/g,"$1- ").split(" "),w,x,T=e._clipHeight,N=[],C=Ct(h||16),k=1,L;while(b.length||N.length)delete e.bBox,L=e.getBBox(),x=L.width,!S&&r.forExport&&(x=r.measureSpanWidth(m.firstChild.data,e.styles)),w=x>c,!w||b.length===1?(b=N,N=[],b.length&&(k++,T&&k*C>T?(b=["..."],e.attr("title",e.textStr)):(m=t.createElementNS(E,"tspan"),Ht(m,{dy:C,x:f}),g&&Ht(m,"style",g),n.appendChild(m),x>c&&(c=x)))):(m.removeChild(m.firstChild),N.unshift(b.pop())),b.length&&m.appendChild(t.createTextNode(b.join(" ").replace(/- /g,"-")))}}}})})},button:function(e,t,n,r,i,s,o,u,a){var f=this.label(e,t,n,a,null,null,null,null,"button"),l=0,c,h,p,d,v,g,y="style",b={x1:0,y1:0,x2:0,y2:1};return i=Tt({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:b,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},i),p=i[y],delete i[y],s=Tt(i,{stroke:"#68A",fill:{linearGradient:b,stops:[[0,"#FFF"],[1,"#ACF"]]}},s),d=s[y],delete s[y],o=Tt(i,{stroke:"#68A",fill:{linearGradient:b,stops:[[0,"#9BD"],[1,"#CDF"]]}},o),v=o[y],delete o[y],u=Tt(i,{style:{color:"#CCC"}},u),g=u[y],delete u[y],vn(f.element,m?"mouseover":"mouseenter",function(){l!==3&&f.attr(s).css(d)}),vn(f.element,m?"mouseout":"mouseleave",function(){l!==3&&(c=[i,s,o][l],h=[p,d,v][l],f.attr(c).css(h))}),f.setState=function(e){f.state=l=e,e?e===2?f.attr(o).css(v):e===3&&f.attr(u).css(g):f.attr(i).css(p)},f.on("click",function(){l!==3&&r.call(f)}).attr(i).css(xt({cursor:"default"},p))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=i(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=i(e[2])+t%2/2),e},path:function(e){var t={fill:V};return At(e)?t.d=e:Lt(e)&&xt(t,e),this.createElement("path").attr(t)},circle:function(e,t,n){var r=Lt(e)?e:{x:e,y:t,r:n};return this.createElement("circle").attr(r)},arc:function(e,t,n,r,i,s){var o;return Lt(e)&&(t=e.y,n=e.r,r=e.innerR,i=e.start,s=e.end,e=e.x),o=this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:r||0,start:i||0,end:s||0}),o.r=n,o},rect:function(e,t,n,r,i,s){i=Lt(e)?e.r:i;var o=this.createElement("rect").attr({rx:i,ry:i,fill:V});return o.attr(Lt(e)?e:o.crisp(s,e,t,u(n,0),u(r,0)))},setSize:function(e,t,n){var r=this,i=r.alignedObjects,s=i.length;r.width=e,r.height=t,r.boxWrapper[jt(n,!0)?"animate":"attr"]({width:e,height:t});while(s--)i[s].align()},g:function(e){var t=this.createElement("g");return Pt(e)?t.attr({"class":z+e}):t},image:function(e,t,n,r,i){var s={preserveAspectRatio:V},o;return arguments.length>1&&xt(s,{x:t,y:n,width:r,height:i}),o=this.createElement("image").attr(s),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):o.element.setAttribute("hc-svg-href",e),o},symbol:function(e,t,n,r,s,o){var u,a=this.symbols[e],f=a&&a(i(t),i(n),r,s,o),l,c=/^url\((.*?)\)$/,h,p,d;return f?(u=this.path(f),xt(u,{symbolName:e,x:t,y:n,width:r,height:s}),o&&xt(u,o)):c.test(e)&&(d=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(i((r-t[0])/2),i((s-t[1])/2)))},h=e.match(c)[1],p=k[h],u=this.image(h).attr({x:t,y:n}),u.isImg=!0,p?d(u,p):(u.attr({width:0,height:0}),l=It("img",{onload:function(){d(u,k[h]=[this.width,this.height])},src:h}))),u},symbols:{circle:function(e,t,n,r){var i=.166*n;return[$,e+n/2,t,"C",e+n+i,t,e+n+i,t+r,e+n/2,t+r,"C",e-i,t+r,e-i,t,e+n/2,t,"Z"]},square:function(e,t,n,r){return[$,e,t,J,e+n,t,e+n,t+r,e,t+r,"Z"]},triangle:function(e,t,n,r){return[$,e+n/2,t,J,e+n,t+r,e,t+r,"Z"]},"triangle-down":function(e,t,n,r){return[$,e,t,J,e+n,t,e+n/2,t+r,"Z"]},diamond:function(e,t,n,r){return[$,e+n/2,t,J,e+n,t+r/2,e+n/2,t+r,e,t+r/2,"Z"]},arc:function(e,t,n,r,i){var s=i.start,o=i.r||n||r,u=i.end-.001,a=i.innerR,f=i.open,p=l(s),d=c(s),v=l(u),m=c(u),g=i.end-s<h?0:1;return[$,e+o*p,t+o*d,"A",o,o,0,g,1,e+o*v,t+o*m,f?$:J,e+a*v,t+a*m,"A",a,a,0,g,0,e+a*p,t+a*d,f?"":"Z"]}},clipRect:function(e,t,n,r){var i,s=z+L++,o=this.createElement("clipPath").attr({id:s}).add(this.defs);return i=this.rect(e,t,n,r,0).add(o),i.id=s,i.clipPath=o,i},color:function(e,t,n){var r=this,i,s=/^rgba/,o,u,a,f,l,c,h,p,d,v,m=[];e&&e.linearGradient?o="linearGradient":e&&e.radialGradient&&(o="radialGradient");if(o){u=e[o],a=r.gradients,l=e.stops,p=t.radialReference,At(u)&&(e[o]=u={x1:u[0],y1:u[1],x2:u[2],y2:u[3],gradientUnits:"userSpaceOnUse"}),o==="radialGradient"&&p&&!Pt(u.gradientUnits)&&(u=Tt(u,{cx:p[0]-p[2]/2+u.cx*p[2],cy:p[1]-p[2]/2+u.cy*p[2],r:u.r*p[2],gradientUnits:"userSpaceOnUse"}));for(d in u)d!=="id"&&m.push(d,u[d]);for(d in l)m.push(l[d]);return m=m.join(","),a[m]?v=a[m].id:(u.id=v=z+L++,a[m]=f=r.createElement(o).attr(u).add(r.defs),f.stops=[],cn(l,function(e){var t;s.test(e[1])?(i=On(e[1]),c=i.get("rgb"),h=i.get("a")):(c=e[1],h=1),t=r.createElement("stop").attr({offset:e[0],"stop-color":c,"stop-opacity":h}).add(f),f.stops.push(t)})),"url("+r.url+"#"+v+")"}return s.test(e)?(i=On(e),Ht(t,n+"-opacity",i.get("a")),i.get("rgb")):(t.removeAttribute(n+"-opacity"),e)},text:function(e,t,n,r){var s=this,o=O.chart.style,u=T||!S&&s.forExport,a;return r&&!s.forExport?s.html(e,t,n):(t=i(jt(t,0)),n=i(jt(n,0)),a=s.createElement("text").attr({x:t,y:n,text:e}).css({fontFamily:o.fontFamily,fontSize:o.fontSize}),u&&a.css({position:q}),a.x=t,a.y=n,a)},html:function(e,t,n){var r=O.chart.style,s=this.createElement("span"),o=s.attrSetters,u=s.element,a=s.renderer;return o.text=function(e){return e!==u.innerHTML&&delete this.bBox,u.innerHTML=e,!1},o.x=o.y=o.align=function(e,t){return t==="align"&&(t="textAlign"),s[t]=e,s.htmlUpdateTransform(),!1},s.attr({text:e,x:i(t),y:i(n)}).css({position:q,whiteSpace:"nowrap",fontFamily:r.fontFamily,fontSize:r.fontSize}),s.css=s.htmlCss,a.isSVG&&(s.add=function(e){var t,n=a.box.parentNode,r,i=[];this.parentGroup=e;if(e){t=e.div;if(!t){r=e;while(r)i.push(r),r=r.parentGroup;cn(i.reverse(),function(e){var r;t=e.div=e.div||It(I,{className:Ht(e.element,"class")},{position:q,left:(e.translateX||0)+X,top:(e.translateY||0)+X},t||n),r=t.style,xt(e.attrSetters,{translateX:function(e){r.left=e+X},translateY:function(e){r.top=e+X},visibility:function(e,t){r[t]=e}})})}}else t=n;return t.appendChild(u),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s},fontMetrics:function(e){e=Ct(e||11);var t=e<24?e+4:i(e*1.2),n=i(t*.8);return{h:t,b:n}},label:function(t,n,r,s,o,u,a,f,l){function L(){var e,t,n=p.element.style;v=(b===undefined||w===undefined||h.styles.textAlign)&&p.getBBox(),h.width=(b||v.width||0)+2*g+y,h.height=(w||v.height||0)+2*g,N=g+c.fontMetrics(n&&n.fontSize).b,k&&(d||(e=i(-m*g),t=f?-N:0,h.box=d=s?c.symbol(s,e,t,h.width,h.height,T):c.rect(e,t,h.width,h.height,0,T[ft]),d.add(h)),d.isImg||d.attr(Tt({width:h.width,height:h.height},T)),T=null)}function A(){var e=h.styles,t=e&&e.textAlign,n=y+g*(1-m),r;r=f?0:N,Pt(b)&&(t==="center"||t==="right")&&(n+={center:.5,right:1}[t]*(b-v.width)),(n!==p.x||r!==p.y)&&p.attr({x:n,y:r}),p.x=n,p.y=r}function O(e,t){d?d.attr(e,t):T[e]=t}function M(){p.add(h),h.attr({text:t,x:n,y:r}),d&&Pt(o)&&h.attr({anchorX:o,anchorY:u})}var c=this,h=c.g(l),p=c.text("",0,0,a).attr({zIndex:1}),d,v,m=0,g=3,y=0,b,w,E,S,x=0,T={},N,C=h.attrSetters,k;vn(h,"add",M),C.width=function(e){return b=e,!1},C.height=function(e){return w=e,!1},C.padding=function(e){return Pt(e)&&e!==g&&(g=e,A()),!1},C.paddingLeft=function(e){return Pt(e)&&e!==y&&(y=e,A()),!1},C.align=function(e){return m={left:0,center:.5,right:1}[e],!1},C.text=function(e,t){return p.attr(t,e),L(),A(),!1},C[ft]=function(e,t){return k=!0,x=e%2/2,O(t,e),!1},C.stroke=C.fill=C.r=function(e,t){return t==="fill"&&(k=!0),O(t,e),!1},C.anchorX=function(e,t){return o=e,O(t,e+x-E),!1},C.anchorY=function(e,t){return u=e,O(t,e-S),!1},C.x=function(e){return h.x=e,e-=m*((b||v.width)+g),E=i(e),h.attr("translateX",E),!1},C.y=function(e){return S=h.y=i(e),h.attr("translateY",S),!1};var _=h.css;return xt(h,{css:function(t){if(t){var n={};t=Tt(t),cn(["fontSize","fontWeight","fontFamily","color","lineHeight","width","textDecoration","textShadow"],function(r){t[r]!==e&&(n[r]=t[r],delete t[r])}),p.css(n)}return _.call(h,t)},getBBox:function(){return{width:v.width+2*g,height:v.height+2*g,x:v.x-g,y:v.y-g}},shadow:function(e){return d&&d.shadow(e),h},destroy:function(){mn(h,"add",M),mn(h.element,"mouseenter"),mn(h.element,"mouseleave"),p&&(p=p.destroy()),d&&(d=d.destroy()),Mn.prototype.destroy.call(h),h=c=L=A=O=M=null}})}},N=_n;var Dn,Pn;if(!S&&!T){Highcharts.VMLElement=Pn={init:function(e,t){var n=this,r=["<",t,' filled="f" stroked="f"'],i=["position: ",q,";"],s=t===I;(t==="shape"||s)&&i.push("left:0;top:0;width:1px;height:1px;"),i.push("visibility: ",s?U:W),r.push(' style="',i.join(""),'"/>'),t&&(r=s||t==="span"||t==="img"?r.join(""):e.prepVML(r),n.element=It(r)),n.renderer=e,n.attrSetters={}},add:function(e){var t=this,n=t.renderer,r=t.element,i=n.box,s=e&&e.inverted,o=e?e.element||e:i;return s&&n.invertChild(r,o),o.appendChild(r),t.added=!0,t.alignOnAdd&&!t.deferUpdateTransform&&t.updateTransform(),gn(t,"add"),t},updateTransform:Mn.prototype.htmlUpdateTransform,setSpanRotation:function(e,t,n){Ft(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",n,", M12=",-t,", M21=",t,", M22=",n,", sizingMethod='auto expand')"].join(""):V})},pathToVML:function(e){var t=e.length,n=[],r;while(t--)Ot(e[t])?n[t]=i(e[t]*10)-5:e[t]==="Z"?n[t]="x":(n[t]=e[t],e.isArc&&(e[t]==="wa"||e[t]==="at")&&(r=e[t]==="wa"?1:-1,n[t+5]===n[t+7]&&(n[t+7]-=r),n[t+6]===n[t+8]&&(n[t+8]-=r)));return n.join(" ")||"x"},attr:function(t,n){var r=this,s,o,a,f,h=r.element||{},d=h.style,v=h.nodeName,m=r.renderer,y=r.symbolName,b,w=r.shadows,E,S=r.attrSetters,x=r;kt(t)&&Pt(n)&&(s=t,t={},t[s]=n);if(kt(t))s=t,s==="strokeWidth"||s==="stroke-width"?x=r.strokeweight:x=r[s];else for(s in t){o=t[s],E=!1,f=S[s]&&S[s].call(r,o,s);if(f!==!1&&o!==null){f!==e&&(o=f);if(y&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(s))b||(r.symbolAttr(t),b=!0),E=!0;else if(s==="d"){o=o||[],r.d=o.join(" "),h.path=o=r.pathToVML(o);if(w){a=w.length;while(a--)w[a].path=w[a].cutOff?this.cutOffPath(o,w[a].cutOff):o}E=!0}else if(s==="visibility"){if(w){a=w.length;while(a--)w[a].style[s]=o}v==="DIV"&&(o=o===U?"-999em":0,g||(d[s]=o?W:U),s="top"),d[s]=o,E=!0}else if(s==="zIndex")o&&(d[s]=o),E=!0;else if(ln(s,["x","y","width","height"])!==-1)r[s]=o,s==="x"||s==="y"?s={x:"left",y:"top"}[s]:o=u(0,o),r.updateClipping?(r[s]=o,r.updateClipping()):d[s]=o,E=!0;else if(s==="class"&&v==="DIV")h.className=o;else if(s==="stroke")o=m.color(o,h,s),s="strokecolor";else if(s==="stroke-width"||s==="strokeWidth")h.stroked=o?!0:!1,s="strokeweight",r[s]=o,Ot(o)&&(o+=X);else if(s==="dashstyle"){var T=h.getElementsByTagName("stroke")[0]||It(m.prepVML(["<stroke/>"]),null,null,h);T[s]=o||"solid",r.dashstyle=o,E=!0}else s==="fill"?v==="SPAN"?d.color=o:v!=="IMG"&&(h.filled=o!==V?!0:!1,o=m.color(o,h,s,r),s="fillcolor"):s==="opacity"?E=!0:v==="shape"&&s==="rotation"?(r[s]=h.style[s]=o,h.style.left=-i(c(o*p)+1)+X,h.style.top=i(l(o*p))+X):s==="translateX"||s==="translateY"||s==="rotation"?(r[s]=o,r.updateTransform(),E=!0):s==="text"&&(this.bBox=null,h.innerHTML=o,E=!0);E||(g?h[s]=o:Ht(h,s,o))}}return x},clip:function(e){var t=this,n,r;return e?(n=e.members,Dt(n,t),n.push(t),t.destroyClip=function(){Dt(n,t)},r=e.getCSS(t)):(t.destroyClip&&t.destroyClip(),r={clip:g?"inherit":"rect(auto)"}),t.css(r)},css:Mn.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&tn(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),Mn.prototype.destroy.apply(this)},on:function(e,t){return this.element["on"+e]=function(){var e=n.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,t){var n;e=e.split(/[ ,]/),n=e.length;if(n===9||n===11)e[n-4]=e[n-2]=Ct(e[n-2])-10*t;return e.join(" ")},shadow:function(e,t,n){var r=[],i,s=this.element,o=this.renderer,u,a=s.style,f,l=s.path,c,h,p,d;l&&typeof l.value!="string"&&(l="x"),h=l;if(e){p=jt(e.width,3),d=(e.opacity||.15)/p;for(i=1;i<=3;i++)c=p*2+1-2*i,n&&(h=this.cutOffPath(l.value,c+.5)),f=['<shape isShadow="true" strokeweight="',c,'" filled="false" path="',h,'" coordsize="10 10" style="',s.style.cssText,'" />'],u=It(o.prepVML(f),null,{left:Ct(a.left)+jt(e.offsetX,1),top:Ct(a.top)+jt(e.offsetY,1)}),n&&(u.cutOff=c+1),f=['<stroke color="',e.color||"black",'" opacity="',d*i,'"/>'],It(o.prepVML(f),null,null,u),t?t.element.appendChild(u):s.parentNode.insertBefore(u,s),r.push(u);this.shadows=r}return this}},Pn=qt(Mn,Pn);var Hn={Element:Pn,isIE8:d.indexOf("MSIE 8.0")>-1,init:function(e,n,r){var i=this,s,o,u;i.alignedObjects=[],s=i.createElement(I),o=s.element,o.style.position=R,e.appendChild(s.element),i.isVML=!0,i.box=o,i.boxWrapper=s,i.setSize(n,r,!1);if(!t.namespaces.hcv){t.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),u="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{t.createStyleSheet().cssText=u}catch(a){t.styleSheets[0].cssText+=u}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,n,r){var s=this.createElement(),o=Lt(e);return xt(s,{members:[],left:(o?e.x:e)+1,top:(o?e.y:t)+1,width:(o?e.width:n)-1,height:(o?e.height:r)-1,getCSS:function(e){var t=e.element,n=t.nodeName,r=n==="shape",s=e.inverted,o=this,u=o.top-(r?t.offsetTop:0),a=o.left,f=a+o.width,l=u+o.height,c={clip:"rect("+i(s?a:u)+"px,"+i(s?l:f)+"px,"+i(s?f:l)+"px,"+i(s?u:a)+"px)"};return!s&&g&&n==="DIV"&&xt(c,{width:f+X,height:l+X}),c},updateClipping:function(){cn(s.members,function(e){e.css(s.getCSS(e))})}})},color:function(e,t,n,i){var s=this,o,u=/^rgba/,a,f,l=V;e&&e.linearGradient?f="gradient":e&&e.radialGradient&&(f="pattern");if(f){var c,p,d=e.linearGradient||e.radialGradient,v,m,g,y,b,w,E,S,x="",T=e.stops,N,C,k=[],L=function(){a=['<fill colors="'+k.join(",")+'" opacity="',w,'" o:opacity2="',b,'" type="',f,'" ',x,'focus="100%" method="any" />'],It(s.prepVML(a),null,null,t)};N=T[0],C=T[T.length-1],N[0]>0&&T.unshift([0,N[1]]),C[0]<1&&T.push([1,C[1]]),cn(T,function(e,t){u.test(e[1])?(o=On(e[1]),c=o.get("rgb"),p=o.get("a")):(c=e[1],p=1),k.push(e[0]*100+"% "+c),t?(w=p,E=c):(b=p,S=c)});if(n==="fill")if(f==="gradient")v=d.x1||d[0]||0,m=d.y1||d[1]||0,g=d.x2||d[2]||0,y=d.y2||d[3]||0,x='angle="'+(90-r.atan((y-m)/(g-v))*180/h)+'"',L();else{var A=d.r,M=A*2,_=A*2,D=d.cx,P=d.cy,H=t.radialReference,B,j=function(){H&&(B=i.getBBox(),D+=(H[0]-B.x)/B.width-.5,P+=(H[1]-B.y)/B.height-.5,M*=H[2]/B.width,_*=H[2]/B.height),x='src="'+O.global.VMLRadialGradientURL+'" '+'size="'+M+","+_+'" '+'origin="0.5,0.5" '+'position="'+D+","+P+'" '+'color2="'+S+'" ',L()};i.added?j():vn(i,"add",j),l=E}else l=c}else if(u.test(e)&&t.tagName!=="IMG")o=On(e),a=["<",n,' opacity="',o.get("a"),'"/>'],It(this.prepVML(a),null,null,t),l=o.get("rgb");else{var F=t.getElementsByTagName(n);F.length&&(F[0].opacity=1,F[0].type="solid"),l=e}return l},prepVML:function(e){var t="display:inline-block;behavior:url(#default#VML);",n=this.isIE8;return e=e.join(""),n?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e.indexOf('style="')===-1?e=e.replace("/>",' style="'+t+'" />'):e=e.replace('style="','style="'+t)):e=e.replace("<","<hcv:"),e},text:_n.prototype.html,path:function(e){var t={coordsize:"10 10"};return At(e)?t.d=e:Lt(e)&&xt(t,e),this.createElement("shape").attr(t)},circle:function(e,t,n){var r=this.symbol("circle");return Lt(e)&&(n=e.r,t=e.y,e=e.x),r.isCircle=!0,r.r=n,r.attr({x:e,y:t})},g:function(e){var t,n;return e&&(n={className:z+e,"class":z+e}),t=this.createElement(I).attr(n),t},image:function(e,t,n,r,i){var s=this.createElement("img").attr({src:e});return arguments.length>1&&s.attr({x:t,y:n,width:r,height:i}),s},rect:function(e,t,n,r,i,s){var o=this.symbol("rect");return o.r=Lt(e)?e.r:i,o.attr(Lt(e)?e:o.crisp(s,e,t,u(n,0),u(r,0)))},invertChild:function(e,t){var n=t.style;Ft(e,{flip:"x",left:Ct(n.width)-1,top:Ct(n.height)-1,rotation:-90})},symbols:{arc:function(e,t,n,r,i){var s=i.start,o=i.end,u=i.r||n||r,a=i.innerR,f=l(s),h=c(s),p=l(o),d=c(o),v;return o-s===0?["x"]:(v=["wa",e-u,t-u,e+u,t+u,e+u*f,t+u*h,e+u*p,t+u*d],i.open&&!a&&v.push("e",$,e,t),v.push("at",e-a,t-a,e+a,t+a,e+a*p,t+a*d,e+a*f,t+a*h,"x","e"),v.isArc=!0,v)},circle:function(e,t,n,r,i){return i&&(n=r=2*i.r),i&&i.isCircle&&(e-=n/2,t-=r/2),["wa",e,t,e+n,t+r,e+n,t+r/2,e+n,t+r/2,"e"]},rect:function(e,t,n,r,i){var s=e+n,o=t+r,u,f;return!Pt(i)||!i.r?u=_n.prototype.symbols.square.apply(0,arguments):(f=a(i.r,n,r),u=[$,e+f,t,J,s-f,t,"wa",s-2*f,t,s,t+2*f,s-f,t,s,t+f,J,s,o-f,"wa",s-2*f,o-2*f,s,o,s,o-f,s-f,o,J,e+f,o,"wa",e,o-2*f,e+2*f,o,e+f,o,e,o-f,J,e,t+f,"wa",e,t,e+2*f,t+2*f,e,t+f,e+f,t,"x","e"]),u}}};Highcharts.VMLRenderer=Dn=function(){this.init.apply(this,arguments)},Dn.prototype=Tt(_n.prototype,Hn),N=Dn}_n.prototype.measureSpanWidth=function(e,n){var r=t.createElement("span"),i=t.createTextNode(e);return r.appendChild(i),Ft(r,n),this.box.appendChild(r),r.offsetWidth};var Bn,jn;T&&(Highcharts.CanVGRenderer=Bn=function(){E="http://www.w3.org/1999/xhtml"},Bn.prototype.symbols={},jn=function(){function t(){var t=e.length,n;for(n=0;n<t;n++)e[n]();e=[]}var e=[];return{push:function(n,r){e.length===0&&fn(r,t),e.push(n)}}}(),N=Bn),Fn.prototype={addLabel:function(){var e=this,t=e.axis,n=t.options,r=t.chart,s=t.horiz,o=t.categories,a=t.names,f=e.pos,l=n.labels,c,h=t.tickPositions,p=s&&o&&!l.step&&!l.staggerLines&&!l.rotation&&r.plotWidth/h.length||!s&&(r.margin[3]||r.chartWidth*.33),d=f===h[0],v=f===h[h.length-1],m,g,y=o?jt(o[f],a[f],f):f,b=e.label,w=h.info,E;t.isDatetimeAxis&&w&&(E=n.dateTimeLabelFormats[w.higherRanks[f]||w.unitName]),e.isFirst=d,e.isLast=v,c=t.labelFormatter.call({axis:t,chart:r,isFirst:d,isLast:v,dateTimeLabelFormat:E,value:t.isLog?rn(_t(y)):y}),m=p&&{width:u(1,i(p-2*(l.padding||10)))+X},m=xt(m,l.style),Pt(b)?b&&b.attr({text:c}).css(m):(g={align:t.labelAlign},Ot(l.rotation)&&(g.rotation=l.rotation),p&&l.ellipsis&&(g._clipHeight=t.len/h.length),e.label=Pt(c)&&l.enabled?r.renderer.text(c,0,0,l.useHTML).attr(g).css(m).add(t.labelGroup):null)},getLabelSize:function(){var e=this.label,t=this.axis;return e?(this.labelBBox=e.getBBox())[t.horiz?"height":"width"]:0},getLabelSides:function(){var e=this.labelBBox,t=this.axis,n=t.options,r=n.labels,i=e.width,s=i*{left:0,center:.5,right:1}[t.labelAlign]-r.x;return[-s,i-s]},handleOverflow:function(e,t){var n=!0,r=this.axis,i=r.chart,s=this.isFirst,o=this.isLast,u=t.x,a=r.reversed,f=r.tickPositions;if(s||o){var l=this.getLabelSides(),c=l[0],h=l[1],p=i.plotLeft,d=p+r.len,v=r.ticks[f[e+(s?1:-1)]],m=v&&v.label.xy&&v.label.xy.x+v.getLabelSides()[s?0:1];s&&!a||o&&a?u+c<p&&(u=p-c,v&&u+h>m&&(n=!1)):u+h>d&&(u=d-h,v&&u+c<m&&(n=!1)),t.x=u}return n},getPosition:function(e,t,n,r){var i=this.axis,s=i.chart,o=r&&s.oldChartHeight||s.chartHeight;return{x:e?i.translate(t+n,null,null,r)+i.transB:i.left+i.offset+(i.opposite?(r&&s.oldChartWidth||s.chartWidth)-i.right-i.left:0),y:e?o-i.bottom+i.offset-(i.opposite?i.height:0):o-i.translate(t+n,null,null,r)-i.transB}},getLabelPosition:function(e,t,n,r,i,s,o,u){var a=this.axis,f=a.transA,c=a.reversed,h=a.staggerLines,d=a.chart.renderer.fontMetrics(i.style.fontSize).b,v=i.rotation;return e=e+i.x-(s&&r?s*f*(c?-1:1):0),t=t+i.y-(s&&!r?s*f*(c?1:-1):0),v&&a.side===2&&(t-=d-d*l(v*p)),!Pt(i.y)&&!v&&(t+=d-n.getBBox().height/2),h&&(t+=o/(u||1)%h*(a.labelOffset/h)),{x:e,y:t}},getMarkPath:function(e,t,n,r,i,s){return s.crispLine([$,e,t,J,e+(i?0:-n),t+(i?n:0)],r)},render:function(t,n,r){var i=this,s=i.axis,o=s.options,u=s.chart,a=u.renderer,f=s.horiz,l=i.type,c=i.label,h=i.pos,p=o.labels,d=i.gridLine,v=l?l+"Grid":"grid",m=l?l+"Tick":"tick",g=o[v+"LineWidth"],y=o[v+"LineColor"],b=o[v+"LineDashStyle"],w=o[m+"Length"],E=o[m+"Width"]||0,S=o[m+"Color"],x=o[m+"Position"],T,N=i.mark,C,k=p.step,L,A=!0,O=s.tickmarkOffset,M=i.getPosition(f,h,O,n),_=M.x,D=M.y,P=f&&_===s.pos+s.len||!f&&D===s.pos?-1:1,H=s.staggerLines;this.isActive=!0,g&&(T=s.getPlotLinePath(h+O,g*P,n,!0),d===e&&(L={stroke:y,"stroke-width":g},b&&(L.dashstyle=b),l||(L.zIndex=1),n&&(L.opacity=0),i.gridLine=d=g?a.path(T).attr(L).add(s.gridGroup):null),!n&&d&&T&&d[i.isNew?"attr":"animate"]({d:T,opacity:r})),E&&w&&(x==="inside"&&(w=-w),s.opposite&&(w=-w),C=i.getMarkPath(_,D,w,E*P,f,a),N?N.animate({d:C,opacity:r}):i.mark=a.path(C).attr({stroke:S,"stroke-width":E,opacity:r}).add(s.axisGroup)),c&&!isNaN(_)&&(c.xy=M=i.getLabelPosition(_,D,c,f,p,O,t,k),i.isFirst&&!i.isLast&&!jt(o.showFirstLabel,1)||i.isLast&&!i.isFirst&&!jt(o.showLastLabel,1)?A=!1:!H&&f&&p.overflow==="justify"&&!i.handleOverflow(t,M)&&(A=!1),k&&t%k&&(A=!1),A&&!isNaN(M.y)?(M.opacity=r,c[i.isNew?"attr":"animate"](M),i.isNew=!1):c.attr("y",-9999))},destroy:function(){en(this,this.axis)}},In.prototype={render:function(){var e=this,t=e.axis,n=t.horiz,r=(t.pointRange||0)/2,i=e.options,s=i.label,o=e.label,f=i.width,l=i.to,c=i.from,h=Pt(c)&&Pt(l),p=i.value,d=i.dashStyle,v=e.svgElem,m=[],g,y,b,w,E,S,x=i.color,T=i.zIndex,N=i.events,C,k=t.chart.renderer;t.isLog&&(c=Mt(c),l=Mt(l),p=Mt(p));if(f)m=t.getPlotLinePath(p,f),C={stroke:x,"stroke-width":f},d&&(C.dashstyle=d);else{if(!h)return;c=u(c,t.min-r),l=a(l,t.max+r),m=t.getPlotBandPath(c,l,i),C={fill:x},i.borderWidth&&(C.stroke=i.borderColor,C["stroke-width"]=i.borderWidth)}Pt(T)&&(C.zIndex=T);if(v)m?v.animate({d:m},null,v.onGetPath):(v.hide(),v.onGetPath=function(){v.show()},o&&(e.label=o=o.destroy()));else if(m&&m.length){e.svgElem=v=k.path(m).attr(C).add();if(N){g=function(t){v.on(t,function(n){N[t].apply(e,[n])})};for(y in N)g(y)}}return s&&Pt(s.text)&&m&&m.length&&t.width>0&&t.height>0?(s=Tt({align:n&&h&&"center",x:n?!h&&4:10,verticalAlign:!n&&h&&"middle",y:n?h?16:10:h?6:-4,rotation:n&&!h&&90},s),o||(e.label=o=k.text(s.text,0,0,s.useHTML).attr({align:s.textAlign||s.align,rotation:s.rotation,zIndex:T}).css(s.style).add()),b=[m[1],m[4],jt(m[6],m[1])],w=[m[2],m[5],jt(m[7],m[2])],E=Yt(b),S=Yt(w),o.align(s,!1,{x:E,y:S,width:Zt(b)-E,height:Zt(w)-S}),o.show()):o&&o.hide(),e},destroy:function(){Dt(this.axis.plotLinesAndBands,this),delete this.axis,en(this)}},qn.prototype={destroy:function(){en(this,this.axis)},render:function(e){var t=this.options,n=t.format,r=n?Xt(n,this):t.formatter.call(this);this.label?this.label.attr({text:r,visibility:U}):this.label=this.axis.chart.renderer.text(r,0,0,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:U}).add(e)},setOffset:function(e,t){var n=this,r=n.axis,i=r.chart,s=i.inverted,o=this.isNegative,u=r.translate(this.percent?100:this.total,0,0,0,1),a=r.translate(0),l=f(u-a),c=i.xAxis[0].translate(this.x)+e,h=i.plotHeight,p={x:s?o?u:u-l:c,y:s?h-c-t:o?h-u-l:h-u,width:s?l:t,height:s?t:l},d=this.label,v;d&&(d.align(this.alignOptions,null,p),v=d.alignAttr,d.attr({visibility:this.options.crop===!1||i.isInsidePlot(v.x,v.y)?S?"inherit":W:U}))}},Rn.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:En,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#4d759e",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return Rt(this.total,-1)},style:En.style}},defaultLeftAxisOptions:{labels:{x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-5},title:{rotation:0}},init:function(t,n){var r=n.isX,i=this;i.horiz=t.inverted?!r:r,i.isXAxis=r,i.xOrY=r?"x":"y",i.opposite=n.opposite,i.side=i.horiz?i.opposite?0:2:i.opposite?1:3,i.setOptions(n);var s=this.options,o=s.type,u=o==="datetime";i.labelFormatter=s.labels.formatter||i.defaultLabelFormatter,i.userOptions=n,i.minPixelPadding=0,i.chart=t,i.reversed=s.reversed,i.zoomEnabled=s.zoomEnabled!==!1,i.categories=s.categories||o==="category",i.names=[],i.isLog=o==="logarithmic",i.isDatetimeAxis=u,i.isLinked=Pt(s.linkedTo),i.tickmarkOffset=i.categories&&s.tickmarkPlacement==="between"?.5:0,i.ticks={},i.minorTicks={},i.plotLinesAndBands=[],i.alternateBands={},i.len=0,i.minRange=i.userMinRange=s.minRange||s.maxZoom,i.range=s.range,i.offset=s.offset||0,i.stacks={},i.oldStacks={},i.stackExtremes={},i.max=null,i.min=null;var a,f=i.options.events;ln(i,t.axes)===-1&&(t.axes.push(i),t[r?"xAxis":"yAxis"].push(i)),i.series=i.series||[],t.inverted&&r&&i.reversed===e&&(i.reversed=!0),i.removePlotBand=i.removePlotBandOrLine,i.removePlotLine=i.removePlotBandOrLine;for(a in f)vn(i,a,f[a]);i.isLog&&(i.val2lin=Mt,i.lin2val=_t)},setOptions:function(e){this.options=Tt(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],Tt(O[this.isXAxis?"xAxis":"yAxis"],e))},update:function(t,n){var r=this.chart;t=r.options[this.xOrY+"Axis"][this.options.index]=Tt(this.userOptions,t),this.destroy(!0),this._addedPlotLB=this.userMin=this.userMax=e,this.init(r,xt(t,{events:e})),r.isDirtyBox=!0,jt(n,!0)&&r.redraw()},remove:function(e){var t=this.chart,n=this.xOrY+"Axis";cn(this.series,function(e){e.remove(!1)}),Dt(t.axes,this),Dt(t[n],this),t.options[n].splice(this.options.index,1),cn(t[n],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,jt(e,!0)&&t.redraw()},defaultLabelFormatter:function(){var t=this.axis,n=this.value,r=t.categories,i=this.dateTimeLabelFormat,s=O.lang.numericSymbols,o=s&&s.length,u,a,f=t.options.labels.format,l=t.isLog?n:t.tickInterval;if(f)a=Xt(f,this);else if(r)a=n;else if(i)a=M(i,n);else if(o&&l>=1e3)while(o--&&a===e)u=Math.pow(1e3,o+1),l>=u&&s[o]!==null&&(a=Rt(n/u,-1)+s[o]);return a===e&&(n>=1e3?a=Rt(n,0):a=Rt(n,-1)),a},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=null,e.stackExtremes={},e.buildStacks(),cn(e.series,function(n){if(n.visible||!t.options.chart.ignoreHiddenSeries){var r=n.options,i,s=r.threshold,o,f;e.hasVisibleSeries=!0,e.isLog&&s<=0&&(s=null),e.isXAxis?(i=n.xData,i.length&&(e.dataMin=a(jt(e.dataMin,i[0]),Yt(i)),e.dataMax=u(jt(e.dataMax,i[0]),Zt(i)))):(n.getExtremes(),f=n.dataMax,o=n.dataMin,Pt(o)&&Pt(f)&&(e.dataMin=a(jt(e.dataMin,o),o),e.dataMax=u(jt(e.dataMax,f),f)),Pt(s)&&(e.dataMin>=s?(e.dataMin=s,e.ignoreMinPadding=!0):e.dataMax<s&&(e.dataMax=s,e.ignoreMaxPadding=!0)))}})},translate:function(e,t,n,r,i,s){var o=this,u=o.len,a=1,f=0,l=r?o.oldTransA:o.transA,c=r?o.oldMin:o.min,h,p=o.minPixelPadding,d=(o.options.ordinal||o.isLog&&i)&&o.lin2val;return l||(l=o.transA),n&&(a*=-1,f=u),o.reversed&&(a*=-1,f-=a*u),t?(e=e*a+f,e-=p,h=e/l+c,d&&(h=o.lin2val(h))):(d&&(e=o.val2lin(e)),s==="between"&&(s=.5),h=a*(e-c)*l+f+a*p+(Ot(s)?l*s*o.pointRange:0)),h},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,r){var s=this,o=s.chart,u=s.left,a=s.top,f,l,c,h,p=s.translate(e,null,null,n),d=n&&o.oldChartHeight||o.chartHeight,v=n&&o.oldChartWidth||o.chartWidth,m,g=s.transB;f=c=i(p+g),l=h=i(d-p-g);if(isNaN(p))m=!0;else if(s.horiz){l=a,h=d-s.bottom;if(f<u||f>u+s.width)m=!0}else{f=u,c=v-s.right;if(l<a||l>a+s.height)m=!0}return m&&!r?null:o.renderer.crispLine([$,f,l,J,c,h],t||0)},getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t),r=this.getPlotLinePath(e);return r&&n?r.push(n[4],n[5],n[1],n[2]):r=null,r},getLinearTickPositions:function(e,t,n){var r,i,u=rn(s(t/e)*e),a=rn(o(n/e)*e),f=[];r=u;while(r<=a){f.push(r),r=rn(r+e);if(r===i)break;i=r}return f},getLogTickPositions:function(e,t,n,r){var o=this,u=o.options,a=o.len,f=[];r||(o._minorAutoInterval=null);if(e>=.5)e=i(e),f=o.getLinearTickPositions(e,t,n);else if(e>=.08){var l=s(t),c,h,p,d,v,m,g;e>.3?c=[1,2,4]:e>.15?c=[1,2,4,6,8]:c=[1,2,3,4,5,6,7,8,9];for(h=l;h<n+1&&!g;h++){d=c.length;for(p=0;p<d&&!g;p++)v=Mt(_t(h)*c[p]),v>t&&(!r||m<=n)&&f.push(m),m>n&&(g=!0),m=v}}else{var y=_t(t),b=_t(n),w=u[r?"minorTickInterval":"tickInterval"],E=w==="auto"?null:w,S=u.tickPixelInterval/(r?5:1),x=r?a/o.tickPositions.length:a;e=jt(E,o._minorAutoInterval,(b-y)*S/(x||1)),e=$t(e,null,Vt(e)),f=dn(o.getLinearTickPositions(e,y,b),Mt),r||(o._minorAutoInterval=e/5)}return r||(o.tickInterval=e),f},getMinorTickPositions:function(){var e=this,t=e.options,n=e.tickPositions,r=e.minorTickInterval,i=[],s,o,u;if(e.isLog){u=n.length;for(o=1;o<u;o++)i=i.concat(e.getLogTickPositions(r,n[o-1],n[o],!0))}else if(e.isDatetimeAxis&&t.minorTickInterval==="auto")i=i.concat(Kt(Jt(r),e.min,e.max,t.startOfWeek)),i[0]<e.min&&i.shift();else for(s=e.min+(n[0]-e.min)%r;s<=e.max;s+=r)i.push(s);return i},adjustForMinRange:function(){var t=this,n=t.options,r=t.min,i=t.max,s,o=t.dataMax-t.dataMin>=t.minRange,u,f,l,c,h,p,d;t.isXAxis&&t.minRange===e&&!t.isLog&&(Pt(n.min)||Pt(n.max)?t.minRange=null:(cn(t.series,function(t){c=t.xData,h=t.xIncrement?1:c.length-1;for(f=h;f>0;f--){l=c[f]-c[f-1];if(u===e||l<u)u=l}}),t.minRange=a(u*5,t.dataMax-t.dataMin)));if(i-r<t.minRange){var v=t.minRange;s=(v-i+r)/2,p=[r-s,jt(n.min,r-s)],o&&(p[2]=t.dataMin),r=Zt(p),d=[r+v,jt(n.max,r+v)],o&&(d[2]=t.dataMax),i=Yt(d),i-r<v&&(p[0]=i-v,p[1]=jt(n.min,i-v),r=Zt(p))}t.min=r,t.max=i},setAxisTranslation:function(e){var t=this,n=t.max-t.min,r=0,i,s=0,o=0,f=t.linkedParent,l,c=t.transA;t.isXAxis&&(f?(s=f.minPointOffset,o=f.pointRangePadding):cn(t.series,function(e){var t=e.pointRange,f=e.options.pointPlacement,l=e.closestPointRange;t>n&&(t=0),r=u(r,t),s=u(s,kt(f)?0:t/2),o=u(o,f==="on"?0:t),!e.noSharedTooltip&&Pt(l)&&(i=Pt(i)?a(i,l):l)}),l=t.ordinalSlope&&i?t.ordinalSlope/i:1,t.minPointOffset=s*=l,t.pointRangePadding=o*=l,t.pointRange=a(r,n),t.closestPointRange=i),e&&(t.oldTransA=c),t.translationSlope=t.transA=c=t.len/(n+o||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=c*s},setTickPositions:function(e){var t=this,n=t.chart,r=t.options,i=t.isLog,s=t.isDatetimeAxis,o=t.isXAxis,f=t.isLinked,l=t.options.tickPositioner,c=r.maxPadding,h=r.minPadding,p,d,v=r.tickInterval,m=r.minTickInterval,g=r.tickPixelInterval,y,b,w=t.categories;f?(t.linkedParent=n[o?"xAxis":"yAxis"][r.linkedTo],d=t.linkedParent.getExtremes(),t.min=jt(d.min,d.dataMin),t.max=jt(d.max,d.dataMax),r.type!==t.linkedParent.options.type&&nn(11,1)):(t.min=jt(t.userMin,r.min,t.dataMin),t.max=jt(t.userMax,r.max,t.dataMax)),i&&(!e&&a(t.min,jt(t.dataMin,t.min))<=0&&nn(10,1),t.min=rn(Mt(t.min)),t.max=rn(Mt(t.max))),t.range&&(t.userMin=t.min=u(t.min,t.max-t.range),t.userMax=t.max,e&&(t.range=null)),t.beforePadding&&t.beforePadding(),t.adjustForMinRange(),!w&&!t.usePercentage&&!f&&Pt(t.min)&&Pt(t.max)&&(p=t.max-t.min,p&&(!Pt(r.min)&&!Pt(t.userMin)&&h&&(t.dataMin<0||!t.ignoreMinPadding)&&(t.min-=p*h),!Pt(r.max)&&!Pt(t.userMax)&&c&&(t.dataMax>0||!t.ignoreMaxPadding)&&(t.max+=p*c))),t.min===t.max||t.min===undefined||t.max===undefined?t.tickInterval=1:f&&!v&&g===t.linkedParent.options.tickPixelInterval?t.tickInterval=t.linkedParent.tickInterval:(t.tickInterval=jt(v,w?1:(t.max-t.min)*g/u(t.len,g)),!Pt(v)&&t.len<g&&!this.isRadial&&(b=!0,t.tickInterval/=4)),o&&!e&&cn(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)}),t.setAxisTranslation(!0),t.beforeSetTickPositions&&t.beforeSetTickPositions(),t.postProcessTickInterval&&(t.tickInterval=t.postProcessTickInterval(t.tickInterval)),t.pointRange&&(t.tickInterval=u(t.pointRange,t.tickInterval)),!v&&t.tickInterval<m&&(t.tickInterval=m),!s&&!i&&(v||(t.tickInterval=$t(t.tickInterval,null,Vt(t.tickInterval),r))),t.minorTickInterval=r.minorTickInterval==="auto"&&t.tickInterval?t.tickInterval/5:r.minorTickInterval,t.tickPositions=y=r.tickPositions?[].concat(r.tickPositions):l&&l.apply(t,[t.min,t.max]),y||(!t.ordinalPositions&&(t.max-t.min)/t.tickInterval>u(2*t.len,200)&&nn(19,!0),s?y=(t.getNonLinearTimeTicks||Kt)(Jt(t.tickInterval,r.units),t.min,t.max,r.startOfWeek,t.ordinalPositions,t.closestPointRange,!0):i?y=t.getLogTickPositions(t.tickInterval,t.min,t.max):y=t.getLinearTickPositions(t.tickInterval,t.min,t.max),b&&y.splice(1,y.length-2),t.tickPositions=y);if(!f){var E=y[0],S=y[y.length-1],x=t.minPointOffset||0,T;r.startOnTick?t.min=E:t.min-x>E&&y.shift(),r.endOnTick?t.max=S:t.max+x<S&&y.pop(),y.length===1&&(T=.001,t.min-=T,t.max+=T)}},setMaxTicks:function(){var e=this.chart,t=e.maxTicks||{},n=this.tickPositions,r=this._maxTicksKey=[this.xOrY,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&n&&n.length>(t[r]||0)&&this.options.alignTicks!==!1&&(t[r]=n.length),e.maxTicks=t},adjustTickAmount:function(){var e=this,t=e.chart,n=e._maxTicksKey,r=e.tickPositions,i=t.maxTicks;if(i&&i[n]&&!e.isDatetimeAxis&&!e.categories&&!e.isLinked&&e.options.alignTicks!==!1){var s=e.tickAmount,o=r.length,u;e.tickAmount=u=i[n];if(o<u){while(r.length<u)r.push(rn(r[r.length-1]+e.tickInterval));e.transA*=(o-1)/(u-1),e.max=r[r.length-1]}Pt(s)&&u!==s&&(e.isDirty=!0)}},setScale:function(){var e=this,t=e.stacks,n,r,i,s;e.oldMin=e.min,e.oldMax=e.max,e.oldAxisLength=e.len,e.setAxisSize(),s=e.len!==e.oldAxisLength,cn(e.series,function(e){if(e.isDirtyData||e.isDirty||e.xAxis.isDirty)i=!0});if(s||i||e.isLinked||e.forceRedraw||e.userMin!==e.oldUserMin||e.userMax!==e.oldUserMax){if(!e.isXAxis)for(n in t)for(r in t[n])t[n][r].total=null,t[n][r].cum=0;e.forceRedraw=!1,e.getSeriesExtremes(),e.setTickPositions(),e.oldUserMin=e.userMin,e.oldUserMax=e.userMax,e.isDirty||(e.isDirty=s||e.min!==e.oldMin||e.max!==e.oldMax)}else if(!e.isXAxis){e.oldStacks&&(t=e.stacks=e.oldStacks);for(n in t)for(r in t[n])t[n][r].cum=t[n][r].total}e.setMaxTicks()},setExtremes:function(e,t,n,r,i){var s=this,o=s.chart;n=jt(n,!0),i=xt(i,{min:e,max:t}),gn(s,"setExtremes",i,function(){s.userMin=e,s.userMax=t,s.eventArgs=i,s.isDirtyExtremes=!0,n&&o.redraw(r)})},zoom:function(t,n){return this.allowZoomOutside||(Pt(this.dataMin)&&t<=this.dataMin&&(t=e),Pt(this.dataMax)&&n>=this.dataMax&&(n=e)),this.displayBtn=t!==e||n!==e,this.setExtremes(t,n,!1,e,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,n=t.offsetLeft||0,r=t.offsetRight||0,i=this.horiz,s,o,a,f;this.left=f=jt(t.left,e.plotLeft+n),this.top=a=jt(t.top,e.plotTop),this.width=s=jt(t.width,e.plotWidth-n+r),this.height=o=jt(t.height,e.plotHeight),this.bottom=e.chartHeight-o-a,this.right=e.chartWidth-s-f,this.len=u(i?s:o,0),this.pos=i?f:a},getExtremes:function(){var e=this,t=e.isLog;return{min:t?rn(_t(e.min)):e.min,max:t?rn(_t(e.max)):e.max,dataMin:e.dataMin,dataMax:e.dataMax,userMin:e.userMin,userMax:e.userMax}},getThreshold:function(e){var t=this,n=t.isLog,r=n?_t(t.min):t.min,i=n?_t(t.max):t.max;return r>e||e===null?e=r:i<e&&(e=i),t.translate(e,0,1,0,1)},addPlotBand:function(e){this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=(new In(this,e)).render(),r=this.userOptions;return n&&(t&&(r[t]=r[t]||[],r[t].push(e)),this.plotLinesAndBands.push(n)),n},autoLabelAlign:function(e){var t,n=(jt(e,0)-this.side*90+720)%360;return n>15&&n<165?t="right":n>195&&n<345?t="left":t="center",t},getOffset:function(){var t=this,n=t.chart,r=n.renderer,i=t.options,o=t.tickPositions,a=t.ticks,f=t.horiz,l=t.side,c=n.inverted?[1,0,3,2][l]:l,h,p,d=0,v,m=0,g=i.title,y=i.labels,b=0,w=n.axisOffset,E=n.clipOffset,S=[-1,1,1,-1][l],x,T,N=1,C=jt(y.maxStaggerLines,5),k,L,A,O,M,_,D,P;t.hasData=h=t.hasVisibleSeries||Pt(t.min)&&Pt(t.max)&&!!o,t.showAxis=p=h||jt(i.showEmpty,!0),t.staggerLines=t.horiz&&y.staggerLines,t.axisGroup||(t.gridGroup=r.g("grid").attr({zIndex:i.gridZIndex||1}).add(),t.axisGroup=r.g("axis").attr({zIndex:i.zIndex||2}).add(),t.labelGroup=r.g("axis-labels").attr({zIndex:y.zIndex||7}).add());if(h||t.isLinked){t.labelAlign=jt(y.align||t.autoLabelAlign(y.rotation)),cn(o,function(e){a[e]?a[e].addLabel():a[e]=new Fn(t,e)});if(t.horiz&&!t.staggerLines&&C&&!y.rotation){k=t.reversed?[].concat(o).reverse():o;while(N<C){L=[],A=!1;for(T=0;T<k.length;T++)O=k[T],M=a[O].label&&a[O].label.getBBox(),D=M?M.width:0,P=T%N,D&&(_=t.translate(O),L[P]!==e&&_<L[P]&&(A=!0),L[P]=_+D);if(!A)break;N++}N>1&&(t.staggerLines=N)}cn(o,function(e){if(l===0||l===2||{1:"left",3:"right"}[l]===t.labelAlign)b=u(a[e].getLabelSize(),b)}),t.staggerLines&&(b*=t.staggerLines,t.labelOffset=b)}else for(x in a)a[x].destroy(),delete a[x];g&&g.text&&g.enabled!==!1&&(t.axisTitle||(t.axisTitle=r.text(g.text,0,0,g.useHTML).attr({zIndex:7,rotation:g.rotation||0,align:g.textAlign||{low:"left",middle:"center",high:"right"}[g.align]}).css(g.style).add(t.axisGroup),t.axisTitle.isNew=!0),p&&(d=t.axisTitle.getBBox()[f?"height":"width"],m=jt(g.margin,f?5:10),v=g.offset),t.axisTitle[p?"show":"hide"]()),t.offset=S*jt(i.offset,w[l]),t.axisTitleMargin=jt(v,b+m+(l!==2&&b&&S*i.labels[f?"y":"x"])),w[l]=u(w[l],t.axisTitleMargin+d+S*t.offset),E[c]=u(E[c],s(i.lineWidth/2)*2)},getLinePath:function(e){var t=this.chart,n=this.opposite,r=this.offset,i=this.horiz,s=this.left+(n?this.width:0)+r,o=t.chartHeight-this.bottom-(n?this.height:0)+r;return n&&(e*=-1),t.renderer.crispLine([$,i?this.left:s,i?o:this.top,J,i?t.chartWidth-this.right:s,i?o:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,n=this.top,r=this.len,i=this.options.title,s=e?t:n,o=this.opposite,u=this.offset,a=Ct(i.style.fontSize||12),f={low:s+(e?0:r),middle:s+r/2,high:s+(e?r:0)}[i.align],l=(e?n+this.height:t)+(e?1:-1)*(o?-1:1)*this.axisTitleMargin+(this.side===2?a:0);return{x:e?f:l+(o?this.width:0)+u+(i.x||0),y:e?l-(o?this.height:0)+u:f+(i.y||0)}},render:function(){var t=this,n=t.chart,r=n.renderer,i=t.options,s=t.isLog,o=t.isLinked,u=t.tickPositions,a=t.axisTitle,f=t.stacks,l=t.ticks,c=t.minorTicks,h=t.alternateBands,p=i.stackLabels,d=i.alternateGridColor,v=t.tickmarkOffset,m=i.lineWidth,g,y=n.hasRendered,b=y&&Pt(t.oldMin)&&!isNaN(t.oldMin),w=t.hasData,E=t.showAxis,S,x;cn([l,c,h],function(e){var t;for(t in e)e[t].isActive=!1});if(w||o)t.minorTickInterval&&!t.categories&&cn(t.getMinorTickPositions(),function(e){c[e]||(c[e]=new Fn(t,e,"minor")),b&&c[e].isNew&&c[e].render(null,!0),c[e].render(null,!1,1)}),u.length&&(cn(u.slice(1).concat([u[0]]),function(e,n){n=n===u.length-1?0:n+1;if(!o||e>=t.min&&e<=t.max)l[e]||(l[e]=new Fn(t,e)),b&&l[e].isNew&&l[e].render(n,!0),l[e].render(n,!1,1)}),v&&t.min===0&&(l[-1]||(l[-1]=new Fn(t,-1,null,!0)),l[-1].render(-1))),d&&cn(u,function(n,r){r%2===0&&n<t.max&&(h[n]||(h[n]=new In(t)),S=n+v,x=u[r+1]!==e?u[r+1]+v:t.max,h[n].options={from:s?_t(S):S,to:s?_t(x):x,color:d},h[n].render(),h[n].isActive=!0)}),t._addedPlotLB||(cn((i.plotLines||[]).concat(i.plotBands||[]),function(e){t.addPlotBandOrLine(e)}),t._addedPlotLB=!0);cn([l,c,h],function(e){var t,r,i=[],s=_?_.duration||500:0,o=function(){r=i.length;while(r--)e[i[r]]&&!e[i[r]].isActive&&(e[i[r]].destroy(),delete e[i[r]])};for(t in e)e[t].isActive||(e[t].render(t,!1,0),e[t].isActive=!1,i.push(t));e===h||!n.hasRendered||!s?o():s&&setTimeout(o,s)}),m&&(g=t.getLinePath(m),t.axisLine?t.axisLine.animate({d:g}):t.axisLine=r.path(g).attr({stroke:i.lineColor,"stroke-width":m,zIndex:7}).add(t.axisGroup),t.axisLine[E?"show":"hide"]()),a&&E&&(a[a.isNew?"attr":"animate"](t.getTitlePosition()),a.isNew=!1);if(p&&p.enabled){var T,N,C,k=t.stackTotalGroup;k||(t.stackTotalGroup=k=r.g("stack-labels").attr({visibility:W,zIndex:6}).add()),k.translate(n.plotLeft,n.plotTop);for(T in f){N=f[T];for(C in N)N[C].render(k)}}t.isDirty=!1},removePlotBandOrLine:function(e){var t=this.plotLinesAndBands,n=this.options,r=this.userOptions,i=t.length;while(i--)t[i].id===e&&t[i].destroy();cn([n.plotLines||[],r.plotLines||[],n.plotBands||[],r.plotBands||[]],function(t){i=t.length;while(i--)t[i].id===e&&Dt(t,t[i])})},setTitle:function(e,t){this.update({title:e},t)},redraw:function(){var e=this,t=e.chart,n=t.pointer;n.reset&&n.reset(!0),e.render(),cn(e.plotLinesAndBands,function(e){e.render()}),cn(e.series,function(e){e.isDirty=!0})},buildStacks:function(){var e=this.series,t=e.length;if(!this.isXAxis){while(t--)e[t].setStackedPoints();if(this.usePercentage)for(t=0;t<e.length;t++)e[t].setPercentStacks()}},setCategories:function(e,t){this.update({categories:e},t)},destroy:function(e){var t=this,n=t.stacks,r,i=t.plotLinesAndBands,s;e||mn(t);for(r in n)en(n[r]),n[r]=null;cn([t.ticks,t.minorTicks,t.alternateBands],function(e){en(e)}),s=i.length;while(s--)i[s].destroy();cn(["stackTotalGroup","axisLine","axisGroup","gridGroup","labelGroup","axisTitle"],function(e){t[e]&&(t[e]=t[e].destroy())})}},Un.prototype={init:function(e,t){var n=t.borderWidth,r=t.style,i=Ct(r.padding);this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.label=e.renderer.label("",0,0,t.shape,null,null,t.useHTML,null,"tooltip").attr({padding:i,fill:t.backgroundColor,"stroke-width":n,r:t.borderRadius,zIndex:8}).css(r).css({padding:0}).add().attr({y:-999}),T||this.label.shadow(t.shadow),this.shared=t.shared},destroy:function(){cn(this.crosshairs,function(e){e&&e.destroy()}),this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(e,t,n,r){var i=this,s=i.now,o=i.options.animation!==!1&&!i.isHidden;xt(s,{x:o?(2*s.x+e)/3:e,y:o?(s.y+t)/2:t,anchorX:o?(2*s.anchorX+n)/3:n,anchorY:o?(s.anchorY+r)/2:r}),i.label.attr(s),o&&(f(e-s.x)>1||f(t-s.y)>1)&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){i&&i.move(e,t,n,r)},32))},hide:function(){var e=this,t;clearTimeout(this.hideTimer),this.isHidden||(t=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){e.label.fadeOut(),e.isHidden=!0},jt(this.options.hideDelay,500)),t&&cn(t,function(e){e.setState()}),this.chart.hoverPoints=null)},hideCrosshairs:function(){cn(this.crosshairs,function(e){e&&e.hide()})},getAnchor:function(t,n){var r,s=this.chart,o=s.inverted,u=s.plotTop,a=0,f=0,l;return t=Bt(t),r=t[0].tooltipPos,this.followPointer&&n&&(n.chartX===e&&(n=s.pointer.normalize(n)),r=[n.chartX-s.plotLeft,n.chartY-u]),r||(cn(t,function(e){l=e.series.yAxis,a+=e.plotX,f+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!o&&l?l.top-u:0)}),a/=t.length,f/=t.length,r=[o?s.plotWidth-f:a,this.shared&&!o&&t.length>1&&n?n.chartY-u:o?s.plotHeight-a:f]),dn(r,i)},getPosition:function(e,t,n){var r=this.chart,i=r.plotLeft,s=r.plotTop,o=r.plotWidth,a=r.plotHeight,f=jt(this.options.distance,12),l=n.plotX,c=n.plotY,h=l+i+(r.inverted?f:-e-f),p=c-t+s+15,d;return h<7&&(h=i+u(l,0)+f),h+e>i+o&&(h-=h+e-(i+o),p=c-t+s-f,d=!0),p<s+5&&(p=s+5,d&&c>=p&&c<=p+t&&(p=c+s+f)),p+t>s+a&&(p=u(s,s+a-t-f)),{x:h,y:p}},defaultFormatter:function(e){var t=this.points||Bt(this),n=t[0].series,r;return r=[n.tooltipHeaderFormatter(t[0])],cn(t,function(e){n=e.series,r.push(n.tooltipFormatter&&n.tooltipFormatter(e)||e.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),r.push(e.options.footerFormat||""),r.join("")},refresh:function(e,t){var n=this,r=n.chart,i=n.label,s=n.options,o,u,a,f={},l,c=[],h=s.formatter||n.defaultFormatter,p=r.hoverPoints,d,v=s.crosshairs,m=n.shared,g;clearTimeout(this.hideTimer),n.followPointer=Bt(e)[0].series.tooltipOptions.followPointer,a=n.getAnchor(e,t),o=a[0],u=a[1],m&&(!e.series||!e.series.noSharedTooltip)?(r.hoverPoints=e,p&&cn(p,function(e){e.setState()}),cn(e,function(e){e.setState(G),c.push(e.getLabelConfig())}),f={x:e[0].category,y:e[0].y},f.points=c,e=e[0]):f=e.getLabelConfig(),l=h.call(f,n),g=e.series,l===!1?this.hide():(n.isHidden&&(wn(i),i.attr("opacity",1).show()),i.attr({text:l}),d=s.borderColor||e.color||g.color||"#606060",i.attr({stroke:d}),n.updatePosition({plotX:o,plotY:u}),this.isHidden=!1);if(v){v=Bt(v);var y,b=v.length,w,E,S,x;while(b--)x=e.series,E=x[b?"yAxis":"xAxis"],v[b]&&E&&(S=b?jt(e.stackY,e.y):e.x,E.isLog&&(S=Mt(S)),b===1&&x.modifyValue&&(S=x.modifyValue(S)),y=E.getPlotLinePath(S,1),n.crosshairs[b]?n.crosshairs[b].attr({d:y,visibility:W}):(w={"stroke-width":v[b].width||1,stroke:v[b].color||"#C0C0C0",zIndex:v[b].zIndex||2},v[b].dashStyle&&(w.dashstyle=v[b].dashStyle),n.crosshairs[b]=r.renderer.path(y).attr(w).add()))}gn(r,"tooltipRefresh",{text:l,x:o+r.plotLeft,y:u+r.plotTop,borderColor:d})},updatePosition:function(e){var t=this.chart,n=this.label,r=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(i(r.x),i(r.y),e.plotX+t.plotLeft,e.plotY+t.plotTop)}},zn.prototype={init:function(e,t){var n=t.chart,r=n.events,i=T?"":n.zoomType,s=e.inverted,o,u;this.options=t,this.chart=e,this.zoomX=o=/x/.test(i),this.zoomY=u=/y/.test(i),this.zoomHor=o&&!s||u&&s,this.zoomVert=u&&!s||o&&s,this.runChartClick=r&&!!r.click,this.pinchDown=[],this.lastValidTouch={},t.tooltip.enabled&&(e.tooltip=new Un(e,t.tooltip)),this.setDOMEvents()},normalize:function(t,r){var s,o,a;return t=t||n.event,t.target||(t.target=t.srcElement),t=yn(t),a=t.touches?t.touches.item(0):t,r||(this.chartPosition=r=pn(this.chart.container)),a.pageX===e?(s=u(t.x,t.clientX-r.left),o=t.y):(s=a.pageX-r.left,o=a.pageY-r.top),xt(t,{chartX:i(s),chartY:i(o)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return cn(this.chart.axes,function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})}),t},getIndex:function(e){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-e.chartY:e.chartX-t.plotLeft},runPointActions:function(e){var t=this,n=t.chart,r=n.series,i=n.tooltip,s,o,u=n.hoverPoint,l=n.hoverSeries,c,h,p=n.chartWidth,d=t.getIndex(e),v;if(i&&t.options.tooltip.shared&&(!l||!l.noSharedTooltip)){o=[],c=r.length;for(h=0;h<c;h++)r[h].visible&&r[h].options.enableMouseTracking!==!1&&!r[h].noSharedTooltip&&r[h].tooltipPoints.length&&(s=r[h].tooltipPoints[d],s&&s.series&&(s._dist=f(d-s.clientX),p=a(p,s._dist),o.push(s)));c=o.length;while(c--)o[c]._dist>p&&o.splice(c,1);o.length&&o[0].clientX!==t.hoverX&&(i.refresh(o,e),t.hoverX=o[0].clientX)}l&&l.tracker?(s=l.tooltipPoints[d],s&&s!==u&&s.onMouseOver(e)):i&&i.followPointer&&!i.isHidden&&(v=i.getAnchor([{}],e),i.updatePosition({plotX:v[0],plotY:v[1]}))},reset:function(t){var n=this,r=n.chart,i=r.hoverSeries,s=r.hoverPoint,o=r.tooltip,u=o&&o.shared?r.hoverPoints:s;t=t&&o&&u,t&&Bt(u)[0].plotX===e&&(t=!1),t?o.refresh(u):(s&&s.onMouseOut(),i&&i.onMouseOut(),o&&(o.hide(),o.hideCrosshairs()),n.hoverX=null)},scaleGroups:function(e,t){var n=this.chart,r;cn(n.series,function(i){r=e||i.getPlotBox(),i.xAxis&&i.xAxis.zoomEnabled&&(i.group.attr(r),i.markerGroup&&(i.markerGroup.attr(r),i.markerGroup.clip(t?n.clipRect:null)),i.dataLabelsGroup&&i.dataLabelsGroup.attr(r))}),n.clipRect.attr(t||n.clipBox)},pinchTranslate:function(e,t,n,r,i,s,o,u){e&&this.pinchTranslateDirection(!0,n,r,i,s,o,u),t&&this.pinchTranslateDirection(!1,n,r,i,s,o,u)},pinchTranslateDirection:function(e,t,n,r,i,s,o,u){var a=this.chart,l=e?"x":"y",c=e?"X":"Y",h="chart"+c,p=e?"width":"height",d=a["plot"+(e?"Left":"Top")],v,m,g,y=u||1,b=a.inverted,w=a.bounds[e?"h":"v"],E=t.length===1,S=t[0][h],x=n[0][h],T=!E&&t[1][h],N=!E&&n[1][h],C,k,L,A=function(){!E&&f(S-T)>20&&(y=u||f(x-N)/f(S-T)),g=(d-x)/y+S,v=a["plot"+(e?"Width":"Height")]/y};A(),m=g,m<w.min?(m=w.min,C=!0):m+v>w.max&&(m=w.max-v,C=!0),C?(x-=.8*(x-o[l][0]),E||(N-=.8*(N-o[l][1])),A()):o[l]=[x,N],b||(s[l]=g-d,s[p]=v),L=b?e?"scaleY":"scaleX":"scale"+c,k=b?1/y:y,i[p]=v,i[l]=m,r[L]=y,r["translate"+c]=k*d+(x-k*S)},pinch:function(e){var t=this,n=t.chart,r=t.pinchDown,i=n.tooltip&&n.tooltip.options.followTouchMove,s=e.touches,o=s.length,f=t.lastValidTouch,l=t.zoomHor||t.pinchHor,c=t.zoomVert||t.pinchVert,h=l||c,p=t.selectionMarker,d={},v=o===1&&(t.inClass(e.target,z+"tracker")&&n.runTrackerClick||n.runChartClick),m={};(h||i)&&!v&&e.preventDefault(),dn(s,function(e){return t.normalize(e)}),e.type==="touchstart"?(cn(s,function(e,t){r[t]={chartX:e.chartX,chartY:e.chartY}}),f.x=[r[0].chartX,r[1]&&r[1].chartX],f.y=[r[0].chartY,r[1]&&r[1].chartY],cn(n.axes,function(e){if(e.zoomEnabled){var t=n.bounds[e.horiz?"h":"v"],r=e.minPixelPadding,i=e.toPixels(e.dataMin),s=e.toPixels(e.dataMax),o=a(i,s),f=u(i,s);t.min=a(e.pos,o-r),t.max=u(e.pos+e.len,f+r)}})):r.length&&(p||(t.selectionMarker=p=xt({destroy:H},n.plotBox)),t.pinchTranslate(l,c,r,s,d,p,m,f),t.hasPinched=h,t.scaleGroups(d,m),!h&&i&&o===1&&this.runPointActions(t.normalize(e)))},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t=this.chart,n=t.options.chart,r=e.chartX,i=e.chartY,s=this.zoomHor,o=this.zoomVert,u=t.plotLeft,a=t.plotTop,l=t.plotWidth,c=t.plotHeight,h,p,d=this.mouseDownX,v=this.mouseDownY;r<u?r=u:r>u+l&&(r=u+l),i<a?i=a:i>a+c&&(i=a+c),this.hasDragged=Math.sqrt(Math.pow(d-r,2)+Math.pow(v-i,2)),this.hasDragged>10&&(h=t.isInsidePlot(d-u,v-a),t.hasCartesianSeries&&(this.zoomX||this.zoomY)&&h&&(this.selectionMarker||(this.selectionMarker=t.renderer.rect(u,a,s?1:l,o?1:c,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add())),this.selectionMarker&&s&&(p=r-d,this.selectionMarker.attr({width:f(p),x:(p>0?0:p)+d})),this.selectionMarker&&o&&(p=i-v,this.selectionMarker.attr({height:f(p),y:(p>0?0:p)+v})),h&&!this.selectionMarker&&n.panning&&t.pan(e,n.panning))},drop:function(e){var t=this.chart,n=this.hasPinched;if(this.selectionMarker){var r={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e},i=this.selectionMarker,s=i.x,o=i.y,f;if(this.hasDragged||n)cn(t.axes,function(e){if(e.zoomEnabled){var t=e.horiz,n=e.toValue(t?s:o),l=e.toValue(t?s+i.width:o+i.height);!isNaN(n)&&!isNaN(l)&&(r[e.xOrY+"Axis"].push({axis:e,min:a(n,l),max:u(n,l)}),f=!0)}}),f&&gn(t,"selection",r,function(e){t.zoom(xt(e,n?{animation:!1}:null))});this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}t&&(Ft(t.container,{cursor:t._cursor}),t.cancelClick=this.hasDragged>10,t.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){this.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition,r=t.hoverSeries;e=this.normalize(e,n),n&&r&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&this.reset()},onContainerMouseLeave:function(){this.reset(),this.chartPosition=null},onContainerMouseMove:function(e){var t=this.chart;e=this.normalize(e),e.returnValue=!1,t.mouseIsDown==="mousedown"&&this.drag(e),(this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){var n;while(e){n=Ht(e,"class");if(n){if(n.indexOf(t)!==-1)return!0;if(n.indexOf(z+"container")!==-1)return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries;t&&!t.options.stickyTracking&&!this.inClass(e.toElement||e.relatedTarget,z+"tooltip")&&t.onMouseOut()},onContainerClick:function(e){var t=this.chart,n=t.hoverPoint,r=t.plotLeft,i=t.plotTop,s=t.inverted,o,u,a;e=this.normalize(e),e.cancelBubble=!0,t.cancelClick||(n&&this.inClass(e.target,z+"tracker")?(o=this.chartPosition,u=n.plotX,a=n.plotY,xt(n,{pageX:o.left+r+(s?t.plotWidth-a:u),pageY:o.top+i+(s?t.plotHeight-u:a)}),gn(n.series,"click",xt(e,{point:n})),t.hoverPoint&&n.firePointEvent("click",e)):(xt(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-r,e.chartY-i)&&gn(t,"click",e)))},onContainerTouchStart:function(e){var t=this.chart;e.touches.length===1?(e=this.normalize(e),t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)?(this.runPointActions(e),this.pinch(e)):this.reset()):e.touches.length===2&&this.pinch(e)},onContainerTouchMove:function(e){(e.touches.length===1||e.touches.length===2)&&this.pinch(e)},onDocumentTouchEnd:function(e){this.drop(e)},setDOMEvents:function(){var e=this,n=e.chart.container,r;this._events=r=[[n,"onmousedown","onContainerMouseDown"],[n,"onmousemove","onContainerMouseMove"],[n,"onclick","onContainerClick"],[n,"mouseleave","onContainerMouseLeave"],[t,"mousemove","onDocumentMouseMove"],[t,"mouseup","onDocumentMouseUp"]],C&&r.push([n,"ontouchstart","onContainerTouchStart"],[n,"ontouchmove","onContainerTouchMove"],[t,"touchend","onDocumentTouchEnd"]),cn(r,function(t){e["_"+t[2]]=function(n){e[t[2]](n)},t[1].indexOf("on")===0?t[0][t[1]]=e["_"+t[2]]:vn(t[0],t[1],e["_"+t[2]])})},destroy:function(){var e=this;cn(e._events,function(t){t[1].indexOf("on")===0?t[0][t[1]]=null:mn(t[0],t[1],e["_"+t[2]])}),delete e._events,clearInterval(e.tooltipTimeout)}},Wn.prototype={init:function(e,t){var n=this,r=t.itemStyle,i=jt(t.padding,8),s=t.itemMarginTop||0;this.options=t;if(!t.enabled)return;n.baseline=Ct(r.fontSize)+3+s,n.itemStyle=r,n.itemHiddenStyle=Tt(r,t.itemHiddenStyle),n.itemMarginTop=s,n.padding=i,n.initialItemX=i,n.initialItemY=i-5,n.maxItemWidth=0,n.chart=e,n.itemHeight=0,n.lastLineHeight=0,n.render(),vn(n.chart,"endResize",function(){n.positionCheckboxes()})},colorizeItem:function(t,n){var r=this,i=r.options,s=t.legendItem,o=t.legendLine,u=t.legendSymbol,a=r.itemHiddenStyle.color,f=n?i.itemStyle.color:a,l=n?t.color:a,c=t.options&&t.options.marker,h={stroke:l,fill:l},p,d;s&&s.css({fill:f,color:f}),o&&o.attr({stroke:l});if(u){if(c&&u.isMarker){c=t.convertAttribs(c);for(p in c)d=c[p],d!==e&&(h[p]=d)}u.attr(h)}},positionItem:function(e){var t=this,n=t.options,r=n.symbolPadding,i=!n.rtl,s=e._legendItemPos,o=s[0],u=s[1],a=e.checkbox;e.legendGroup&&e.legendGroup.translate(i?o:t.legendWidth-o-2*r-4,u),a&&(a.x=o,a.y=u)},destroyItem:function(e){var t=e.checkbox;cn(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&tn(e.checkbox)},destroy:function(){var e=this,t=e.group,n=e.box;n&&(e.box=n.destroy()),t&&(e.group=t.destroy())},positionCheckboxes:function(e){var t=this.group.alignAttr,n,r=this.clipHeight||this.legendHeight;t&&(n=t.translateY,cn(this.allItems,function(i){var s=i.checkbox,o;s&&(o=n+s.y+(e||0)+3,Ft(s,{left:t.translateX+i.legendItemWidth+s.x-20+X,top:o+X,display:o>n-6&&o<n+r-6?"":V}))}))},renderTitle:function(){var e=this.options,t=this.padding,n=e.title,r=0,i;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),i=this.title.getBBox(),r=i.height,this.offsetWidth=i.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r},renderItem:function(e){var t=this,n=t.chart,r=n.renderer,i=t.options,s=i.layout==="horizontal",o=i.symbolWidth,a=i.symbolPadding,f=t.itemStyle,l=t.itemHiddenStyle,c=t.padding,h=s?jt(i.itemDistance,8):0,p=!i.rtl,d,v=i.width,m=i.itemMarginBottom||0,g=t.itemMarginTop,y=t.initialItemX,b,w,E=e.legendItem,S=e.series||e,x=S.options,T=x.showCheckbox,N=i.useHTML;E||(e.legendGroup=r.g("legend-item").attr({zIndex:1}).add(t.scrollGroup),S.drawLegendSymbol(t,e),e.legendItem=E=r.text(i.labelFormat?Xt(i.labelFormat,e):i.labelFormatter.call(e),p?o+a:-a,t.baseline,N).css(Tt(e.visible?f:l)).attr({align:p?"left":"right",zIndex:2}).add(e.legendGroup),(N?E:e.legendGroup).on("mouseover",function(){e.setState(G),E.css(t.options.itemHoverStyle)}).on("mouseout",function(){E.css(e.visible?f:l),e.setState()}).on("click",function(t){var n="legendItemClick",r=function(){e.setVisible()};t={browserEvent:t},e.firePointEvent?e.firePointEvent(n,t,r):gn(e,n,t,r)}),t.colorizeItem(e,e.visible),x&&T&&(e.checkbox=It("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},i.itemCheckboxStyle,n.container),vn(e.checkbox,"click",function(t){var n=t.target;gn(e,"checkboxClick",{checked:n.checked},function(){e.select()})}))),b=E.getBBox(),w=e.legendItemWidth=i.itemWidth||o+a+b.width+h+(T?20:0),t.itemHeight=d=b.height,s&&t.itemX-y+w>(v||n.chartWidth-2*c-y)&&(t.itemX=y,t.itemY+=g+t.lastLineHeight+m,t.lastLineHeight=0),t.maxItemWidth=u(t.maxItemWidth,w),t.lastItemY=g+t.itemY+m,t.lastLineHeight=u(d,t.lastLineHeight),e._legendItemPos=[t.itemX,t.itemY],s?t.itemX+=w:(t.itemY+=g+d+m,t.lastLineHeight=d),t.offsetWidth=v||u((s?t.itemX-y-h:w)+c,t.offsetWidth)},render:function(){var t=this,n=t.chart,r=n.renderer,i=t.group,s,o,u,a,f=t.box,l=t.options,c=t.padding,h=l.borderWidth,p=l.backgroundColor;t.itemX=t.initialItemX,t.itemY=t.initialItemY,t.offsetWidth=0,t.lastItemY=0,i||(t.group=i=r.g("legend").attr({zIndex:7}).add(),t.contentGroup=r.g().attr({zIndex:1}).add(i),t.scrollGroup=r.g().add(t.contentGroup)),t.renderTitle(),s=[],cn(n.series,function(t){var n=t.options;if(!jt(n.showInLegend,n.linkedTo===e?e:!1,!0))return;s=s.concat(t.legendItems||(n.legendType==="point"?t.data:t))}),Gt(s,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),l.reversed&&s.reverse(),t.allItems=s,t.display=o=!!s.length,cn(s,function(e){t.renderItem(e)}),u=l.width||t.offsetWidth,a=t.lastItemY+t.lastLineHeight+t.titleHeight,a=t.handleOverflow(a);if(h||p)u+=c,a+=c,f?u>0&&a>0&&(f[f.isNew?"attr":"animate"](f.crisp(null,null,null,u,a)),f.isNew=!1):(t.box=f=r.rect(0,0,u,a,l.borderRadius,h||0).attr({stroke:l.borderColor,"stroke-width":h||0,fill:p||V}).add(i).shadow(l.shadow),f.isNew=!0),f[o?"show":"hide"]();t.legendWidth=u,t.legendHeight=a,cn(s,function(e){t.positionItem(e)}),o&&i.align(xt({width:u,height:a},l),!0,"spacingBox"),n.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t=this,n=this.chart,r=n.renderer,i,s=this.options,u=s.y,f=s.verticalAlign==="top",l=n.spacingBox.height+(f?-u:u)-this.padding,c=s.maxHeight,h,p=this.clipRect,d=s.navigation,v=jt(d.animation,!0),m=d.arrowSize||12,g=this.nav;return s.layout==="horizontal"&&(l/=2),c&&(l=a(l,c)),e>l&&!s.useHTML?(this.clipHeight=h=l-20-this.titleHeight,this.pageCount=i=o(e/h),this.currentPage=jt(this.currentPage,1),this.fullHeight=e,p||(p=t.clipRect=r.clipRect(0,0,9999,0),t.contentGroup.clip(p)),p.attr({height:h}),g||(this.nav=g=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,m,m).on("click",function(){t.scroll(-1,v)}).add(g),this.pager=r.text("",15,10).css(d.style).add(g),this.down=r.symbol("triangle-down",0,0,m,m).on("click",function(){t.scroll(1,v)}).add(g)),t.scroll(0),e=l):g&&(p.attr({height:n.chartHeight}),g.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(t,n){var r=this.pageCount,i=this.currentPage+t,s=this.clipHeight,o=this.options.navigation,u=o.activeColor,f=o.inactiveColor,l=this.pager,c=this.padding,h;i>r&&(i=r),i>0&&(n!==e&&sn(n,this.chart),this.nav.attr({translateX:c,translateY:s+7+this.titleHeight,visibility:W}),this.up.attr({fill:i===1?f:u}).css({cursor:i===1?"default":"pointer"}),l.attr({text:i+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:i===r?f:u}).css({cursor:i===r?"default":"pointer"}),h=-a(s*(i-1),this.fullHeight-s+c)+1,this.scrollGroup.animate({translateY:h}),l.attr({text:i+"/"+r}),this.currentPage=i,this.positionCheckboxes(h))}},/Trident\/7\.0/.test(d)&&zt(Wn.prototype,"positionItem",function(e,t){var n=this,r=function(){e.call(n,t)};n.chart.renderer.forExport?r():setTimeout(r)}),Xn.prototype={init:function(e,t){var n,r=e.series;e.series=null,n=Tt(O,e),n.series=e.series=r;var i=n.chart;this.margin=this.splashArray("margin",i),this.spacing=this.splashArray("spacing",i);var s=i.events;this.bounds={h:{},v:{}},this.callback=t,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=i.showAxes;var o=this,u;o.index=B.length,B.push(o),i.reflow!==!1&&vn(o,"load",function(){o.initReflow()});if(s)for(u in s)vn(o,u,s[u]);o.xAxis=[],o.yAxis=[],o.animation=T?!1:jt(i.animation,!0),o.pointCount=0,o.counters=new Qt,o.firstRender()},initSeries:function(e){var t=this,n=t.options.chart,r=e.type||n.type||n.defaultSeriesType,i,s=St[r];return s||nn(17,!0),i=new s,i.init(this,e),i},addSeries:function(e,t,n){var r,i=this;return e&&(t=jt(t,!0),gn(i,"addSeries",{options:e},function(){r=i.initSeries(e),i.isDirtyLegend=!0,i.linkSeries(),t&&i.redraw(n)})),r},addAxis:function(e,t,n,r){var i=t?"xAxis":"yAxis",s=this.options,o;o=new Rn(this,Tt(e,{index:this[i].length,isX:t})),s[i]=Bt(s[i]||{}),s[i].push(e),jt(n,!0)&&this.redraw(r)},isInsidePlot:function(e,t,n){var r=n?t:e,i=n?e:t;return r>=0&&r<=this.plotWidth&&i>=0&&i<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&cn(this.axes,function(e){e.adjustTickAmount()}),this.maxTicks=null},redraw:function(e){var t=this,n=t.axes,r=t.series,i=t.pointer,s=t.legend,o=t.isDirtyLegend,u,a,f=t.isDirtyBox,l=r.length,c=l,h,p=t.renderer,d=p.isHidden(),v=[];sn(e,t),d&&t.cloneRenderTo(),t.layOutTitles();while(c--){h=r[c];if(h.options.stacking){u=!0;if(h.isDirty){a=!0;break}}}if(a){c=l;while(c--)h=r[c],h.options.stacking&&(h.isDirty=!0)}cn(r,function(e){e.isDirty&&e.options.legendType==="point"&&(o=!0)}),o&&s.options.enabled&&(s.render(),t.isDirtyLegend=!1),u&&t.getStacks(),t.hasCartesianSeries&&(t.isResizing||(t.maxTicks=null,cn(n,function(e){e.setScale()})),t.adjustTickAmounts(),t.getMargins(),cn(n,function(e){e.isDirty&&(f=!0)}),cn(n,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,v.push(function(){gn(e,"afterSetExtremes",xt(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(f||u)&&e.redraw()})),f&&t.drawChartBox(),cn(r,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),i&&i.reset&&i.reset(!0),p.draw(),gn(t,"redraw"),d&&t.cloneRenderTo(!0),cn(v,function(e){e.call()})},showLoading:function(e){var t=this,n=t.options,r=t.loadingDiv,i=n.loading;r||(t.loadingDiv=r=It(I,{className:z+"loading"},xt(i.style,{zIndex:10,display:V}),t.container),t.loadingSpan=It("span",null,i.labelStyle,r)),t.loadingSpan.innerHTML=e||n.lang.loading,t.loadingShown||(Ft(r,{opacity:0,display:"",left:t.plotLeft+X,top:t.plotTop+X,width:t.plotWidth+X,height:t.plotHeight+X}),bn(r,{opacity:i.style.opacity},{duration:i.showDuration||0}),t.loadingShown=!0)},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&bn(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){Ft(t,{display:V})}}),this.loadingShown=!1},get:function(e){var t=this,n=t.axes,r=t.series,i,s,o;for(i=0;i<n.length;i++)if(n[i].options.id===e)return n[i];for(i=0;i<r.length;i++)if(r[i].options.id===e)return r[i];for(i=0;i<r.length;i++){o=r[i].points||[];for(s=0;s<o.length;s++)if(o[s].id===e)return o[s]}return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis=Bt(t.xAxis||{}),r=t.yAxis=Bt(t.yAxis||{}),i,s;cn(n,function(e,t){e.index=t,e.isX=!0}),cn(r,function(e,t){e.index=t}),i=n.concat(r),cn(i,function(t){s=new Rn(e,t)}),e.adjustTickAmounts()},getSelectedPoints:function(){var e=[];return cn(this.series,function(t){e=e.concat(hn(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return hn(this.series,function(e){return e.selected})},getStacks:function(){var e=this;cn(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),cn(e.series,function(t){t.options.stacking&&(t.visible===!0||e.options.chart.ignoreHiddenSeries===!1)&&(t.stackKey=t.type+jt(t.options.stack,""))})},showResetZoom:function(){var e=this,t=O.lang,n=e.options.chart.resetZoomButton,r=n.theme,i=r.states,s=n.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},r,i&&i.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,s)},zoomOut:function(){var e=this;gn(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t=this,n,r=t.pointer,i=!1,s;!e||e.resetSelection?cn(t.axes,function(e){n=e.zoom()}):cn(e.xAxis.concat(e.yAxis),function(e){var t=e.axis,s=t.isXAxis;if(r[s?"zoomX":"zoomY"]||r[s?"pinchX":"pinchY"])n=t.zoom(e.min,e.max),t.displayBtn&&(i=!0)}),s=t.resetZoomButton,i&&!s?t.showResetZoom():!i&&Lt(s)&&(t.resetZoomButton=s.destroy()),n&&t.redraw(jt(t.options.chart.animation,e&&e.animation,t.pointCount<100))},pan:function(e,t){var n=this,r=n.hoverPoints,i;r&&cn(r,function(e){e.setState()}),cn(t==="xy"?[1,0]:[1],function(t){var r=e[t?"chartX":"chartY"],s=n[t?"xAxis":"yAxis"][0],o=n[t?"mouseDownX":"mouseDownY"],f=(s.pointRange||0)/2,l=s.getExtremes(),c=s.toValue(o-r,!0)+f,h=s.toValue(o+n[t?"plotWidth":"plotHeight"]-r,!0)-f;s.series.length&&c>a(l.dataMin,l.min)&&h<u(l.dataMax,l.max)&&(s.setExtremes(c,h,!1,!1,{trigger:"pan"}),i=!0),n[t?"mouseDownX":"mouseDownY"]=r}),i&&n.redraw(!1),Ft(n.container,{cursor:"move"})},setTitle:function(e,t){var n=this,r=n.options,i,s;i=r.title=Tt(r.title,e),s=r.subtitle=Tt(r.subtitle,t),cn([["title",e,i],["subtitle",t,s]],function(e){var t=e[0],r=n[t],i=e[1],s=e[2];r&&i&&(n[t]=r=r.destroy()),s&&s.text&&!r&&(n[t]=n.renderer.text(s.text,0,0,s.useHTML).attr({align:s.align,"class":z+t,zIndex:s.zIndex||4}).css(s.style).add())}),n.layOutTitles()},layOutTitles:function(){var e=0,t=this.title,n=this.subtitle,r=this.options,i=r.title,s=r.subtitle,u=this.spacingBox.width-44;t&&(t.css({width:(i.width||u)+X}).align(xt({y:15},i),!1,"spacingBox"),!i.floating&&!i.verticalAlign&&(e=t.getBBox().height,e>=18&&e<=25&&(e=15))),n&&(n.css({width:(s.width||u)+X}).align(xt({y:e+i.margin},s),!1,"spacingBox"),!s.floating&&!s.verticalAlign&&(e=o(e+n.getBBox().height))),this.titleOffset=e},getChartSize:function(){var e=this,t=e.options.chart,n=e.renderToClone||e.renderTo;e.containerWidth=an(n,"width"),e.containerHeight=an(n,"height"),e.chartWidth=u(0,t.width||e.containerWidth||600),e.chartHeight=u(0,jt(t.height,e.containerHeight>19?e.containerHeight:400))},cloneRenderTo:function(e){var n=this.renderToClone,r=this.container;e?n&&(this.renderTo.appendChild(r),tn(n),delete this.renderToClone):(r&&r.parentNode===this.renderTo&&this.renderTo.removeChild(r),this.renderToClone=n=this.renderTo.cloneNode(0),Ft(n,{position:q,top:"-9999px",display:"block"}),t.body.appendChild(n),r&&n.appendChild(r))},getContainer:function(){var e=this,n,r=e.options.chart,i,s,o,u="data-highcharts-chart",a,f;e.renderTo=o=r.renderTo,f=z+L++,kt(o)&&(e.renderTo=o=t.getElementById(o)),o||nn(13,!0),a=Ct(Ht(o,u)),!isNaN(a)&&B[a]&&B[a].destroy(),Ht(o,u,e.index),o.innerHTML="",o.offsetWidth||e.cloneRenderTo(),e.getChartSize(),i=e.chartWidth,s=e.chartHeight,e.container=n=It(I,{className:z+"container"+(r.className?" "+r.className:""),id:f},xt({position:R,overflow:U,width:i+X,height:s+X,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},r.style),e.renderToClone||o),e._cursor=n.style.cursor,e.renderer=r.forExport?new _n(n,i,s,!0):new N(n,i,s),T&&e.renderer.create(e,n,i,s)},getMargins:function(){var e=this,t=e.spacing,n,r=e.legend,i=e.margin,s=e.options.legend,o=jt(s.margin,10),a=s.x,f=s.y,l=s.align,c=s.verticalAlign,h=e.titleOffset;e.resetMargins(),n=e.axisOffset,h&&!Pt(i[0])&&(e.plotTop=u(e.plotTop,h+e.options.title.margin+t[0])),r.display&&!s.floating&&(l==="right"?Pt(i[1])||(e.marginRight=u(e.marginRight,r.legendWidth-a+o+t[1])):l==="left"?Pt(i[3])||(e.plotLeft=u(e.plotLeft,r.legendWidth+a+o+t[3])):c==="top"?Pt(i[0])||(e.plotTop=u(e.plotTop,r.legendHeight+f+o+t[0])):c==="bottom"&&(Pt(i[2])||(e.marginBottom=u(e.marginBottom,r.legendHeight-f+o+t[2])))),e.extraBottomMargin&&(e.marginBottom+=e.extraBottomMargin),e.extraTopMargin&&(e.plotTop+=e.extraTopMargin),e.hasCartesianSeries&&cn(e.axes,function(e){e.getOffset()}),Pt(i[3])||(e.plotLeft+=n[3]),Pt(i[0])||(e.plotTop+=n[0]),Pt(i[2])||(e.marginBottom+=n[2]),Pt(i[1])||(e.marginRight+=n[1]),e.setChartSize()},initReflow:function(){function o(o){var u=r.width||an(i,"width"),a=r.height||an(i,"height"),f=o?o.target:n;if(!e.hasUserSize&&u&&a&&(f===n||f===t)){if(u!==e.containerWidth||a!==e.containerHeight)clearTimeout(s),e.reflowTimeout=s=setTimeout(function(){e.container&&(e.setSize(u,a,!1),e.hasUserSize=null)},100);e.containerWidth=u,e.containerHeight=a}}var e=this,r=e.options.chart,i=e.renderTo,s;e.reflow=o,vn(n,"resize",o),vn(e,"destroy",function(){mn(n,"resize",o)})},setSize:function(e,t,n){var r=this,s,o,a;r.isResizing+=1,a=function(){r&&gn(r,"endResize",null,function(){r.isResizing-=1})},sn(n,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,Pt(e)&&(r.chartWidth=s=u(0,i(e)),r.hasUserSize=!!s),Pt(t)&&(r.chartHeight=o=u(0,i(t))),Ft(r.container,{width:s+X,height:o+X}),r.setChartSize(!0),r.renderer.setSize(s,o,n),r.maxTicks=null,cn(r.axes,function(e){e.isDirty=!0,e.setScale()}),cn(r.series,function(e){e.isDirty=!0}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.getMargins(),r.redraw(n),r.oldChartHeight=null,gn(r,"resize"),_===!1?a():setTimeout(a,_&&_.duration||500)},setChartSize:function(e){var t=this,n=t.inverted,r=t.renderer,a=t.chartWidth,f=t.chartHeight,l=t.options.chart,c=t.spacing,h=t.clipOffset,p,d,v,m,g,y,b;t.plotLeft=v=i(t.plotLeft),t.plotTop=m=i(t.plotTop),t.plotWidth=g=u(0,i(a-v-t.marginRight)),t.plotHeight=y=u(0,i(f-m-t.marginBottom)),t.plotSizeX=n?y:g,t.plotSizeY=n?g:y,t.plotBorderWidth=l.plotBorderWidth||0,t.spacingBox=r.spacingBox={x:c[3],y:c[0],width:a-c[3]-c[1],height:f-c[0]-c[2]},t.plotBox=r.plotBox={x:v,y:m,width:g,height:y},b=2*s(t.plotBorderWidth/2),p=o(u(b,h[3])/2),d=o(u(b,h[0])/2),t.clipBox={x:p,y:d,width:s(t.plotSizeX-u(b,h[1])/2-p),height:s(t.plotSizeY-u(b,h[2])/2-d)},e||cn(t.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this,t=e.spacing,n=e.margin;e.plotTop=jt(n[0],t[0]),e.marginRight=jt(n[1],t[1]),e.marginBottom=jt(n[2],t[2]),e.plotLeft=jt(n[3],t[3]),e.axisOffset=[0,0,0,0],e.clipOffset=[0,0,0,0]},drawChartBox:function(){var e=this,t=e.options.chart,n=e.renderer,r=e.chartWidth,i=e.chartHeight,s=e.chartBackground,o=e.plotBackground,u=e.plotBorder,a=e.plotBGImage,f=t.borderWidth||0,l=t.backgroundColor,c=t.plotBackgroundColor,h=t.plotBackgroundImage,p=t.plotBorderWidth||0,d,v,m=e.plotLeft,g=e.plotTop,y=e.plotWidth,b=e.plotHeight,w=e.plotBox,E=e.clipRect,S=e.clipBox;d=f+(t.shadow?8:0);if(f||l)s?s.animate(s.crisp(null,null,null,r-d,i-d)):(v={fill:l||V},f&&(v.stroke=t.borderColor,v["stroke-width"]=f),e.chartBackground=n.rect(d/2,d/2,r-d,i-d,t.borderRadius,f).attr(v).add().shadow(t.shadow));c&&(o?o.animate(w):e.plotBackground=n.rect(m,g,y,b,0).attr({fill:c}).add().shadow(t.plotShadow)),h&&(a?a.animate(w):e.plotBGImage=n.image(h,m,g,y,b).add()),E?E.animate({width:S.width,height:S.height}):e.clipRect=n.clipRect(S),p&&(u?u.animate(u.crisp(null,m,g,y,b)):e.plotBorder=n.rect(m,g,y,b,0,-p).attr({stroke:t.plotBorderColor,"stroke-width":p,zIndex:1}).add()),e.isDirtyBox=!1},propFromSeries:function(){var e=this,t=e.options.chart,n,r=e.options.series,i,s;cn(["inverted","angular","polar"],function(o){n=St[t.type||t.defaultSeriesType],s=e[o]||t[o]||n&&n.prototype[o],i=r&&r.length;while(!s&&i--)n=St[r[i].type],n&&n.prototype[o]&&(s=!0);e[o]=s})},linkSeries:function(){var e=this,t=e.series;cn(t,function(e){e.linkedSeries.length=0}),cn(t,function(t){var n=t.options.linkedTo;kt(n)&&(n===":previous"?n=e.series[t.index-1]:n=e.get(n),n&&(n.linkedSeries.push(t),t.linkedParent=n))})},render:function(){var e=this,t=e.axes,n=e.renderer,r=e.options,i=r.labels,s=r.credits,o;e.setTitle(),e.legend=new Wn(e,r.legend),e.getStacks(),cn(t,function(e){e.setScale()}),e.getMargins(),e.maxTicks=null,cn(t,function(e){e.setTickPositions(!0),e.setMaxTicks()}),e.adjustTickAmounts(),e.getMargins(),e.drawChartBox(),e.hasCartesianSeries&&cn(t,function(e){e.render()}),e.seriesGroup||(e.seriesGroup=n.g("series-group").attr({zIndex:3}).add()),cn(e.series,function(e){e.translate(),e.setTooltipPoints(),e.render()}),i.items&&cn(i.items,function(t){var r=xt(i.style,t.style),s=Ct(r.left)+e.plotLeft,o=Ct(r.top)+e.plotTop+12;delete r.left,delete r.top,n.text(t.html,s,o).attr({zIndex:2}).css(r).add()}),s.enabled&&!e.credits&&(o=s.href,e.credits=n.text(s.text,0,0).on("click",function(){o&&(location.href=o)}).attr({align:s.position.align,zIndex:8}).css(s.style).add().align(s.position)),e.hasRendered=!0},destroy:function(){var t=this,n=t.axes,r=t.series,i=t.container,s,o=i&&i.parentNode;gn(t,"destroy"),B[t.index]=e,t.renderTo.removeAttribute("data-highcharts-chart"),mn(t),s=n.length;while(s--)n[s]=n[s].destroy();s=r.length;while(s--)r[s]=r[s].destroy();cn(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(e){var n=t[e];n&&n.destroy&&(t[e]=n.destroy())}),i&&(i.innerHTML="",mn(i),o&&tn(i));for(s in t)delete t[s]},isReadyToRender:function(){var e=this;return!S&&n==n.top&&t.readyState!=="complete"||T&&!n.canvg?(T?jn.push(function(){e.firstRender()},e.options.global.canvasToolsURL):t.attachEvent("onreadystatechange",function(){t.detachEvent("onreadystatechange",e.firstRender),t.readyState==="complete"&&e.firstRender()}),!1):!0},firstRender:function(){var e=this,t=e.options,n=e.callback;if(!e.isReadyToRender())return;e.getContainer(),gn(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),cn(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),gn(e,"beforeRender"),e.pointer=new zn(e,t),e.render(),e.renderer.draw(),n&&n.apply(e,[e]),cn(e.callbacks,function(t){t.apply(e,[e])}),e.cloneRenderTo(!0),gn(e,"load")},splashArray:function(e,t){var n=t[e],r=Lt(n)?n:[n,n,n,n];return[jt(t[e+"Top"],r[0]),jt(t[e+"Right"],r[1]),jt(t[e+"Bottom"],r[2]),jt(t[e+"Left"],r[3])]}},Xn.prototype.callbacks=[];var Vn=function(){};Vn.prototype={init:function(e,t,n){var r=this,i;return r.series=e,r.applyOptions(t,n),r.pointAttr={},e.options.colorByPoint&&(i=e.options.colors||e.chart.options.colors,r.color=r.color||i[e.colorCounter++],e.colorCounter===i.length&&(e.colorCounter=0)),e.chart.pointCount++,r},applyOptions:function(t,n){var r=this,i=r.series,s=i.pointValKey;return t=Vn.prototype.optionsToObject.call(this,t),xt(r,t),r.options=r.options?xt(r.options,t):t,s&&(r.y=r[s]),r.x===e&&i&&(r.x=n===e?i.autoIncrement():n),r},optionsToObject:function(e){var t={},n=this.series,r=n.pointArrayMap||["y"],i=r.length,s,o=0,u=0;if(typeof e=="number"||e===null)t[r[0]]=e;else if(At(e)){e.length>i&&(s=typeof e[0],s==="string"?t.name=e[0]:s==="number"&&(t.x=e[0]),o++);while(u<i)t[r[u++]]=e[o++]}else typeof e=="object"&&(t=e,e.dataLabels&&(n._hasPointLabels=!0),e.marker&&(n._hasPointMarkers=!0));return t},destroy:function(){var e=this,t=e.series,n=t.chart,r=n.hoverPoints,i;n.pointCount--,r&&(e.setState(),Dt(r,e),r.length||(n.hoverPoints=null)),e===n.hoverPoint&&e.onMouseOut();if(e.graphic||e.dataLabel)mn(e),e.destroyElements();e.legendItem&&n.legend.destroyItem(e);for(i in e)e[i]=null},destroyElements:function(){var e=this,t=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],n,r=6;while(r--)n=t[r],e[n]&&(e[n]=e[n].destroy())},getLabelConfig:function(){var e=this;return{x:e.category,y:e.y,key:e.name||e.category,series:e.series,point:e,percentage:e.percentage,total:e.total||e.stackTotal}},select:function(e,t){var n=this,r=n.series,i=r.chart;e=jt(e,!n.selected),n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e,r.options.data[ln(n,r.data)]=n.options,n.setState(e&&Y),t||cn(i.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=e.options.selected=!1,r.options.data[ln(e,r.data)]=e.options,e.setState(Q),e.firePointEvent("unselect"))})})},onMouseOver:function(e){var t=this,n=t.series,r=n.chart,i=r.tooltip,s=r.hoverPoint;s&&s!==t&&s.onMouseOut(),t.firePointEvent("mouseOver"),i&&(!i.shared||n.noSharedTooltip)&&i.refresh(t,e),t.setState(G),r.hoverPoint=t},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;if(!t||ln(this,t)===-1)this.firePointEvent("mouseOut"),this.setState(),e.hoverPoint=null},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,r=jt(n.valueDecimals,""),i=n.valuePrefix||"",s=n.valueSuffix||"";return cn(t.pointArrayMap||["y"],function(t){t="{point."+t;if(i||s)e=e.replace(t+"}",i+t+"}"+s);e=e.replace(t+"}",t+":,."+r+"f}")}),Xt(e,{point:this,series:this.series})},update:function(e,t,n){var r=this,i=r.series,s=r.graphic,o,u=i.data,a=i.chart,f=i.options;t=jt(t,!0),r.firePointEvent("update",{options:e},function(){r.applyOptions(e),Lt(e)&&(i.getAttribs(),s&&(e&&e.marker&&e.marker.symbol?r.graphic=s.destroy():s.attr(r.pointAttr[r.state||""]))),o=ln(r,u),i.xData[o]=r.x,i.yData[o]=i.toYData?i.toYData(r):r.y,i.zData[o]=r.z,f.data[o]=r.options,i.isDirty=i.isDirtyData=!0,!i.fixedBox&&i.hasCartesianSeries&&(a.isDirtyBox=!0),f.legendType==="point"&&a.legend.destroyItem(r),t&&a.redraw(n)})},remove:function(e,t){var n=this,r=n.series,i=r.points,s=r.chart,o,u=r.data;sn(t,s),e=jt(e,!0),n.firePointEvent("remove",null,function(){o=ln(n,u),u.length===i.length&&i.splice(o,1),u.splice(o,1),r.options.data.splice(o,1),r.xData.splice(o,1),r.yData.splice(o,1),r.zData.splice(o,1),n.destroy(),r.isDirty=!0,r.isDirtyData=!0,e&&s.redraw()})},firePointEvent:function(e,t,n){var r=this,i=this.series,s=i.options;(s.point.events[e]||r.options&&r.options.events&&r.options.events[e])&&this.importEvents(),e==="click"&&s.allowPointSelect&&(n=function(e){r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),gn(this,e,t,n)},importEvents:function(){if(!this.hasImportedEvents){var e=this,t=Tt(e.series.options.point,e.options),n=t.events,r;e.events=n;for(r in n)vn(e,r,n[r]);this.hasImportedEvents=!0}},setState:function(e){var t=this,n=t.plotX,r=t.plotY,i=t.series,s=i.options.states,o=Sn[i.type].marker&&i.options.marker,u=o&&!o.enabled,a=o&&o.states[e],f=a&&a.enabled===!1,l=i.stateMarkerGraphic,c=t.marker||{},h=i.chart,p,d,v=t.pointAttr;e=e||Q;if(e===t.state||t.selected&&e!==Y||s[e]&&s[e].enabled===!1||e&&(f||u&&!a.enabled)||e&&c.states&&c.states[e]&&c.states[e].enabled===!1)return;t.graphic?(p=o&&t.graphic.symbolName&&v[e].r,t.graphic.attr(Tt(v[e],p?{x:n-p,y:r-p,width:2*p,height:2*p}:{}))):(e&&a&&(p=a.radius,d=c.symbol||i.symbol,l&&l.currentSymbol!==d&&(l=l.destroy()),l?l.attr({x:n-p,y:r-p}):(i.stateMarkerGraphic=l=h.renderer.symbol(d,n-p,r-p,2*p,2*p).attr(v[e]).add(i.markerGroup),l.currentSymbol=d)),l&&l[e&&h.isInsidePlot(n,r)?"show":"hide"]()),t.state=e}};var $n=function(){};$n.prototype={isCartesian:!0,type:"line",pointClass:Vn,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},colorCounter:0,init:function(e,t){var n=this,r,i,s=e.series;n.chart=e,n.options=t=n.setOptions(t),n.linkedSeries=[],n.bindAxes(),xt(n,{name:t.name,state:Q,pointAttr:{},visible:t.visible!==!1,selected:t.selected===!0}),T&&(t.animation=!1),i=t.events;for(r in i)vn(n,r,i[r]);if(i&&i.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect)e.runTrackerClick=!0;n.getColor(),n.getSymbol(),n.setData(t.data,!1),n.isCartesian&&(e.hasCartesianSeries=!0),s.push(n),n._i=s.length-1,Gt(s,function(e,t){return jt(e.options.index,e._i)-jt(t.options.index,e._i)}),cn(s,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var t=this,n=t.options,r=t.chart,i;t.isCartesian&&cn(["xAxis","yAxis"],function(s){cn(r[s],function(r){i=r.options;if(n[s]===i.index||n[s]!==e&&n[s]===i.id||n[s]===e&&i.index===0)r.series.push(t),t[s]=r,r.isDirty=!0}),t[s]||nn(18,!0)})},autoIncrement:function(){var e=this,t=e.options,n=e.xIncrement;return n=jt(n,t.pointStart,0),e.pointInterval=jt(e.pointInterval,t.pointInterval,1),e.xIncrement=n+e.pointInterval,n},getSegments:function(){var e=this,t=-1,n=[],r,i=e.points,s=i.length;if(s)if(e.options.connectNulls){r=s;while(r--)i[r].y===null&&i.splice(r,1);i.length&&(n=[i])}else cn(i,function(e,r){e.y===null?(r>t+1&&n.push(i.slice(t+1,r)),t=r):r===s-1&&n.push(i.slice(t+1,r+1))});e.segments=n},setOptions:function(e){var t=this.chart,n=t.options,r=n.plotOptions,i=r[this.type],s;return this.userOptions=e,s=Tt(i,r.series,e),this.tooltipOptions=Tt(n.tooltip,s.tooltip),i.marker===null&&delete s.marker,s},getColor:function(){var e=this.options,t=this.userOptions,n=this.chart.options.colors,r=this.chart.counters,i,s;i=e.color||Sn[this.type].color,!i&&!e.colorByPoint&&(Pt(t._colorIndex)?s=t._colorIndex:(t._colorIndex=r.color,s=r.color++),i=n[s]),this.color=i,r.wrapColor(n.length)},getSymbol:function(){var e=this,t=e.userOptions,n=e.options.marker,r=e.chart,i=r.options.symbols,s=r.counters,o;e.symbol=n.symbol,e.symbol||(Pt(t._symbolIndex)?o=t._symbolIndex:(t._symbolIndex=s.symbol,o=s.symbol++),e.symbol=i[o]),/^url/.test(e.symbol)&&(n.radius=0),s.wrapSymbol(i.length)},drawLegendSymbol:function(e){var t=this.options,n=t.marker,r,s=e.options,o,u=s.symbolWidth,a=this.chart.renderer,f=this.legendGroup,l=e.baseline-i(a.fontMetrics(s.itemStyle.fontSize).b*.3),c;t.lineWidth&&(c={"stroke-width":t.lineWidth},t.dashStyle&&(c.dashstyle=t.dashStyle),this.legendLine=a.path([$,0,l,J,u,l]).attr(c).add(f)),n&&n.enabled&&(r=n.radius,this.legendSymbol=o=a.symbol(this.symbol,u/2-r,l-r,2*r,2*r).add(f),o.isMarker=!0)},addPoint:function(e,t,n,r){var i=this,s=i.options,o=i.data,u=i.graph,a=i.area,f=i.chart,l=i.xData,c=i.yData,h=i.zData,p=i.xAxis&&i.xAxis.names,d=u&&u.shift||0,v=s.data,m,g,y,b;sn(r,f),n&&cn([u,a,i.graphNeg,i.areaNeg],function(e){e&&(e.shift=d+1)}),a&&(a.isArea=!0),t=jt(t,!0),m={series:i},i.pointClass.prototype.applyOptions.apply(m,[e]),y=m.x,b=l.length;if(i.requireSorting&&y<l[b-1]){g=!0;while(b&&l[b-1]>y)b--}l.splice(b,0,y),c.splice(b,0,i.toYData?i.toYData(m):m.y),h.splice(b,0,m.z),p&&(p[y]=m.name),v.splice(b,0,e),g&&(i.data.splice(b,0,null),i.processData()),s.legendType==="point"&&i.generatePoints(),n&&(o[0]&&o[0].remove?o[0].remove(!1):(o.shift(),l.shift(),c.shift(),h.shift(),v.shift())),i.isDirty=!0,i.isDirtyData=!0,t&&(i.getAttribs(),f.redraw())},setData:function(t,n){var r=this,i=r.points,s=r.options,o=r.chart,u=null,a=r.xAxis,f=a&&a.names,l;r.xIncrement=null,r.pointRange=a&&a.categories?1:s.pointRange,r.colorCounter=0;var c=[],h=[],p=[],d=t?t.length:[],v=jt(s.turboThreshold,1e3),m,g=r.pointArrayMap,y=g&&g.length,b=!!r.toYData;if(v&&d>v){l=0;while(u===null&&l<d)u=t[l],l++;if(Ot(u)){var w=jt(s.pointStart,0),E=jt(s.pointInterval,1);for(l=0;l<d;l++)c[l]=w,h[l]=t[l],w+=E;r.xIncrement=w}else if(At(u))if(y)for(l=0;l<d;l++)m=t[l],c[l]=m[0],h[l]=m.slice(1,y+1);else for(l=0;l<d;l++)m=t[l],c[l]=m[0],h[l]=m[1];else nn(12)}else for(l=0;l<d;l++)t[l]!==e&&(m={series:r},r.pointClass.prototype.applyOptions.apply(m,[t[l]]),c[l]=m.x,h[l]=b?r.toYData(m):m.y,p[l]=m.z,f&&m.name&&(f[m.x]=m.name));kt(h[0])&&nn(14,!0),r.data=[],r.options.data=t,r.xData=c,r.yData=h,r.zData=p,l=i&&i.length||0;while(l--)i[l]&&i[l].destroy&&i[l].destroy();a&&(a.minRange=a.userMinRange),r.isDirty=r.isDirtyData=o.isDirtyBox=!0,jt(n,!0)&&o.redraw(!1)},remove:function(e,t){var n=this,r=n.chart;e=jt(e,!0),n.isRemoving||(n.isRemoving=!0,gn(n,"remove",null,function(){n.destroy(),r.isDirtyLegend=r.isDirtyBox=!0,r.linkSeries(),e&&r.redraw(t)})),n.isRemoving=!1},processData:function(t){var n=this,r=n.xData,i=n.yData,s=r.length,o,u=0,a,f,l,c=n.xAxis,h,p=n.options,d=p.cropThreshold,v=n.isCartesian;if(v&&!n.isDirty&&!c.isDirty&&!n.yAxis.isDirty&&!t)return!1;if(v&&n.sorted&&(!d||s>d||n.forceCrop)){var m=c.min,g=c.max;if(r[s-1]<m||r[0]>g)r=[],i=[];else if(r[0]<m||r[s-1]>g)o=this.cropData(n.xData,n.yData,m,g),r=o.xData,i=o.yData,u=o.start,a=!0}for(h=r.length-1;h>=0;h--)f=r[h]-r[h-1],f>0&&(l===e||f<l)?l=f:f<0&&n.requireSorting&&nn(15);n.cropped=a,n.cropStart=u,n.processedXData=r,n.processedYData=i,p.pointRange===null&&(n.pointRange=l||1),n.closestPointRange=l},cropData:function(e,t,n,r){var i=e.length,s=0,o=i,a=jt(this.cropShoulder,1),f;for(f=0;f<i;f++)if(e[f]>=n){s=u(0,f-a);break}for(;f<i;f++)if(e[f]>r){o=f+a;break}return{xData:e.slice(s,o),yData:t.slice(s,o),start:s,end:o}},generatePoints:function(){var t=this,n=t.options,r=n.data,i=t.data,s,o=t.processedXData,u=t.processedYData,a=t.pointClass,f=o.length,l=t.cropStart||0,c,h=t.hasGroupedData,p,d=[],v;if(!i&&!h){var m=[];m.length=r.length,i=t.data=m}for(v=0;v<f;v++)c=l+v,h?d[v]=(new a).init(t,[o[v]].concat(Bt(u[v]))):(i[c]?p=i[c]:r[c]!==e&&(i[c]=p=(new a).init(t,r[c],o[v])),d[v]=p);if(i&&(f!==(s=i.length)||h))for(v=0;v<s;v++)v===l&&!h&&(v+=f),i[v]&&(i[v].destroyElements(),i[v].plotX=e);t.data=i,t.points=d},setStackedPoints:function(){if(!this.options.stacking||this.visible!==!0&&this.chart.options.chart.ignoreHiddenSeries!==!1)return;var e=this,t=e.processedXData,n=e.processedYData,r=[],i=n.length,s=e.options,o=s.threshold,a=s.stack,l=s.stacking,c=e.stackKey,h="-"+c,p=e.negStacks,d=e.yAxis,v=d.stacks,m=d.oldStacks,g,y,b,w,E,S,x;for(E=0;E<i;E++)S=t[E],x=n[E],g=p&&x<o,w=g?h:c,v[w]||(v[w]={}),v[w][S]||(m[w]&&m[w][S]?(v[w][S]=m[w][S],v[w][S].total=null):v[w][S]=new qn(d,d.options.stackLabels,g,S,a,l)),y=v[w][S],y.points[e.index]=[y.cum||0],l==="percent"?(b=g?c:h,p&&v[b]&&v[b][S]?(b=v[b][S],y.total=b.total=u(b.total,y.total)+f(x)||0):y.total+=f(x)||0):y.total+=x||0,y.cum=(y.cum||0)+(x||0),y.points[e.index].push(y.cum),r[E]=y.cum;l==="percent"&&(d.usePercentage=!0),this.stackedYData=r,d.oldStacks={}},setPercentStacks:function(){var e=this,t=e.stackKey,n=e.yAxis.stacks;cn([t,"-"+t],function(t){var r=e.xData.length,i,s,o,u;while(r--)i=e.xData[r],s=n[t]&&n[t][i],o=s&&s.points[e.index],o&&(u=s.total?100/s.total:0,o[0]=rn(o[0]*u),o[1]=rn(o[1]*u),e.stackedYData[r]=o[1])})},getExtremes:function(){var t=this.xAxis,n=this.yAxis,r=this.processedXData,i=this.stackedYData||this.processedYData,s=i.length,o=[],u=0,a=t.getExtremes(),f=a.min,l=a.max,c,h,p,d,v,m,g,y;for(g=0;g<s;g++){v=r[g],m=i[g],c=m!==null&&m!==e&&(!n.isLog||m.length||m>0),h=this.getExtremesFromAll||this.cropped||(r[g+1]||v)>=f&&(r[g-1]||v)<=l;if(c&&h){y=m.length;if(y)while(y--)m[y]!==null&&(o[u++]=m[y]);else o[u++]=m}}this.dataMin=jt(p,Yt(o)),this.dataMax=jt(d,Zt(o))},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t=this,n=t.options,r=n.stacking,i=t.xAxis,s=i.categories,o=t.yAxis,u=t.points,a=u.length,f=!!t.modifyValue,l,c=n.pointPlacement,h=c==="between"||Ot(c),p=n.threshold;for(l=0;l<a;l++){var d=u[l],v=d.x,m=d.y,g=d.low,y=o.stacks[(t.negStacks&&m<p?"-":"")+t.stackKey],b,w;o.isLog&&m<=0&&(d.y=m=null),d.plotX=i.translate(v,0,0,0,1,c,this.type==="flags"),r&&t.visible&&y&&y[v]&&(b=y[v],w=b.points[t.index],g=w[0],m=w[1],g===0&&(g=jt(p,o.min)),o.isLog&&g<=0&&(g=null),d.total=d.stackTotal=b.total,d.percentage=r==="percent"&&d.y/b.total*100,d.stackY=m,b.setOffset(t.pointXOffset||0,t.barW||0)),d.yBottom=Pt(g)?o.translate(g,0,1,0,1):null,f&&(m=t.modifyValue(m,d)),d.plotY=typeof m=="number"&&m!==Infinity?o.translate(m,0,1,0,1):e,d.clientX=h?i.translate(v,0,0,0,1):d.plotX,d.negative=d.y<(p||0),d.category=s&&s[d.x]!==e?s[d.x]:d.x}t.getSegments()},setTooltipPoints:function(t){var n=this,r=[],i,o,f,l=n.xAxis,c=l&&l.getExtremes(),h=l?l.tooltipLen||l.len:n.chart.plotSizeX,p,d,v,m,g=[];if(n.options.enableMouseTracking===!1)return;t&&(n.tooltipPoints=null),cn(n.segments||n.points,function(e){r=r.concat(e)}),l&&l.reversed&&(r=r.reverse()),n.orderTooltipPoints&&n.orderTooltipPoints(r),i=r.length;for(m=0;m<i;m++){p=r[m],d=p.x;if(d>=c.min&&d<=c.max){v=r[m+1],o=f===e?0:f+1,f=r[m+1]?a(u(0,s((p.clientX+(v?v.wrappedClientX||v.clientX:h))/2)),h):h;while(o>=0&&o<=f)g[o++]=p}}n.tooltipPoints=g},tooltipHeaderFormatter:function(e){var t=this,n=t.tooltipOptions,r=n.xDateFormat,i=n.dateTimeLabelFormats,s=t.xAxis,o=s&&s.options.type==="datetime",u=n.headerFormat,a=s&&s.closestPointRange,f;if(o&&!r)if(a){for(f in P)if(P[f]>=a){r=i[f];break}}else r=i.day;return o&&r&&Ot(e.key)&&(u=u.replace("{point.key}","{point.key:"+r+"}")),Xt(u,{point:e,series:t})},onMouseOver:function(){var e=this,t=e.chart,n=t.hoverSeries;n&&n!==e&&n.onMouseOut(),e.options.events.mouseOver&&gn(e,"mouseOver"),e.setState(G),t.hoverSeries=e},onMouseOut:function(){var e=this,t=e.options,n=e.chart,r=n.tooltip,i=n.hoverPoint;i&&i.onMouseOut(),e&&t.events.mouseOut&&gn(e,"mouseOut"),r&&!t.stickyTracking&&(!r.shared||e.noSharedTooltip)&&r.hide(),e.setState(),n.hoverSeries=null},animate:function(e){var t=this,n=t.chart,r=n.renderer,i,s,o=t.options.animation,u=n.clipBox,a=n.inverted,f;o&&!Lt(o)&&(o=Sn[t.type].animation),f="_sharedClip"+o.duration+o.easing,e?(i=n[f],s=n[f+"m"],i||(n[f]=i=r.clipRect(xt(u,{width:0})),n[f+"m"]=s=r.clipRect(-99,a?-n.plotLeft:-n.plotTop,99,a?n.chartWidth:n.chartHeight)),t.group.clip(i),t.markerGroup.clip(s),t.sharedClipKey=f):(i=n[f],i&&(i.animate({width:n.plotSizeX},o),n[f+"m"].animate({width:n.plotSizeX+99},o)),t.animate=null,t.animationTimeout=setTimeout(function(){t.afterAnimate()},o.duration))},afterAnimate:function(){var e=this.chart,t=this.sharedClipKey,n=this.group;n&&this.options.clip!==!1&&(n.clip(e.clipRect),this.markerGroup.clip()),setTimeout(function(){t&&e[t]&&(e[t]=e[t].destroy(),e[t+"m"]=e[t+"m"].destroy())},100)},drawPoints:function(){var t=this,n,r=t.points,o=t.chart,u,a,f,l,c,h,p,d,v=t.options,m=v.marker,g,y,b,w=t.markerGroup;if(m.enabled||t._hasPointMarkers){f=r.length;while(f--)l=r[f],u=s(l.plotX),a=l.plotY,d=l.graphic,g=l.marker||{},y=m.enabled&&g.enabled===e||g.enabled,b=o.isInsidePlot(i(u),a,o.inverted),y&&a!==e&&!isNaN(a)&&l.y!==null?(n=l.pointAttr[l.selected?Y:Q],c=n.r,h=jt(g.symbol,t.symbol),p=h.indexOf("url")===0,d?d.attr({visibility:b?S?"inherit":W:U}).animate(xt({x:u-c,y:a-c},d.symbolName?{width:2*c,height:2*c}:{})):b&&(c>0||p)&&(l.graphic=d=o.renderer.symbol(h,u-c,a-c,2*c,2*c).attr(n).add(w))):d&&(l.graphic=d.destroy())}},convertAttribs:function(e,t,n,r){var i=this.pointAttrToOptions,s,o,u={};e=e||{},t=t||{},n=n||{},r=r||{};for(s in i)o=i[s],u[s]=jt(e[o],t[s],n[s],r[s]);return u},getAttribs:function(){var t=this,n=t.options,r=Sn[t.type].marker?n.marker:n,i=r.states,s=i[G],o,u=t.color,a={stroke:u,fill:u},f=t.points||[],l,c,h=[],p,d=t.pointAttrToOptions,v,m=n.negativeColor,g=r.lineColor,y;n.marker?(s.radius=s.radius||r.radius+2,s.lineWidth=s.lineWidth||r.lineWidth+1):s.color=s.color||On(s.color||u).brighten(s.brightness).get(),h[Q]=t.convertAttribs(r,a),cn([G,Y],function(e){h[e]=t.convertAttribs(i[e],h[Q])}),t.pointAttr=h,l=f.length;while(l--){c=f[l],r=c.options&&c.options.marker||c.options,r&&r.enabled===!1&&(r.radius=0),c.negative&&m&&(c.color=c.fillColor=m),v=n.colorByPoint||c.color;if(c.options)for(y in d)Pt(r[d[y]])&&(v=!0);v?(r=r||{},p=[],i=r.states||{},o=i[G]=i[G]||{},n.marker||(o.color=On(o.color||c.color).brighten(o.brightness||s.brightness).get()),p[Q]=t.convertAttribs(xt({color:c.color,fillColor:c.color,lineColor:g===null?c.color:e},r),h[Q]),p[G]=t.convertAttribs(i[G],h[G],p[Q]),p[Y]=t.convertAttribs(i[Y],h[Y],p[Q])):p=h,c.pointAttr=p}},update:function(t,n){var r=this.chart,i=this.userOptions,s=this.type,o=St[s].prototype,u;t=Tt(i,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1);for(u in o)o.hasOwnProperty(u)&&(this[u]=e);xt(this,St[t.type||s].prototype),this.init(r,t),jt(n,!0)&&r.redraw(!1)},destroy:function(){var e=this,t=e.chart,n=/AppleWebKit\/533/.test(d),r,i,s=e.data||[],o,u,a;gn(e,"destroy"),mn(e),cn(["xAxis","yAxis"],function(t){a=e[t],a&&(Dt(a.series,e),a.isDirty=a.forceRedraw=!0,a.stacks={})}),e.legendItem&&e.chart.legend.destroyItem(e),i=s.length;while(i--)o=s[i],o&&o.destroy&&o.destroy();e.points=null,clearTimeout(e.animationTimeout),cn(["area","graph","dataLabelsGroup","group","markerGroup","tracker","graphNeg","areaNeg","posClip","negClip"],function(t){e[t]&&(r=n&&t==="group"?"hide":"destroy",e[t][r]())}),t.hoverSeries===e&&(t.hoverSeries=null),Dt(t.series,e);for(u in e)delete e[u]},drawDataLabels:function(){var t=this,n=t.options,r=n.cursor,i=n.dataLabels,s=t.points,o,u,a,f;if(i.enabled||t._hasPointLabels)t.dlProcessOptions&&t.dlProcessOptions(i),f=t.plotGroup("dataLabelsGroup","data-labels",t.visible?W:U,i.zIndex||6),u=i,cn(s,function(n){var s,l=n.dataLabel,c,h,p,d,v=n.connector,m=!0;o=n.options&&n.options.dataLabels,s=jt(o&&o.enabled,u.enabled);if(l&&!s)n.dataLabel=l.destroy();else if(s){i=Tt(u,o),d=i.rotation,c=n.getLabelConfig(),a=i.format?Xt(i.format,c):i.formatter.call(c,i),i.style.color=jt(i.color,i.style.color,t.color,"black");if(l)Pt(a)?(l.attr({text:a}),m=!1):(n.dataLabel=l=l.destroy(),v&&(n.connector=v.destroy()));else if(Pt(a)){h={fill:i.backgroundColor,stroke:i.borderColor,"stroke-width":i.borderWidth,r:i.borderRadius||0,rotation:d,padding:i.padding,zIndex:1};for(p in h)h[p]===e&&delete h[p];l=n.dataLabel=t.chart.renderer[d?"text":"label"](a,0,-999,null,null,null,i.useHTML).attr(h).css(xt(i.style,r&&{cursor:r})).add(f).shadow(i.shadow)}l&&t.alignDataLabel(n,l,i,null,m)}})},alignDataLabel:function(e,t,n,r,s){var o=this.chart,u=o.inverted,a=jt(e.plotX,-999),f=jt(e.plotY,-999),l=t.getBBox(),c=this.visible&&o.isInsidePlot(e.plotX,e.plotY,u),h;c&&(r=xt({x:u?o.plotWidth-f:a,y:i(u?o.plotHeight-a:f),width:0,height:0},r),xt(n,{width:l.width,height:l.height}),n.rotation?(h={align:n.align,x:r.x+n.x+r.width/2,y:r.y+n.y+r.height/2},t[s?"attr":"animate"](h)):(t.align(n,null,r),h=t.alignAttr,jt(n.overflow,"justify")==="justify"?this.justifyDataLabel(t,n,h,l,r,s):jt(n.crop,!0)&&(c=o.isInsidePlot(h.x,h.y)&&o.isInsidePlot(h.x+l.width,h.y+l.height)))),c||t.attr({y:-999})},justifyDataLabel:function(e,t,n,r,i,s){var o=this.chart,u=t.align,a=t.verticalAlign,f,l;f=n.x,f<0&&(u==="right"?t.align="left":t.x=-f,l=!0),f=n.x+r.width,f>o.plotWidth&&(u==="left"?t.align="right":t.x=o.plotWidth-f,l=!0),f=n.y,f<0&&(a==="bottom"?t.verticalAlign="top":t.y=-f,l=!0),f=n.y+r.height,f>o.plotHeight&&(a==="top"?t.verticalAlign="bottom":t.y=o.plotHeight-f,l=!0),l&&(e.placed=!s,e.align(t,null,i))},getSegmentPath:function(e){var t=this,n=[],r=t.options.step;return cn(e,function(i,s){var o=i.plotX,u=i.plotY,a;t.getPointSpline?n.push.apply(n,t.getPointSpline(e,i,s)):(n.push(s?J:$),r&&s&&(a=e[s-1],r==="right"?n.push(a.plotX,u):r==="center"?n.push((a.plotX+o)/2,a.plotY,(a.plotX+o)/2,u):n.push(o,a.plotY)),n.push(i.plotX,i.plotY))}),n},getGraphPath:function(){var e=this,t=[],n,r=[];return cn(e.segments,function(i){n=e.getSegmentPath(i),i.length>1?t=t.concat(n):r.push(i[0])}),e.singlePoints=r,e.graphPath=t,t},drawGraph:function(){var e=this,t=this.options,n=[["graph",t.lineColor||this.color]],r=t.lineWidth,i=t.dashStyle,s=t.linecap!=="square",o=this.getGraphPath(),u=t.negativeColor;u&&n.push(["graphNeg",u]),cn(n,function(n,u){var a=n[0],f=e[a],l;f?(wn(f),f.animate({d:o})):r&&o.length&&(l={stroke:n[1],"stroke-width":r,zIndex:1},i?l.dashstyle=i:s&&(l["stroke-linecap"]=l["stroke-linejoin"]="round"),e[a]=e.chart.renderer.path(o).attr(l).add(e.group).shadow(!u&&t.shadow))})},clipNeg:function(){var e=this.options,t=this.chart,n=t.renderer,r=e.negativeColor||e.negativeFillColor,s,o,a,f=this.graph,l=this.area,c=this.posClip,h=this.negClip,p=t.chartWidth,d=t.chartHeight,v=u(p,d),m=this.yAxis,g,y;r&&(f||l)&&(s=i(m.toPixels(e.threshold||0,!0)),g={x:0,y:0,width:v,height:s},y={x:0,y:s,width:v,height:v},t.inverted&&(g.height=y.y=t.plotWidth-s,n.isVML&&(g={x:t.plotWidth-s-t.plotLeft,y:0,width:p,height:d},y={x:s+t.plotLeft-p,y:0,width:t.plotLeft+s,height:p})),m.reversed?(o=y,a=g):(o=g,a=y),c?(c.animate(o),h.animate(a)):(this.posClip=c=n.clipRect(o),this.negClip=h=n.clipRect(a),f&&this.graphNeg&&(f.clip(c),this.graphNeg.clip(h)),l&&(l.clip(c),this.areaNeg.clip(h))))},invertGroups:function(){function n(){var t={width:e.yAxis.len,height:e.xAxis.len};cn(["group","markerGroup"],function(n){e[n]&&e[n].attr(t).invert()})}var e=this,t=e.chart;if(!e.xAxis)return;vn(t,"resize",n),vn(e,"destroy",function(){mn(t,"resize",n)}),n(),e.invertGroups=n},plotGroup:function(e,t,n,r,i){var s=this[e],o=!s;return o&&(this[e]=s=this.chart.renderer.g(t).attr({visibility:n,zIndex:r||.1}).add(i)),s[o?"attr":"animate"](this.getPlotBox()),s},getPlotBox:function(){return{translateX:this.xAxis?this.xAxis.left:this.chart.plotLeft,translateY:this.yAxis?this.yAxis.top:this.chart.plotTop,scaleX:1,scaleY:1}},render:function(){var e=this,t=e.chart,n,r=e.options,i=r.animation,s=i&&!!e.animate&&t.renderer.isSVG,o=e.visible?W:U,u=r.zIndex,a=e.hasRendered,f=t.seriesGroup;n=e.plotGroup("group","series",o,u,f),e.markerGroup=e.plotGroup("markerGroup","markers",o,u,f),s&&e.animate(!0),e.getAttribs(),n.inverted=e.isCartesian?t.inverted:!1,e.drawGraph&&(e.drawGraph(),e.clipNeg()),e.drawDataLabels(),e.drawPoints(),e.options.enableMouseTracking!==!1&&e.drawTracker(),t.inverted&&e.invertGroups(),r.clip!==!1&&!e.sharedClipKey&&!a&&n.clip(t.clipRect),s?e.animate():a||e.afterAnimate(),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var e=this,t=e.chart,n=e.isDirtyData,r=e.group,i=e.xAxis,s=e.yAxis;r&&(t.inverted&&r.attr({width:t.plotWidth,height:t.plotHeight}),r.animate({translateX:jt(i&&i.left,t.plotLeft),translateY:jt(s&&s.top,t.plotTop)})),e.translate(),e.setTooltipPoints(!0),e.render(),n&&gn(e,"updatedData")},setState:function(e){var t=this,n=t.options,r=t.graph,i=t.graphNeg,s=n.states,o=n.lineWidth,u;e=e||Q;if(t.state!==e){t.state=e;if(s[e]&&s[e].enabled===!1)return;e&&(o=s[e].lineWidth||o+1),r&&!r.dashstyle&&(u={"stroke-width":o},r.attr(u),i&&i.attr(u))}},setVisible:function(t,n){var r=this,i=r.chart,s=r.legendItem,o,u=i.options.chart.ignoreHiddenSeries,a=r.visible;r.visible=t=r.userOptions.visible=t===e?!a:t,o=t?"show":"hide",cn(["group","dataLabelsGroup","markerGroup","tracker"],function(e){r[e]&&r[e][o]()}),i.hoverSeries===r&&r.onMouseOut(),s&&i.legend.colorizeItem(r,t),r.isDirty=!0,r.options.stacking&&cn(i.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),cn(r.linkedSeries,function(e){e.setVisible(t,!1)}),u&&(i.isDirtyBox=!0),n!==!1&&i.redraw(),gn(r,o)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var n=this;n.selected=t=t===e?!n.selected:t,n.checkbox&&(n.checkbox.checked=t),gn(n,t?"select":"unselect")},drawTracker:function(){var e=this,t=e.options,n=t.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),i=r.length,s=e.chart,o=s.pointer,u=s.renderer,a=s.options.tooltip.snap,f=e.tracker,l=t.cursor,c=l&&{cursor:l},h=e.singlePoints,p,d,v=function(){s.hoverSeries!==e&&e.onMouseOver()};if(i&&!n){d=i+1;while(d--)r[d]===$&&r.splice(d+1,0,r[d+1]-a,r[d+2],J),(d&&r[d]===$||d===i)&&r.splice(d,0,J,r[d-2]+a,r[d-1])}for(d=0;d<h.length;d++)p=h[d],r.push($,p.plotX-a,p.plotY,J,p.plotX+a,p.plotY);f?f.attr({d:r}):(e.tracker=u.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?W:U,stroke:K,fill:n?K:V,"stroke-width":t.lineWidth+(n?0:2*a),zIndex:2}).add(e.group),cn([e.tracker,e.markerGroup],function(e){e.addClass(z+"tracker").on("mouseover",v).on("mouseout",function(e){o.onTrackerMouseOut(e)}).css(c),C&&e.on("touchstart",v)}))}};var Jn=qt($n);St.line=Jn,Sn.area=Tt(xn,{threshold:0});var Kn=qt($n,{type:"area",getSegments:function(){var e=[],t=[],n=[],r=this.xAxis,i=this.yAxis,s=i.stacks[this.stackKey],o={},u,a,f=this.points,l=this.options.connectNulls,c,h,p;if(this.options.stacking&&!this.cropped){for(h=0;h<f.length;h++)o[f[h].x]=f[h];for(p in s)s[p].total!==null&&n.push(+p);n.sort(function(e,t){return e-t}),cn(n,function(e){if(l&&(!o[e]||o[e].y===null))return;o[e]?t.push(o[e]):(u=r.translate(e),c=s[e].percent?s[e].total?s[e].cum*100/s[e].total:0:s[e].cum,a=i.toPixels(c,!0),t.push({y:null,plotX:u,clientX:u,plotY:a,yBottom:a,onMouseOver:H}))}),t.length&&e.push(t)}else $n.prototype.getSegments.call(this),e=this.segments;this.segments=e},getSegmentPath:function(e){var t=$n.prototype.getSegmentPath.call(this,e),n=[].concat(t),r,i=this.options,s=t.length,o=this.yAxis.getThreshold(i.threshold),u;s===3&&n.push(J,t[1],t[2]);if(i.stacking&&!this.closedStacks)for(r=e.length-1;r>=0;r--)u=jt(e[r].yBottom,o),r<e.length-1&&i.step&&n.push(e[r+1].plotX,u),n.push(e[r].plotX,u);else this.closeSegment(n,e,o);return this.areaPath=this.areaPath.concat(n),t},closeSegment:function(e,t,n){e.push(J,t[t.length-1].plotX,n,J,t[0].plotX,n)},drawGraph:function(){this.areaPath=[],$n.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,r=n.negativeColor,i=n.negativeFillColor,s=[["area",this.color,n.fillColor]];(r||i)&&s.push(["areaNeg",r,i]),cn(s,function(r){var i=r[0],s=e[i];s?s.animate({d:t}):e[i]=e.chart.renderer.path(t).attr({fill:jt(r[2],On(r[1]).setOpacity(jt(n.fillOpacity,.75)).get()),zIndex:0}).add(e.group)})},drawLegendSymbol:function(e,t){t.legendSymbol=this.chart.renderer.rect(0,e.baseline-11,e.options.symbolWidth,12,2).attr({zIndex:3}).add(t.legendGroup)}});St.area=Kn,Sn.spline=Tt(xn);var Qn=qt($n,{type:"spline",getPointSpline:function(e,t,n){var r=1.5,i=r+1,s=t.plotX,o=t.plotY,f=e[n-1],l=e[n+1],c,h,p,d,v;if(f&&l){var m=f.plotX,g=f.plotY,y=l.plotX,b=l.plotY,w;c=(r*s+m)/i,h=(r*o+g)/i,p=(r*s+y)/i,d=(r*o+b)/i,w=(d-h)*(p-s)/(p-c)+o-d,h+=w,d+=w,h>g&&h>o?(h=u(g,o),d=2*o-h):h<g&&h<o&&(h=a(g,o),d=2*o-h),d>b&&d>o?(d=u(b,o),h=2*o-d):d<b&&d<o&&(d=a(b,o),h=2*o-d),t.rightContX=p,t.rightContY=d}return n?(v=["C",f.rightContX||f.plotX,f.rightContY||f.plotY,c||s,h||o,s,o],f.rightContX=f.rightContY=null):v=[$,s,o],v}});St.spline=Qn,Sn.areaspline=Tt(Sn.area);var Gn=Kn.prototype,Yn=qt(Qn,{type:"areaspline",closedStacks:!0,getSegmentPath:Gn.getSegmentPath,closeSegment:Gn.closeSegment,drawGraph:Gn.drawGraph,drawLegendSymbol:Gn.drawLegendSymbol});St.areaspline=Yn,Sn.column=Tt(xn,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,threshold:0});var Zn=qt($n,{type:"column",pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){$n.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&cn(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var t=this,n=t.options,r=t.xAxis,i=t.yAxis,s=r.reversed,o,u={},l,c=0;n.grouping===!1?c=1:cn(t.chart.series,function(n){var r=n.options,s=n.yAxis;n.type===t.type&&n.visible&&i.len===s.len&&i.pos===s.pos&&(r.stacking?(o=n.stackKey,u[o]===e&&(u[o]=c++),l=u[o]):r.grouping!==!1&&(l=c++),n.columnIndex=l)});var h=a(f(r.transA)*(r.ordinalSlope||n.pointRange||r.closestPointRange||1),r.len),p=h*n.groupPadding,d=h-2*p,v=d/c,m=n.pointWidth,g=Pt(m)?(v-m)/2:v*n.pointPadding,y=jt(m,v-2*g),b=(s?c-(t.columnIndex||0):t.columnIndex)||0,w=g+(p+b*v-h/2)*(s?-1:1);return t.columnMetrics={width:y,offset:w}},translate:function(){var e=this,t=e.chart,n=e.options,r=n.borderWidth,s=e.yAxis,l=n.threshold,c=e.translatedThreshold=s.getThreshold(l),h=jt(n.minPointLength,5),p=e.getColumnMetrics(),d=p.width,v=e.barW=o(u(d,1+2*r)),m=e.pointXOffset=p.offset,g=-(r%2?.5:0),y=r%2?.5:1;t.renderer.isVML&&t.inverted&&(y+=1),$n.prototype.translate.apply(e),cn(e.points,function(e){var t=jt(e.yBottom,c),n=a(u(-999-t,e.plotY),s.len+999+t),r=e.plotX+m,o=v,l=a(n,t),p,b,w,E,S=u(n,t)-l;f(S)<h&&h&&(S=h,l=i(f(l-c)>h?t-h:c-(s.translate(e.y,0,1,0,1)<=c?h:0))),e.barX=r,e.pointWidth=d,E=f(r)<.5,p=i(r+o)+g,r=i(r)+g,o=p-r,w=f(l)<.5,b=i(l+S)+y,l=i(l)+y,S=b-l,E&&(r+=1,o-=1),w&&(l-=1,S+=1),e.shapeType="rect",e.shapeArgs={x:r,y:l,width:o,height:S}})},getSymbol:H,drawLegendSymbol:Kn.prototype.drawLegendSymbol,drawGraph:H,drawPoints:function(){var t=this,n=t.options,r=t.chart.renderer,i;cn(t.points,function(s){var o=s.plotY,u=s.graphic;o!==e&&!isNaN(o)&&s.y!==null?(i=s.shapeArgs,u?(wn(u),u.animate(Tt(i))):s.graphic=u=r[s.shapeType](i).attr(s.pointAttr[s.selected?Y:Q]).add(t.group).shadow(n.shadow,null,n.stacking&&!n.borderRadius)):u&&(s.graphic=u.destroy())})},drawTracker:function(){var t=this,n=t.chart,r=n.pointer,i=t.options.cursor,s=i&&{cursor:i},o=function(r){var i=r.target,s;n.hoverSeries!==t&&t.onMouseOver();while(i&&!s)s=i.point,i=i.parentNode;s!==e&&s!==n.hoverPoint&&s.onMouseOver(r)};cn(t.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),t._hasTracking||(cn(t.trackerGroups,function(e){t[e]&&(t[e].addClass(z+"tracker").on("mouseover",o).on("mouseout",function(e){r.onTrackerMouseOut(e)}).css(s),C&&t[e].on("touchstart",o))}),t._hasTracking=!0)},alignDataLabel:function(e,t,n,r,i){var s=this.chart,o=s.inverted,u=e.dlBox||e.shapeArgs,a=e.below||e.plotY>jt(this.translatedThreshold,s.plotSizeY),f=jt(n.inside,!!this.options.stacking);u&&(r=Tt(u),o&&(r={x:s.plotWidth-r.y-r.height,y:s.plotHeight-r.x-r.width,width:r.height,height:r.width}),f||(o?(r.x+=a?0:r.width,r.width=0):(r.y+=a?r.height:0,r.height=0))),n.align=jt(n.align,!o||f?"center":a?"right":"left"),n.verticalAlign=jt(n.verticalAlign,o||f?"middle":a?"top":"bottom"),$n.prototype.alignDataLabel.call(this,e,t,n,r,i)},animate:function(e){var t=this,n=this.yAxis,r=t.options,i=this.chart.inverted,s={},o;S&&(e?(s.scaleY=.001,o=a(n.pos+n.len,u(n.pos,n.toPixels(r.threshold))),i?s.translateX=o-n.len:s.translateY=o,t.group.attr(s)):(s.scaleY=1,s[i?"translateX":"translateY"]=n.pos,t.group.animate(s,t.options.animation),t.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&cn(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),$n.prototype.remove.apply(e,arguments)}});St.column=Zn,Sn.bar=Tt(Sn.column);var er=qt(Zn,{type:"bar",inverted:!0});St.bar=er,Sn.scatter=Tt(xn,{lineWidth:0,tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>",followPointer:!0},stickyTracking:!1});var tr=qt($n,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],takeOrdinalPosition:!1,drawTracker:Zn.prototype.drawTracker,setTooltipPoints:H});St.scatter=tr,Sn.pie=Tt(xn,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var nr=qt(Vn,{init:function(){Vn.prototype.init.apply(this,arguments);var e=this,t;return e.y<0&&(e.y=null),xt(e,{visible:e.visible!==!1,name:jt(e.name,"Slice")}),t=function(t){e.slice(t.type==="select")},vn(e,"select",t),vn(e,"unselect",t),e},setVisible:function(t){var n=this,r=n.series,i=r.chart,s;n.visible=n.options.visible=t=t===e?!n.visible:t,r.options.data[ln(n,r.data)]=n.options,s=t?"show":"hide",cn(["graphic","dataLabel","connector","shadowGroup"],function(e){n[e]&&n[e][s]()}),n.legendItem&&i.legend.colorizeItem(n,t),!r.isDirty&&r.options.ignoreHiddenPoint&&(r.isDirty=!0,i.redraw())},slice:function(e,t,n){var r=this,i=r.series,s=i.chart,o;sn(n,s),t=jt(t,!0),r.sliced=r.options.sliced=e=Pt(e)?e:!r.sliced,i.options.data[ln(r,i.data)]=r.options,o=e?r.slicedTranslation:{translateX:0,translateY:0},r.graphic.animate(o),r.shadowGroup&&r.shadowGroup.animate(o)}}),rr={type:"pie",isCartesian:!1,pointClass:nr,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:H,animate:function(e){var t=this,n=t.points,r=t.startAngleRad;e||(cn(n,function(e){var n=e.graphic,i=e.shapeArgs;n&&(n.attr({r:t.center[3]/2,start:r,end:r}),n.animate({r:i.r,start:i.start,end:i.end},t.options.animation))}),t.animate=null)},setData:function(e,t){$n.prototype.setData.call(this,e,!1),this.processData(),this.generatePoints(),jt(t,!0)&&this.chart.redraw()},generatePoints:function(){var e,t=0,n,r,i,s=this.options.ignoreHiddenPoint;$n.prototype.generatePoints.call(this),n=this.points,r=n.length;for(e=0;e<r;e++)i=n[e],t+=s&&!i.visible?0:i.y;this.total=t;for(e=0;e<r;e++)i=n[e],i.percentage=t>0?i.y/t*100:0,i.total=t},getCenter:function(){var e=this.options,t=this.chart,n=2*(e.slicedOffset||0),r,i=t.plotWidth-2*n,s=t.plotHeight-2*n,o=e.center,u=[jt(o[0],"50%"),jt(o[1],"50%"),e.size||"100%",e.innerSize||0],f=a(i,s),l;return dn(u,function(e,t){return l=/%$/.test(e),r=t<2||t===2&&l,(l?[i,s,f,f][t]*Ct(e)/100:e)+(r?n:0)})},translate:function(e){this.generatePoints();var t=this,n=0,s=1e3,o=t.options,u=o.slicedOffset,f=u+o.borderWidth,p,d,v,m=o.startAngle||0,g=t.startAngleRad=h/180*(m-90),y=t.endAngleRad=h/180*((o.endAngle||m+360)-90),b=y-g,w=t.points,E,S,x=o.dataLabels.distance,T=o.ignoreHiddenPoint,N,C=w.length,k;e||(t.center=e=t.getCenter()),t.getX=function(t,n){return v=r.asin((t-e[1])/(e[2]/2+x)),e[0]+(n?-1:1)*l(v)*(e[2]/2+x)};for(N=0;N<C;N++){k=w[N],p=g+n*b;if(!T||k.visible)n+=k.percentage/100;d=g+n*b,k.shapeType="arc",k.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:i(p*s)/s,end:i(d*s)/s},v=(d+p)/2,v>.75*b&&(v-=2*h),k.slicedTranslation={translateX:i(l(v)*u),translateY:i(c(v)*u)},E=l(v)*e[2]/2,S=c(v)*e[2]/2,k.tooltipPos=[e[0]+E*.7,e[1]+S*.7],k.half=v<-h/2||v>h/2?1:0,k.angle=v,f=a(f,x/2),k.labelPos=[e[0]+E+l(v)*x,e[1]+S+c(v)*x,e[0]+E+l(v)*f,e[1]+S+c(v)*f,e[0]+E,e[1]+S,x<0?"center":k.half?"right":"left",v]}},setTooltipPoints:H,drawGraph:null,drawPoints:function(){var e=this,t=e.chart,n=t.renderer,r,i,s=e.options.shadow,o,u;s&&!e.shadowGroup&&(e.shadowGroup=n.g("shadow").add(e.group)),cn(e.points,function(t){i=t.graphic,u=t.shapeArgs,o=t.shadowGroup,s&&!o&&(o=t.shadowGroup=n.g("shadow").add(e.shadowGroup)),r=t.sliced?t.slicedTranslation:{translateX:0,translateY:0},o&&o.attr(r),i?i.animate(xt(u,r)):t.graphic=i=n.arc(u).setRadialReference(e.center).attr(t.pointAttr[t.selected?Y:Q]).attr({"stroke-linejoin":"round"}).attr(r).add(e.group).shadow(s,o),t.visible===!1&&t.setVisible(!1)})},sortByAngle:function(e,t){e.sort(function(e,n){return e.angle!==undefined&&(n.angle-e.angle)*t})},drawDataLabels:function(){var e=this,t=e.data,n,r=e.chart,s=e.options.dataLabels,o=jt(s.connectorPadding,10),a=jt(s.connectorWidth,1),l=r.plotWidth,c=r.plotHeight,h,p,d=jt(s.softConnector,!0),v=s.distance,m=e.center,g=m[2]/2,y=m[1],b=v>0,w,E,S,x,T=[[],[]],N,C,k,L,A,O,M=[0,0,0,0],_=function(e,t){return t.y-e.y};if(!e.visible||!s.enabled&&!e._hasPointLabels)return;$n.prototype.drawDataLabels.apply(e),cn(t,function(e){e.dataLabel&&T[e.half].push(e)}),A=0;while(!x&&t[A])x=t[A]&&t[A].dataLabel&&(t[A].dataLabel.getBBox().height||21),A++;A=2;while(A--){var D=[],P,H=[],B=T[A],j,F=B.length,I;e.sortByAngle(B,A-.5);if(v>0){for(j=y-g-v;j<=y+g+v;j+=x)D.push(j);P=D.length;if(F>P){L=[].concat(B),L.sort(_),O=F;while(O--)L[O].rank=O;O=F;while(O--)B[O].rank>=P&&B.splice(O,1);F=B.length}for(O=0;O<F;O++){n=B[O],S=n.labelPos;var q=9999,R,z;for(z=0;z<P;z++)R=f(D[z]-S[1]),R<q&&(q=R,I=z);if(I<O&&D[O]!==null)I=O;else if(P<F-O+I&&D[O]!==null){I=P-F+O;while(D[I]===null)I++}else while(D[I]===null)I++;H.push({i:I,y:D[I]}),D[I]=null}H.sort(_)}for(O=0;O<F;O++){var X,V;n=B[O],S=n.labelPos,w=n.dataLabel,k=n.visible===!1?U:W,V=S[1];if(v>0){X=H.pop(),I=X.i,C=X.y;if(V>C&&D[I+1]!==null||V<C&&D[I-1]!==null)C=V}else C=V;N=s.justify?m[0]+(A?-1:1)*(g+v):e.getX(I===0||I===D.length-1?V:C,A),w._attr={visibility:k,align:S[6]},w._pos={x:N+s.x+({left:o,right:-o}[S[6]]||0),y:C+s.y-10},w.connX=N,w.connY=C,this.options.size===null&&(E=w.width,N-E<o?M[3]=u(i(E-N+o),M[3]):N+E>l-o&&(M[1]=u(i(N+E-l+o),M[1])),C-x/2<0?M[0]=u(i(-C+x/2),M[0]):C+x/2>c&&(M[2]=u(i(C+x/2-c),M[2])))}}if(Zt(M)===0||this.verifyDataLabelOverflow(M))this.placeDataLabels(),b&&a&&cn(this.points,function(t){h=t.connector,S=t.labelPos,w=t.dataLabel,w&&w._pos?(k=w._attr.visibility,N=w.connX,C=w.connY,p=d?[$,N+(S[6]==="left"?5:-5),C,"C",N,C,2*S[2]-S[4],2*S[3]-S[5],S[2],S[3],J,S[4],S[5]]:[$,N+(S[6]==="left"?5:-5),C,J,S[2],S[3],J,S[4],S[5]],h?(h.animate({d:p}),h.attr("visibility",k)):t.connector=h=e.chart.renderer.path(p).attr({"stroke-width":a,stroke:s.connectorColor||t.color||"#606060",visibility:k}).add(e.group)):h&&(t.connector=h.destroy())})},verifyDataLabelOverflow:function(e){var t=this.center,n=this.options,r=n.center,i=n.minSize||80,s=i,o;return r[0]!==null?s=u(t[2]-u(e[1],e[3]),i):(s=u(t[2]-e[1]-e[3],i),t[0]+=(e[3]-e[1])/2),r[1]!==null?s=u(a(s,t[2]-u(e[0],e[2])),i):(s=u(a(s,t[2]-e[0]-e[2]),i),t[1]+=(e[0]-e[2])/2),s<t[2]?(t[2]=s,this.translate(t),cn(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels()):o=!0,o},placeDataLabels:function(){cn(this.points,function(e){var t=e.dataLabel,n;t&&(n=t._pos,n?(t.attr(t._attr),t[t.moved?"animate":"attr"](n),t.moved=!0):t&&t.attr({y:-999}))})},alignDataLabel:H,drawTracker:Zn.prototype.drawTracker,drawLegendSymbol:Kn.prototype.drawLegendSymbol,getSymbol:H};rr=qt($n,rr),St.pie=rr,xt(Highcharts,{Axis:Rn,Chart:Xn,Color:On,Legend:Wn,Pointer:zn,Point:Vn,Tick:Fn,Tooltip:Un,Renderer:N,Series:$n,SVGElement:Mn,SVGRenderer:_n,arrayMin:Yt,arrayMax:Zt,charts:B,dateFormat:M,format:Xt,pathAnim:D,getOptions:Cn,hasBidiBug:x,isTouchDevice:w,numberFormat:Rt,seriesTypes:St,setOptions:Nn,addEvent:vn,removeEvent:mn,createElement:It,discardElement:tn,css:Ft,each:cn,extend:xt,map:dn,merge:Tt,pick:jt,splat:Bt,extendClass:qt,pInt:Ct,wrap:zt,svg:S,canvas:T,vml:!S&&!T,product:j,version:F})}(),define("highcharts",["jquery","highcharts.runtime_patches"],function(e){return function(){var t,n;return n=function(e,t){return t.applyPatches(this.Highcharts),this.Highcharts},t=n.apply(e,arguments),t||e.Highcharts}}(this)),define("js_charting/util/math_utils",["underscore","util/math_utils"],function(e,t){var n=/^( )*(0x|-0x)/,r=function(e){return n.test(e)?parseInt(e,16):t.strictParseFloat(e)},i=function(e){var t=Math.log(e)/Math.LN10;return Math.round(t*1e4)/1e4},s=function(t){typeof t!="number"&&(t=r(t));if(e(t).isNaN())return t;var n=t<0,s;return n&&(t=-t),t<10&&(t+=(10-t)/10),s=i(t),n?-s:s},o=function(t){typeof t!="number"&&(t=r(t));if(e(t).isNaN())return t;var n=t<0,i;return n&&(t=-t),i=Math.pow(10,t),i<10&&(i=10*(i-1)/9),i=n?-i:i,Math.round(i*1e3)/1e3},u=function(e){if(typeof e!="number")return NaN;var t=e<0;e=t?-e:e;var n=i(e),r=Math.pow(10,Math.floor(n));return t?-r:r},a=function(e,t){return Math.max(Math.round(e),t)},f=function(e,t,n){var r=Math.round(e);return r<t?t:r>n?n:r},l=function(e){return e*Math.PI/180},c=function(e,t){t=t||Infinity;var n=0;while(n<t&&e.toFixed(n)!==e.toString())n+=1;return n};return{parseFloat:r,logBaseTen:i,absLogBaseTen:s,absPowerTen:o,nearestPowerOfTen:u,roundWithMin:a,roundWithMinMax:f,degreeToRadian:l,getDecimalPrecision:c}}),define("js_charting/helpers/DataSet",["jquery","underscore","../util/math_utils"],function(e,t,n){var r=function(n){var r=n.fields||{},i=n.columns||{};this.fields=[],this.seriesList=[],this.fieldMetadata={},t(r).each(function(n,r){var s;t.isObject(n)?(s=n.name,this.fieldMetadata[s]=n):s=n;if(e.inArray(s,this.ALLOWED_HIDDEN_FIELDS)>-1||this.isDataField(s))this.fields.push(s),this.seriesList.push(e.extend([],i[r]))},this),this.length=this.fields.length,this.getSeriesAsFloats=t.memoize(this.getSeriesAsFloats,this.seriesAsFloatsMemoizeHash)};return r.prototype={ALLOWED_HIDDEN_FIELDS:["_span","_lower","_predicted","_upper","_tc"],DATA_FIELD_REGEX:/^[^_]|^_time$/,allDataFields:function(){return t(this.fields).filter(this.isDataField,this)},isDataField:function(e){return this.DATA_FIELD_REGEX.test(e)},isTotalValue:function(e){return e==="ALL"},hasField:function(e){return t(this.fields).indexOf(e)>-1},fieldAt:function(e){return this.fields[e]},fieldIsGroupby:function(e){return this.fieldMetadata[e]&&this.fieldMetadata[e].hasOwnProperty("groupby_rank")},seriesAt:function(e){return this.seriesList[e]},getSeries:function(e){var n=t(this.fields).indexOf(e);return n===-1?[]:t(this.seriesList[n]).map(function(e){return e===null?"":e})},getSeriesAsFloats:function(e,r){r=r||{};var i=this.getSeries(e),s=r.nullValueMode==="zero",o=r.scale==="log",u=[];for(var a=0;a<i.length;a++){var f=n.parseFloat(i[a]);if(t.isNaN(f)){u.push(s?0:null);continue}u.push(o?n.absLogBaseTen(f):f)}return u},getSeriesAsTimestamps:function(e){var n=this.getSeries(e);return this.isTotalValue(t(n).last())?n.slice(0,-1):n},seriesAsFloatsMemoizeHash:function(e,t){return t=t||{},e+t.scale+t.nullValueMode},toJSON:function(){return{fields:this.fields,columns:this.seriesList}}},r}),define("js_charting/util/dom_utils",["jquery","underscore"],function(e,t){var n=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,r=t(e.fn.on).isFunction()?e.fn.on:e.fn.bind,i=t(e.fn.off).isFunction()?e.fn.off:e.fn.unbind,s=function(e,t){if(e.attr("text")===t)return;e.added=!0,e.attr({text:t})},o=function(t){var n=t.label,r=t.label.element.nodeName.toLowerCase();r==="text"?n.hide():e(n.element).hide()},u=function(t){var n=t.label,r=t.label.element.nodeName.toLowerCase();r==="text"?n.show():e(n.element).show()};return{hasSVG:n,jQueryOn:r,jQueryOff:i,setLegendItemText:s,hideTickLabel:o,showTickLabel:u}}),define("js_charting/helpers/EventMixin",["jquery","../util/dom_utils"],function(e,t){return{on:function(n,r){t.jQueryOn.call(e(this),n,r)},off:function(n,r){t.jQueryOff.call(e(this),n,r)},trigger:function(t,n){e(this).trigger(t,n)}}}),define("js_charting/util/color_utils",["underscore","splunk.util"],function(e,t){var n=function(t,n){typeof t!="number"&&(t=parseInt(t,16));if(e(t).isNaN()||t<0||t>16777215)return null;var r=(t&16711680)>>16,i=(t&65280)>>8,s=t&255;return n===undefined?"rgb("+r+","+i+","+s+")":"rgba("+r+","+i+","+s+","+n+")"},r=function(e){var t=e.split(","),n=t[0].charAt(3);return n==="a"?(t[0]=t[0].replace("rgba","rgb"),t[t.length-1]=")",t=t.join(),t=t.replace(",)",")"),t):e},i=function(e){var n=t.normalizeColor(e);return n?parseInt(n.replace("#","0x"),16):0},s=function(e,t){var r=typeof e=="number"?e:i(e);return n(r,t)},o=function(e){typeof e!="number"&&(e=parseInt(e,16));if(isNaN(e)||e<0||e>16777215)return 0;var t=(e&16711680)>>16,n=(e&65280)>>8,r=e&255;return Math.round(.2126*t+.7152*n+.0722*r)};return{colorFromHex:n,stripOutAlpha:r,hexFromColor:i,addAlphaToColor:s,getLuminance:o}}),define("js_charting/util/parsing_utils",["underscore","splunk.util"],function(e,t){var n=function(n,r){return e(n).isUndefined()?!!r:t.normalizeBoolean(n)},r=function(t){if(!t)return!1;var n,r,i,a,f={};t=s(t);var l=t.length;if(t.charAt(0)!=="{"||t.charAt(l-1)!=="}")return!1;if(/^\{\s*\}$/.test(t))return{};t=t.substr(1,l-2),r=o(t,",");for(n=0;n<r.length;n++)i=o(r[n],":"),a=s(i[0]),a[0]==='"'&&(a=a.substring(1)),e(a).last()==='"'&&(a=a.substring(0,a.length-1)),a=u(a,["{","}","[","]","(",")",",",":",'"']),f[a]=s(i[1]);return f},i=function(e){if(!e)return!1;e=s(e);var n=e.length;return e.charAt(0)!=="["||e.charAt(n-1)!=="]"?!1:/^\[\s*\]$/.test(e)?[]:(e=e.substr(1,n-2),t.stringToFieldList(e))},s=function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},o=function(t,n,r){r=r||"\\";var i=t.split(n),s=[i.shift()];return e(i).each(function(t){var i=e(s).last();e(i).last()===r?s[s.length-1]+=n+t:s.push(t)}),s},u=function(t,n){return e(n).each(function(e){var n=new RegExp("\\\\\\"+e,"g");t=t.replace(n,e)}),t},a=function(e){return t.escapeHtml(e)},f=function(e){return(""+e).replace(/</g,"&lt;").replace(/>/g,"&gt;")},l=function(e){var t,n,r=i(e);if(!r)return!1;for(t=0;t<r.length;t++){n=parseInt(r[t],16);if(isNaN(n))return!1;r[t]=n}return r},c=function(e,t){if(e instanceof Array&&t instanceof Array){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1},h=function(t){var n={},r=g(t,/legend[.]/);return e(r).each(function(e,t){n[t.replace(/^legend[.]/,"")]=e}),n},p=function(e){var t,n,r={},i=g(e,/(axisX|primaryAxis|axisLabelsX|axisTitleX|gridLinesX)/);for(t in i)i.hasOwnProperty(t)&&(d(t,e)||(n=t.replace(/(axisX|primaryAxis)/,"axis"),n=n.replace(/axisLabelsX/,"axisLabels"),n=n.replace(/axisTitleX/,"axisTitle"),n=n.replace(/gridLinesX/,"gridLines"),r[n]=i[t]));return r},d=function(e,t){return/primaryAxis/.test(e)?/primaryAxisTitle/.test(e)?t[e.replace(/primaryAxisTitle/,"axisTitleX")]:t[e.replace(/primaryAxis/,"axisX")]:!1},v=function(e,n){var r,i,s={},o,u;n=n||0;if(n===0)o=g(e,/(axisY[^2]|secondaryAxis|axisLabelsY(?!2.*|\.majorLabelStyle\.rotation|\.majorLabelStyle\.overflowMode)|axisTitleY[^2]|gridLinesY[^2])/);else{if(n!==1)throw new Error("Axis index must be 0 or 1");o=g(e,/(axisY2(?!\.enabled)|axisLabelsY2(?!\.majorLabelStyle\.rotation|\.majorLabelStyle\.overflowMode)|axisTitleY2|gridLinesY2)/),u=t.normalizeBoolean(o["gridLinesY2.showMajorLines"]);if(!o["axisY2.scale"]||o["axisY2.scale"]==="inherit")o["axisY2.scale"]=e?e["axisY.scale"]||"linear":"linear";typeof u!="boolean"&&(o["gridLinesY2.showMajorLines"]=0),o["axisLabelsY2.extendsAxisRange"]=e?e["axisLabelsY.extendsAxisRange"]||!0:!0}for(r in o)o.hasOwnProperty(r)&&(m(r,e)||(i=r.replace(/(axisY2|axisY|secondaryAxis)/,"axis"),i=i.replace(/axisLabelsY2|axisLabelsY/,"axisLabels"),i=i.replace(/axisTitleY2|axisTitleY/,"axisTitle"),i=i.replace(/gridLinesY2|gridLinesY/,"gridLines"),s[i]=o[r]));return s},m=function(e,t){return/secondaryAxis/.test(e)?/secondaryAxisTitle/.test(e)?t[e.replace(/secondaryAxisTitle/,"axisTitleY")]:t[e.replace(/secondaryAxis/,"axisY")]:!1},g=function(e,t){if(t instanceof RegExp){var n,r={};for(n in e)e.hasOwnProperty(n)&&t.test(n)&&(r[n]=e[n]);return r}return e},y=function(t){var n=[-90,-45,0,45,90],r=0,i;return i=parseInt(t,10),e.indexOf(n,i)===-1?r:i};return{normalizeBoolean:n,stringToObject:r,stringToArray:i,trimWhitespace:s,escapeSafeSplit:o,unescapeChars:u,escapeHtml:a,escapeSVG:f,stringToHexArray:l,arraysAreEquivalent:c,getLegendProperties:h,getXAxisProperties:p,xAxisKeyIsTrumped:d,getYAxisProperties:v,yAxisKeyIsTrumped:m,filterPropsByRegex:g,getRotation:y}}),define("js_charting/visualizations/Visualization",["jquery","underscore","../helpers/EventMixin","../util/color_utils","../util/parsing_utils"],function(e,t,n,r,i){var s=function(n,r){this.container=n,this.$container=e(n),this.properties=e.extend(!0,{},r),this.id=t.uniqueId("viz_"),this._isDirty=!1,this.updateDimensions(),this.benchmarks=[]};return s.prototype=e.extend({},n,{requiresExternalColors:!1,getWidth:function(){return this.$container.width()},getHeight:function(){return this.$container.height()},getCurrentDisplayProperties:function(){return this.properties},isDirty:function(){return this._isDirty},updateDimensions:function(){this.width=this.getWidth(),this.height=this.getHeight()},getClassName:function(){return this.type+"-chart"},prepare:function(n,r){var i=e.extend(!0,{},this.properties);r&&(e.extend(!0,this.properties,r),t.isEqual(this.properties,i)||(this._isDirty=!0)),this.dataSet=n,this.updateDimensions(),this.processProperties()},draw:function(t){var n=this,r=e.Deferred();return this.handleDraw(function(){n._isDirty=!1,t&&t.apply(null,arguments),r.resolve.apply(r,arguments)}),r},prepareAndDraw:function(e,t,n){return this.prepare(e,t),this.draw(n)},requiresExternalColorPalette:function(){return this.requiresExternalColors},processProperties:function(){this.type=this.properties.chart||"column",this.backgroundColor=this.properties["chart.backgroundColor"]||this.properties.backgroundColor||"rgb(255, 255, 255)",this.foregroundColor=this.properties["chart.foregroundColor"]||this.properties.foregroundColor||"rgb(0, 0, 0)",this.fontColor=this.properties["chart.fontColor"]||this.properties.fontColor||"rgb(0, 0, 0)",this.foregroundColorSoft=r.addAlphaToColor(this.foregroundColor,.25),this.foregroundColorSofter=r.addAlphaToColor(this.foregroundColor,.15),this.testMode=i.normalizeBoolean(this.properties["chart.testMode"])||i.normalizeBoolean(this.properties.testMode),this.exportMode=i.normalizeBoolean(this.properties["chart.exportMode"])||i.normalizeBoolean(this.properties.exportMode)},resize:function(){var e=this.width,t=this.height;this.updateDimensions();if(this.width===e&&this.height===t)return;this.setSize(this.width,this.height)},handleDraw:function(e){},destroy:function(){},getSVG:function(){},benchmark:function(e){if(!this.testMode)return;if(this.benchmarks.length===0)this.benchmarks.push([e,(new Date).getTime()]);else{var n=t(this.benchmarks).reduce(function(e,t){return e+t[1]},0);this.benchmarks.push([e,(new Date).getTime()-n])}}}),s}),define("js_charting/components/ColorPalette",["../util/parsing_utils","../util/color_utils"],function(e,t){var n=function(t,n){this.setColors(t),this.useInterpolation=e.normalizeBoolean(n,!1)};return n.prototype={setColors:function(e){this.colors=e||this.BASE_COLORS},getColor:function(e,t,n){var r,i,s,o=this.colors.length;return o===0?0:(t<0&&(t=0),this.useInterpolation?(n<1&&(n=1),t>n&&(t=n),r=n===1?0:(o-1)*(t/(n-1)),i=Math.floor(r),s=Math.min(i+1,o-1),r-=i,this.interpolateColors(this.colors[i],this.colors[s],r)):this.colors[t%o])},getColorAsRgb:function(e,n,r){var i=this.getColor(e,n,r);return t.colorFromHex(i)},interpolateColors:function(e,t,n){var r=e>>16&255,i=e>>8&255,s=e&255,o=t>>16&255,u=t>>8&255,a=t&255,f=r+Math.round((o-r)*n),l=i+Math.round((u-i)*n),c=s+Math.round((a-s)*n);return f<<16|l<<8|c},BASE_COLORS:[7059400,16434717,14179901,9793174,16224556,10142268,10062933,14518192,5536175,14723387,7047472,10503512,10999007,16571767,15244939,12560576,16432512,12769930,12761753,15448016,10006479,15518601,10926211,13012891,4288121,9860881,8534053,5849690,9721626,6059044,6050867,8737130,3295593,8807715,4215325,6302005]},n}),define("js_charting/helpers/font_data/widths/helvetica",[],function(){var e={32:278,33:278,34:355,35:556,36:556,37:889,38:667,39:222,40:333,41:333,42:389,43:584,44:278,45:333,46:278,47:278,48:556,49:556,50:556,51:556,52:556,53:556,54:556,55:556,56:556,57:556,58:278,59:278,60:584,61:584,62:584,63:556,64:1015,65:667,66:667,67:722,68:722,69:667,70:611,71:778,72:722,73:278,74:500,75:667,76:556,77:833,78:722,79:778,80:667,81:778,82:722,83:667,84:611,85:722,86:667,87:944,88:667,89:667,90:611,91:278,92:278,93:278,94:469,95:556,96:222,97:556,98:556,99:500,100:556,101:556,102:278,103:556,104:556,105:222,106:222,107:500,108:222,109:833,110:556,111:556,112:556,113:556,114:333,115:500,116:278,117:556,118:500,119:722,120:500,121:500,122:500,123:334,124:260,125:334,126:584,161:333,162:556,163:556,164:167,165:556,166:556,167:556,168:556,169:191,170:333,171:556,172:333,173:333,174:500,175:500,177:556,178:556,179:556,180:278,182:537,183:350,184:222,185:333,186:333,187:556,188:1e3,189:1e3,191:611,193:333,194:333,195:333,196:333,197:333,198:333,199:333,200:333,202:333,203:333,205:333,206:333,207:333,208:1e3,225:1e3,227:370,232:556,233:778,234:1e3,235:365,241:889,245:278,248:222,249:611,250:944,251:611};return e}),define("js_charting/helpers/Formatter",["jquery","underscore","../util/dom_utils","./font_data/widths/helvetica"],function(e,t,n,r){var i=function(e){this.renderer=e,this.hasSVG=n.hasSVG,this.charWidths=r,this.DEFAULT_CHAR_WIDTH=1e3,this.ELLIPSIS_WIDTH=834,this.ELLIPSIS="...",this.PX_TO_PT_RATIO={},this.boldFontScale=1.0555,this.KERNING_FACTOR=.006};return i.prototype={_getPxScale:function(e,t){var n="foo",r;return t&&t["font-weight"]&&t["font-weight"]==="bold"?(r=this.PX_TO_PT_RATIO[e].bold,r||(r=this._calculatePxScale(n,e,t),this.PX_TO_PT_RATIO[e].bold=r),r):(r=this.PX_TO_PT_RATIO[e],r||(r=this._calculatePxScale(n,e),this.PX_TO_PT_RATIO[e]=r),r)},_calculatePxScale:function(e,t,n){var r=this.getTextBBox(e,t,n).width,i=this._widthOfString(e,n),s=i*t/1e3;return r/s},_widthOfString:function(e,t){var n=1;t&&t["font-weight"]&&t["font-weight"]==="bold"&&(n=this.boldFontScale);if(!e||e==="")return 0;var r=0,i=e.length;for(var s=0;s<i;s++)r+=this.charWidths[e.charCodeAt(s)]||this.DEFAULT_CHAR_WIDTH;return r*n},ellipsize:function(n,r,i,s,o){t(n).isArray()&&(n=n.join(",")),n=e.trim(n);var u=n.length;if(!n||n==="")return"";if(u<=3||!i||isNaN(i)||i<=0)return n;if(!r||isNaN(r)||r<=0)return this.ELLIPSIS;var a=this.KERNING_FACTOR*i*u,f=(r+a)/this._getPxScale(i),l=this._widthOfString(n,s),c=f*1e3/i,h=l-c,p=0,d="",v,m,g;if(!(h>0))return n;var y=c-this.ELLIPSIS_WIDTH;switch(o){case"end":for(v=0;v<u;v++){p+=this.charWidths[n.charCodeAt(v)]||this.DEFAULT_CHAR_WIDTH;if(p>y)return d+this.ELLIPSIS;d+=n[v]}break;case"start":m=u-1;for(v=m;v>=0;v--){p+=this.charWidths[n.charCodeAt(v)]||this.DEFAULT_CHAR_WIDTH;if(p>y)return this.ELLIPSIS+d;d=n[v].concat(d)}break;default:g=Math.floor(n.length/2);for(v=0;v<=g;v++){p+=this.charWidths[n.charCodeAt(v)]||this.DEFAULT_CHAR_WIDTH;if(p>y)return n.substring(0,v)+this.ELLIPSIS+n.substring(u-v,u);if(p===y)return n.substring(0,v+1)+this.ELLIPSIS+n.substring(u-v,u);p+=this.charWidths[n.charCodeAt(u-v-1)]||this.DEFAULT_CHAR_WIDTH;if(p>y)return n.substring(0,v+1)+this.ELLIPSIS+n.substring(u-v,u);if(p===y)return n.substring(0,v+1)+this.ELLIPSIS+n.substring(u-v-1,u)}}},trimStringToWidth:function(e,t,n,r){var i=this,s=function(s,o){var u;while(o>s+1)u=Math.floor((s+o)/2),i.predictTextWidth(e.substr(0,u),n,r)>t?o=u:s=u;return s},o=s(0,e.length);return e.substr(0,o)},reverseString:function(e){return e.split("").reverse().join("")},predictTextWidth:function(n,r,i){t(n).isArray()&&(n=n.join(","));if(!n||n===""||!r||isNaN(r))return 0;var s=n.split(/\s*<br\s*\/?>\s*/),o=s.length;if(o>1){var u=0;for(var a=0;a<o;a++)if(s[a]&&s[a]!==""){var f=this._predictLineWidth(s[a],r,i);f>u&&(u=f)}return u}var l=this._predictLineWidth(e.trim(n),r,i);return l},_predictLineWidth:function(e,t,n){var r=this._widthOfString(e,n),i=r*t/1e3,s=i*this._getPxScale(t);return s-this.KERNING_FACTOR*t*e.length},predictTextHeight:function(e,n,r){t(e).isArray()&&(e=e.join(","));if(!n||!e)return 0;var i=this.getTextBBox(e,n,r);return i?i.height:0},getTextBBox:function(t,n,r){return r=e.extend(r,{fontSize:n+"px"}),isNaN(parseFloat(n,10))?undefined:(this.textPredicter&&this.textPredicter.destroy(),this.textPredicter=this.renderer.text(t,0,0).attr({visibility:"hidden"}).css(r).add(),this.textPredicter.getBBox())},adjustLabels:function(t,n,r,i,s){var o,u,a,f=e.extend(!0,[],t),l=this.getMaxWidthForFontRange(f,r,i);if(l[i]<=n)a=!1,u=i;else{a=!0;for(u=i-1;u>r;u--)if(l[u]<=n){a=!1;break}}if(a&&s!=="none")for(o=0;o<f.length;o++)f[o]=this.ellipsize(f[o],n,u,{},s);return{labels:f,fontSize:u,areEllipsized:a,longestWidth:l[u]}},getMaxWidthForFontRange:function(e,t,n){var r,i={};i[t]=0;for(var s=0;s<e.length;s++){var o=this.predictTextWidth(e[s]||"",t);o>i[t]&&(r=s,i[t]=o)}for(var u=t+1;u<=n;u++)i[u]=this.predictTextWidth(e[r]||"",u);return i},bBoxesOverlap:function(e,t,n,r){n=n||0,r=r||0;var i=e.x-n,s=t.x-n,o=e.x+e.width+2*n,u=t.x+t.width+2*n,a=e.y-r,f=t.y-r,l=e.y+e.height+2*r,c=t.y+t.height+2*r;return i<u&&o>s&&a<c&&l>f},destroy:function(){this.textPredicter&&(this.textPredicter.destroy(),this.textPredicter=!1)}},e.extend(i,{getElementText:function(t){return n.hasSVG?t.textStr:e(t.element).html()},setElementText:function(e,t){if(e.attr("text")===t)return;e.added=!0,e.attr({text:t})}}),i}),define("js_charting/components/axes/Axis",["jquery","underscore","../../helpers/Formatter","../../util/parsing_utils","../../util/dom_utils"],function(e,t,n,r,i){var s=function(e){this.properties=e||{},this.id=t.uniqueId("axis_"),this.isVertical=this.properties["axis.orientation"]==="vertical",this.isZoomed=!1,this.labelRotation||(this.labelRotation=r.getRotation(this.properties["axisLabels.majorLabelStyle.rotation"]))};return s.prototype={getZoomed:function(e,t){var n=this.hcAxis;return e!==undefined&&e>n.dataMin||t!==undefined&&t<(n.options.tickmarkPlacement==="between"?n.dataMax:n.dataMax+1)},clone:function(){return new this.constructor(e.extend(!0,{},this.properties))},getConfig:function(){var n=null,i=this;return!this.properties.isEmpty&&this.properties["axisTitle.visibility"]!=="collapsed"&&!!this.properties["axisTitle.text"]&&!/^\s+$/.test(this.properties["axisTitle.text"])&&(n=r.escapeSVG(this.properties["axisTitle.text"])),e.extend(!0,this.getOrientationDependentConfig(),{id:this.id,labels:{enabled:this.properties["axisLabels.majorLabelVisibility"]!=="hide",formatter:function(){var e=this;return i.formatLabel(e)},style:{color:this.properties["axis.fontColor"]||"#000000"}},title:{style:{color:this.properties["axis.fontColor"]||"#000000"},text:n},lineColor:this.properties["axis.foregroundColorSoft"]||"#000000",lineWidth:this.properties["axisLabels.axisVisibility"]==="hide"?0:1,gridLineColor:this.properties["axis.foregroundColorSofter"]||"#000000",tickColor:this.properties["axis.foregroundColorSoft"]||"#000000",tickLength:parseInt(this.properties["axisLabels.majorTickSize"],10)||18,tickWidth:this.properties["axisLabels.majorTickVisibility"]==="hide"?0:1,tickRenderPostHook:t(this.tickRenderPostHook).bind(this),tickHandleOverflowOverride:t(this.tickHandleOverflowOverride).bind(this),getOffsetPreHook:t(this.getOffsetPreHook).bind(this),zoomOverride:t(this.zoomOverride).bind(this),getLabelSizeOverride:t(this.getLabelSizeOverride).bind(this)})},zoomOverride:function(e,t,n){return e.displayBtn=!1,e.dataMin&&t<=e.dataMin&&(t=undefined),e.dataMax&&(e.options.tickmarkPlacement==="between"&&n>=e.dataMax||e.options.tickmarkPlacement==="on"&&n>e.dataMax)&&(n=undefined),this.isZoomed=this.getZoomed(t,n),e.setExtremes(t,n,!1,undefined,{trigger:"zoom"}),!0},getOrientationDependentConfig:function(){return this.isVertical?e.extend(!0,{},this.BASE_VERT_CONFIG,this.getVerticalConfig()):e.extend(!0,{},this.BASE_HORIZ_CONFIG,this.getHorizontalConfig())},onChartLoad:function(){},redraw:function(){},onChartLoadOrRedraw:function(e){this.hcAxis=e.get(this.id),this.initializeTicks()},initializeTicks:function(){var e,t=this.hcAxis.ticks,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(t[e]);n.sort(function(e,t){return e.pos-t.pos}),this.ticks=n},tickRenderPostHook:function(e,t,n,r){if(!e.label||r===0)return;e.handleOverflow(t,e.label.xy,n)?i.showTickLabel(e):i.hideTickLabel(e)},getOffsetPreHook:function(e){if(e.userOptions.title.text){var t=e.chart,r=new n(t.renderer),i=e.userOptions.title.text,s=12,o;e.horiz?o=r.ellipsize(i,t.chartWidth-100,s,{fontWeight:"bold"}):o=r.ellipsize(i,t.chartHeight-100,s,{fontWeight:"bold"}),e.options.title.text=o,e.axisTitle&&e.axisTitle.attr({text:o}),r.destroy()}},tickHandleOverflowOverride:function(e,t,n){if(e.isFirst)return this.handleFirstTickOverflow(e,t,n);var r=e.axis,i=r.options,s=r.tickPositions.length-(i.tickmarkPlacement==="between"?0:1),o=i.labels.step||1;return e.isLast||t===s-s%o?this.handleLastTickOverflow(e,t,n):!0},handleFirstTickOverflow:function(e,t,n){var r=e.axis;if(r.horiz||r.reversed)return!0;var i=this.getTickLabelExtremesY(e)[1],s=r.top+r.len;return n.y+i<=s},handleLastTickOverflow:function(e,t,n){var r=e.axis;if(!r.horiz&&!r.reversed)return!0;if(r.horiz){var i=r.left+r.len,s=this.getTickLabelExtremesX(e)[1];return n.x+s<=i}var o=this.getTickLabelExtremesY(e)[1],u=r.top+r.len;return n.y+o<=u},getTickLabelExtremesX:function(e){return e.getLabelSides()},getTickLabelExtremesY:function(e){var t=-(e.axis.options.labels.y/2);return[t,t+e.labelBBox.height]},getLabelSizeOverride:function(e){var t=this.properties["axis.orientation"]==="horizontal";if(e.label){e.labelBBox=e.label.getBBox();if(!t||this.properties["axisLabels.tickmarkPlacement"]!=="on"||!e.isLast)return e.labelBBox[t?"height":"width"]}return 0},destroy:function(){this.hcAxis=null},getVerticalConfig:function(){return{}},getHorizontalConfig:function(){return{labels:{rotation:this.labelRotation}}},BASE_HORIZ_CONFIG:{title:{margin:8}},BASE_VERT_CONFIG:{}},s}),define("js_charting/util/lang_utils",[],function(){var e=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e};return{inherit:e}}),define("js_charting/components/axes/CategoryAxis",["jquery","underscore","./Axis","../../helpers/Formatter","../../util/lang_utils","../../util/parsing_utils","helpers/user_agent"],function(e,t,n,r,i,s,o){var u=function(e){n.call(this,e),e=e||{},this.skipLabelsToAvoidCollisions=s.normalizeBoolean(e["axis.skipLabelsToAvoidCollisions"]),this.ellipsize=e["axisLabels.majorLabelStyle.overflowMode"]==="ellipsisMiddle",this.properties["axis.categories"]=this.processCategories(e["axis.categories"]),this._categoriesAreDirty=!1,this.isiOS=o.isiOS()};return i.inherit(u,n),e.extend(u.prototype,{DEFAULT_FONT_SIZE:12,MIN_FONT_SIZE:9,getConfig:function(){var r=this,i=n.prototype.getConfig.apply(this,arguments),o=s.normalizeBoolean(this.properties["axisLabels.hideCategories"]);return e.extend(!0,i,{categories:this.properties["axis.categories"].slice(0),labels:{formatter:function(){return r.formatLabel(this.value)},enabled:i.labels.enabled&&!o,maxStaggerLines:2},startOnTick:!this.hasTickmarksBetween(),showLastLabel:this.hasTickmarksBetween(),tickWidth:o?0:i.tickWidth,tickmarkPlacement:this.properties["axisLabels.tickmarkPlacement"],tickPositioner:function(e,t){return r.tickPositioner(this,e,t)},gridLineWidth:s.normalizeBoolean(this.properties["gridLines.showMajorLines"])?1:0,setTickPositionsPreHook:t(this.setTickPositionsPreHook).bind(this),setTickPositionsPostHook:t(this.setTickPositionsPostHook).bind(this)}),i},getVerticalConfig:function(){var t=n.prototype.getVerticalConfig.call(this);return e.extend(!0,t,{labels:{align:"right",x:-8}})},getHorizontalConfig:function(){var t=n.prototype.getHorizontalConfig.call(this),r;return this.isiOS&&this.hasTickmarksBetween()&&(r=1),e.extend(!0,t,{labels:{align:"left"},endOnTick:!this.hasTickmarksBetween(),showLastLabel:!1,startOnTick:!0,minRange:r||-1})},processCategories:function(e){return this.originalCategories=e,e.slice(0)},getCategories:function(){return this.properties["axis.categories"]},getPreviousCategories:function(){return this.previousCategories||[]},categoriesAreDirty:function(){return this._categoriesAreDirty},setCategories:function(e){this.previousCategories=this.properties["axis.categories"],this.properties["axis.categories"]=this.processCategories(e),t.isEqual(this.properties["axis.categories"],this.previousCategories)||(this._categoriesAreDirty=!0)},redraw:function(e){if(!this.hcAxis)throw new Error("cannot redraw an axis that has not been drawn yet");this.categoriesAreDirty()&&this.hcAxis.setCategories(this.properties["axis.categories"].slice(0),e)},onChartLoadOrRedraw:function(){n.prototype.onChartLoadOrRedraw.apply(this,arguments),this._categoriesAreDirty=!1},getOffsetPreHook:function(e){n.prototype.getOffsetPreHook.call(this,e);var i=e.options,s=e.chart;if(!i.labels.enabled)return;var o,u,a,f,l,c=new r(s.renderer),h=e.getExtremes(),p=Math.round(h.min),d=Math.round(h.max),v=d-p+(this.hasTickmarksBetween()?1:0),m=this.originalCategories.slice(p,p+v);if(this.isVertical){o=Math.floor(s.chartWidth/6);var g=this.fitLabelsToWidth(i,i.categories,c,o),y=c.predictTextHeight("Test",g),b=s.plotHeight;u=b/(m.length||1),a=25,f=this.skipLabelsToAvoidCollisions?Math.ceil(a/u):1,i.labels.y=f>1?y-e.transA*e.tickmarkOffset:y/3,i.labels.step=f}else{var w,E=4,S=100,x=s.plotWidth,T=c.getMaxWidthForFontRange(m,this.MIN_FONT_SIZE,this.DEFAULT_FONT_SIZE),N;u=x/(v||1);var C=this.findBestFontForSpacing(T,u-2*E);if(C>0&&this.labelRotation===0)w=C,i.labels.style["font-size"]=w+"px",f=1,l=u,o=l;else{a=Math.min(T[this.MIN_FONT_SIZE]+2*E,S),w=this.MIN_FONT_SIZE,f=this.skipLabelsToAvoidCollisions?Math.ceil(a/u):1,l=u*f;var k=s.yAxis[0].left,L=Math.PI*2/360,A=this.labelRotation*L,O=Math.abs(Math.cos(A)),M=l-2*E,D,P,H;switch(this.labelRotation){case 0:o=M;break;case-45:o=[],P=s.chartHeight/2/Math.abs(Math.sin(A));for(D=0;D<v;D++)H=u*(D+1)/O,D===0&&(H=Math.min(s.xAxis[0].left,H)),this.ellipsize?o[D]=Math.min(H,P,M):o[D]=Math.min(H,P);break;case 45:o=[],P=s.chartHeight/2/Math.abs(Math.sin(A));for(D=0;D<v;D++)H=u*(D+1)/O,this.ellipsize?o[v-D-1]=Math.min(H,P,M):o[v-D-1]=Math.min(H,P);break;default:this.ellipsize?o=Math.min(s.chartHeight/2,M):o=s.chartHeight/2}}this.ellipsizeLabels(i,m,c,o,w),t(m).each(function(e,t){i.categories[p+t]=e}),this.labelRotation===-45?(i.labels.align="right",N=5*E):this.labelRotation===-90?(i.labels.align="right",N=2*E):(i.labels.align="left",N=E),i.labels.step=f,this.hasTickmarksBetween()?i.labels.x=-(l/(2*f))+N:i.labels.x=N}c.destroy()},findBestFontForSpacing:function(e,n){var r=0;return t(e).each(function(e,t){e<=n&&(r=Math.max(r,parseInt(t,10)))}),r},fitLabelsToWidth:function(e,t,n,r){var i,s=n.adjustLabels(this.originalCategories,r,this.MIN_FONT_SIZE,this.DEFAULT_FONT_SIZE,"middle");for(i=0;i<s.labels.length;i++)t[i]=s.labels[i];return e.labels.style["font-size"]=s.fontSize+"px",s.fontSize},ellipsizeLabels:function(e,n,r,i,s){var o,u=t(n).map(function(e,n){return r.ellipsize(e,t.isArray(i)?i[n]:i,s,{},"middle")});for(o=0;o<u.length;o++)n[o]=u[o];e.labels.style["font-size"]=s+"px"},setTickPositionsPreHook:function(e){this.hasTickmarksBetween()||(e.options.max=this.properties["axis.categories"].length)},tickPositioner:function(e,t,n){return this.shouldHideTicks(e)?[t,n]:null},setTickPositionsPostHook:function(e,t){this.shouldHideTicks(e)&&(e.tickPositions=[]),this.isiOS&&this.hasTickmarksBetween()&&(e.min=Math.round(e.min),e.max=Math.round(e.max))},shouldHideTicks:function(e){var t=this.isVertical?15:20,n=e.chart.plotWidth,r=e.getExtremes(),i=r.max-r.min+(this.hasTickmarksBetween()?1:0),s=n/i;return s<t},tickRenderPostHook:function(e,t,r,i){var s=e.axis.options;s.labels=s.labels||{};if(!s.labels.enabled||s.tickWidth===0)return;n.prototype.tickRenderPostHook.call(this,e,t,r,i);var o=e.pos+(this.hasTickmarksBetween()?1:0),u=s.labels.step||1;o%u!==0?e.mark.hide():e.mark.show()},formatValue:function(e){return e},formatLabel:function(e){return s.escapeSVG(e)},hasTickmarksBetween:function(){return this.properties["axisLabels.tickmarkPlacement"]==="between"},getTickLabelExtremesY:function(e){return[-e.labelBBox.height,0]}}),u}),define("js_charting/util/time_utils",["underscore","util/time","splunk.i18n"],function(e,t,n){var r={SECS_PER_MIN:60,SECS_PER_HOUR:3600,convertTimeToCategories:function(t,n){var r,i,s,o,u,a,f=[],l=[];return a=this.findLabelIndexes(t,n),e(a).each(function(e){f.push(t[e])}),s=this.getPrettyLabelInfo(f),o=s.prettyLabels,e(t).each(function(e){l.push(" ")}),e(a).each(function(e,t){l[e]=o[t]}),{categories:l,rawLabels:f,granularity:s.granularity}},findLabelIndexes:function(e,t){var n,r,i=[];if(e.length<=t){n=0;while(n<e.length)i.push(n++);return i}var s=this.getPointSpan(e),o=this.getTotalSpan(e);if(this.couldLabelFirstOfMonth(s,o)){var u=this.findFirstOfMonthIndexes(e),a=u.length;if(a>=3){var f=Math.ceil(a/t),l=[];for(n=0;n<a;n+=f)r=u[n],l.push(r);return u=l,u}}var c=this.findMajorUnit(e,t,s,o),h=e.slice(0,c),p=this.getRoundestIndex(h,c,s),d=p;if(this.couldLabelMidnight(c,s)){var v=this.findMidnightIndexes(e);if(v.length>t){f=Math.ceil(v.length/t),l=[];for(n=0;n<v.length;n+=f)r=v[n],l.push(r);v=l}return v}while(d<e.length)i.push(d),d+=c;return i},couldLabelMidnight:function(e,t){return e%24===0&&t===3600},couldLabelFirstOfMonth:function(e,t){return e>this.MAX_SECS_PER_DAY?!1:e<this.SECS_PER_HOUR?!1:e<this.MIN_SECS_PER_DAY&&24*this.SECS_PER_HOUR%e!==0?!1:t<2*this.MIN_SECS_PER_MONTH?!1:!0},findMidnightIndexes:function(e){var n,r,i=[],s=[];for(n=0;n<e.length;n++)i.push(t.extractBdTime(e[n]));for(n=0;n<i.length;n++)r=i[n],r.hour===0&&r.minute===0&&s.push(n);return s},findFirstOfMonthIndexes:function(n){var r=[],i=[];return e(n).each(function(e,n){r.push(t.extractBdTime(e))}),e(r).each(function(e,t){e.day===1&&e.hour===0&&i.push(t)}),i},getPointSpan:function(e){if(e.length<2)return 1;if(e.length<4)return this.getSpanBetween(e[0],e[1]);var t=this.getSpanBetween(e[0],e[1]),n=this.getSpanBetween(e[1],e[2]),r=this.getSpanBetween(e[2],e[3]);return t===n?t:n===r?n:t===r?t:t},getTotalSpan:function(e){var n,r;for(n=e.length-1;n>=0;n--){r=e[n];if(t.isValidIsoTime(r))break}return this.getSpanBetween(e[0],r)},getSpanBetween:function(e,n){var r=t.isoToDateObject(e),i=t.isoToDateObject(n),s=i.getTime()-r.getTime();return s/1e3},MIN_SECS_PER_DAY:82800,MAX_SECS_PER_DAY:9e4,MAJOR_UNITS_SECONDS:[1,2,5,10,15,30,60,120,180,300,600,900,1800,3600,7200,14400,21600,43200,86400,172800,345600,604800],MAJOR_UNIT_DAYS:[1,2,4,7,14,28,56,112,224,364,476,728],MIN_SECS_PER_MONTH:2419200,MAJOR_UNIT_MONTHS:[1,2,4,6,12,24,48,96],findMajorUnit:function(e,t,n,r){var i,s,o;if(n<this.MIN_SECS_PER_DAY)for(i=0;i<this.MAJOR_UNITS_SECONDS.length;i++){s=this.MAJOR_UNITS_SECONDS[i],o=r/s;if(o>=3&&o<=t&&s%n===0){if(s===180&&r>=900)continue;return s/n}}else if(n<this.MIN_SECS_PER_MONTH){var u=86400,a=Math.round(n/u),f=Math.round(r/u);for(i=0;i<this.MAJOR_UNIT_DAYS.length;i++){s=this.MAJOR_UNIT_DAYS[i],o=f/s;if(o>=3&&o<=t&&s%a===0)return s/a}}else{var l=2592e3,c=Math.round(n/l),h=Math.round(r/l);for(i=0;i<this.MAJOR_UNIT_MONTHS.length;i++){s=this.MAJOR_UNIT_MONTHS[i],o=h/s;if(o>=3&&o<=t&&s%c===0)return s/c}}return Math.ceil(e.length/t)},getRoundestIndex:function(n,r,i){var s,o,u,a=[],f=r*i;e(n).each(function(e){a.push(t.extractBdTime(e))}),o=a[0],u=0;for(s=1;s<a.length;s++)this.isRounderThan(a[s],o,i)&&this.bdTimeMatchesUnit(a[s],f)&&(o=a[s],u=s);return u},isRounderThan:function(e,t,n){return e.month===1&&e.day===1&&e.hour===0&&t.month!==1&&t.day===1&&t.hour===0?!0:e.hour===0&&t.hour!==0?!0:e.hour%12===0&&t.hour%12!==0?!0:e.hour%6===0&&t.hour%6!==0?!0:e.hour%4===0&&t.hour%4!==0?!0:e.hour%2===0&&t.hour%2!==0?!0:e.minute===0&&t.minute!==0?!0:e.minute%30===0&&t.minute%30!==0?!0:e.minute%15===0&&t.minute%15!==0?!0:e.minute%10===0&&t.minute%10!==0?!0:e.minute%5===0&&t.minute%5!==0?!0:e.minute%2===0&&t.minute%2!==0?!0:e.second===0&&t.second!==0?!0:e.second%30===0&&t.second%30!==0?!0:e.second%15===0&&t.second%15!==0?!0:e.second%10===0&&t.second%10!==0?!0:e.second%5===0&&t.second%5!==0?!0:e.second%2===0&&t.second%2!==0?!0:!1},bdTimeMatchesUnit:function(e,t){if(t<60)return e.second%t===0;if(t<3600){var n=Math.floor(t/60);return e.minute%n===0}var r=Math.floor(t/3600);return e.hour%r===0},getPrettyLabelInfo:function(n){var r,i,s=[],o=[];e(n).each(function(e){s.push(t.extractBdTime(e))});var u=t.determineLabelGranularity(s);for(r=0;r<s.length;r++)r===0?i=this.formatBdTimeAsAxisLabel(s[r],null,u):i=this.formatBdTimeAsAxisLabel(s[r],s[r-1],u),i?o.push(i.join("<br/>")):o.push("");return{prettyLabels:o,granularity:u}},formatBdTimeAsAxisLabel:function(e,r,i){if(e.isInvalid)return null;var s=t.bdTimeToDateObject(e),o=i in{second:!0,minute:!0,hour:!0,day:!0},u=i in{second:!0,minute:!0,hour:!0},a=i==="second",f=a?"medium":"short",l=o?"ccc MMM d":"MMMM";if(i==="year")return[n.format_date(s,"YYYY")];if(r&&r.year===e.year&&e.month===r.month&&e.day===r.day)return[n.format_time(s,f)];var c=u?[n.format_time(s,f),n.format_date(s,l)]:[n.format_date(s,l)];return(!r||e.year!==r.year)&&c.push(n.format_date(s,"YYYY")),c},formatIsoStringAsTooltip:function(e,r){var i=t.extractBdTime(e),s;return i.isInvalid?null:(s=t.bdTimeToDateObject(i),r>=this.MIN_SECS_PER_DAY?n.format_date(s):r>=this.SECS_PER_MIN?n.format_datetime(s,"medium","short"):n.format_datetime(s))}};return r}),define("js_charting/components/axes/TimeAxis",["jquery","underscore","./Axis","./CategoryAxis","../../helpers/Formatter","../../util/lang_utils","util/time","../../util/time_utils","../../util/dom_utils","../../util/parsing_utils"],function(e,t,n,r,i,s,o,u,a,f){var l=function(e){var t=6,n=10,i=15;this.labelRotation=f.getRotation(e["axisLabels.majorLabelStyle.rotation"]),this.numLabelCutoff=this.labelRotation===0?t:this.labelRotation===-45?n:i,this.spanData=e["axis.spanData"],r.call(this,e)};return s.inherit(l,r),e.extend(l.prototype,{getConfig:function(){var t=r.prototype.getConfig.call(this);return e.extend(!0,t,{showLastLabel:!0,labels:{maxStaggerLines:1}}),t},setCategories:function(e,t){this.previousSpanData=this.spanData,this.spanData=t,r.prototype.setCategories.call(this,e)},getSpanData:function(){return this.spanData},getPreviousSpanData:function(){return this.previousSpanData||[]},formatLabel:function(e){return e},formatValue:function(e){return u.formatIsoStringAsTooltip(e,this.pointSpan)||t("Invalid timestamp").t()},getOffsetPreHook:function(e){var t=e.options,n=e.chart,r=this.isVertical?2:3,i=this.isVertical?n.plotHeight:n.plotWidth,s=e.getExtremes(),o=Math.round(s.max-s.min+(this.hasTickmarksBetween()?1:0)),u=o>1?i/o:i+r*2,a;t.adjustedTickSpacing=u;if(this.isVertical){var f=parseInt(t.labels.style.fontSize.split("px")[0],10);t.labels.y=u/2+f+r}else this.labelRotation===-45?(t.labels.align="right",a=7*r,e.tickPositions.length===1&&(a-=50)):this.labelRotation===-90?(t.labels.align="right",a=3*r):(t.labels.align="left",a=r),t.tickmarkPlacement==="on"?t.labels.x=a:o===1?t.labels.x=-(u/2+a):t.labels.x=u/2+a},tickPositioner:function(e,t,n){return null},tickRenderPostHook:function(e,t,n,i){if(e.label&&this.labelRotation===90){var s=2,o=parseInt(e.axis.options.labels.style.lineHeight||14,0);e.label.translate(e.labelBBox.width-(o-s),0)}r.prototype.tickRenderPostHook.call(this,e,t,n,i)},setTickPositionsPostHook:function(e,n){var r=e.options,i=e.getExtremes(),s=Math.round(i.min),o=Math.round(i.max),f=Math.round(o-s+(this.hasTickmarksBetween()?1:0)),l=u.convertTimeToCategories(this.originalCategories.slice(s,s+f),this.numLabelCutoff),c=l.categories;this.granularity=l.granularity,this.pointSpan=u.getPointSpan(this.originalCategories),e.tickPositions=[],t(c).each(function(t,n){if(t!==" "){var i=s+n;r.tickmarkPlacement==="between"&&f!==1&&i--,r.categories[i]=t,e.tickPositions.push(i)}},this),r.labels.style.width="auto",a.hasSVG||(r.labels.style["white-space"]="nowrap")},tickHandleOverflowOverride:function(e,t,n,i){return t===-1||i?!0:t===1?(this.collisionDetected=!1,this.lastTickFits=!0,!0):e.isFirst?(e.isLast||(this.collisionDetected=this.collisionDetected||this.tickOverlapsNext(e,t,n)),this.resolveCollisionDetection(e.axis,this.collisionDetected,this.lastTickFits),!0):(this.collisionDetected=this.collisionDetected||this.tickOverlapsPrevious(e,t,n),e.isLast&&(this.lastTickFits=r.prototype.tickHandleOverflowOverride.call(this,e,t,n)),!0)},tickOverlapsPrevious:function(e,t,n){var r=e.axis,i=r.ticks[r.tickPositions[t-1]],s;if(!i)return!1;s=i.getPosition(r.horiz,i.pos,r.tickmarkOffset);if(this.isVertical){var o=s.y+this.getTickLabelExtremesY(i)[1];return n.y<o}var u=s.x+this.getTickLabelExtremesX(i)[1];return n.x<u},tickOverlapsNext:function(e,t,n){var r=e.axis,i=r.ticks[r.tickPositions[t+1]],s;if(!i)return!1;s=i.getPosition(r.horiz,i.pos,r.tickmarkOffset);if(this.isVertical){var o=n.y+this.getTickLabelExtremesY(e)[1];return o>s.y}var u=n.x+this.getTickLabelExtremesX(e)[1];return u>s.x},resolveCollisionDetection:function(e,n,r){var s=new i(e.chart.renderer),a=e.tickPositions,f=a.slice(1),l=e.ticks,c=this.originalCategories,h=this.granularity,p=this.hasTickmarksBetween()?1:0;n?t(f).each(function(e,t){t++;var n=l[e];if(t%2===0){var r=o.extractBdTime(c[n.pos+p]),i=l[a[t-2]],s=o.extractBdTime(c[i.pos+p]),f=(u.formatBdTimeAsAxisLabel(r,s,h)||[""]).join("<br/>");n.label.attr({text:f})}else n.label.hide(),n.mark.hide()}):t(f).each(function(e,t){t++;var n=l[e];n.label.show(),n.mark.show();if(t%2===0){var r=o.extractBdTime(c[e+p]),i=l[a[t-1]],s=o.extractBdTime(c[i.pos+p]),f=(u.formatBdTimeAsAxisLabel(r,s,h)||[""]).join("<br/>");n.label.attr({text:f})}}),!r&&(!n||a.length%2!==0)&&e.ticks[t(a).last()].label.hide(),s.destroy()},getTickLabelExtremesX:function(e){var n=r.prototype.getTickLabelExtremesX.call(this,e),i=e.axis.options;return this.hasTickmarksBetween()&&e.label.rotation===0?t(n).map(function(e){return e-i.adjustedTickSpacing/2}):(e.isFirst&&(e.label.rotation===-90||e.label.rotation===-45||e.label.rotation===90)&&(n[1]=e.labelBBox.width),n)},getTickLabelExtremesY:function(e){return n.prototype.getTickLabelExtremesY.apply(this,arguments)}}),l}),define("js_charting/components/axes/NumericAxis",["jquery","underscore","./Axis","../../helpers/Formatter","../../util/parsing_utils","../../util/lang_utils","../../util/math_utils","splunk.i18n"],function(e,t,n,r,i,s,o,u){var a=function(e){n.call(this,e),this.includeZero=this.determineIncludeZero(),this.hasExplicitMin=this.properties.hasOwnProperty("axis.minimumNumber")&&this.properties["axis.minimumNumber"]!=="",this.hasExplicitMax=this.properties.hasOwnProperty("axis.maximumNumber")&&this.properties["axis.maximumNumber"]!=="",this.hasExplicitMajorUnit=this.properties.hasOwnProperty("axisLabels.majorUnit")&&this.properties["axisLabels.majorUnit"]!==""};return s.inherit(a,n),e.extend(a.prototype,{getConfig:function(){var r=n.prototype.getConfig.call(this),s=i.normalizeBoolean(this.properties["axisLabels.extendsAxisRange"],!0);return e.extend(!0,r,{tickInterval:this.properties.isEmpty&&this.properties["axis.scale"]==="log"?10:this.properties.isEmpty?10:parseFloat(this.properties["axisLabels.majorUnit"])||null,endOnTick:s,startOnTick:s,allowDecimals:!i.normalizeBoolean(this.properties["axisLabels.integerUnits"]),minorTickColor:this.properties["axis.foregroundColorSoft"],minorTickLength:parseInt(this.properties["axisLabels.minorTickSize"],10)||10,minorTickInterval:"auto",minorTickWidth:this.properties["axisLabels.minorTickVisibility"]==="show"?1:0,minorGridLineWidth:i.normalizeBoolean(this.properties["gridLines.showMinorLines"])?1:0,min:this.properties.isEmpty?0:null,max:this.properties.isEmpty&&this.properties["axis.scale"]==="log"?2:this.properties.isEmpty?100:null,gridLineWidth:i.normalizeBoolean(this.properties["gridLines.showMajorLines"],!0)?1:0,getSeriesExtremesPostHook:t(this.getSeriesExtremesPostHook).bind(this),setTickPositionsPreHook:t(this.setTickPositionsPreHook).bind(this),labels:{maxStaggerLines:1}}),this.addMinAndMaxToConfig(r),r},addMinAndMaxToConfig:function(e){var t=this.hasExplicitMin?parseFloat(this.properties["axis.minimumNumber"]):-Infinity,n=this.hasExplicitMax?parseFloat(this.properties["axis.maximumNumber"]):Infinity;if(t>n){var r=t;t=n,n=r}t>-Infinity&&this.addMinToConfig(e,t,this.includeZero),n<Infinity&&this.addMaxToConfig(e,n,this.includeZero)},addMinToConfig:function(e,t,n){n&&t>0?t=0:this.isLogScale()&&(t=o.absLogBaseTen(t)),e.min=t,e.minPadding=0,e.startOnTick=!1},addMaxToConfig:function(e,t,n){n&&t<0?t=0:this.isLogScale()&&(t=o.absLogBaseTen(t)),e.max=t,e.maxPadding=0,e.endOnTick=!1},getVerticalConfig:function(){var t=n.prototype.getVerticalConfig.call(this);return e.extend(!0,t,{labels:{y:13}})},getHorizontalConfig:function(){var t=n.prototype.getHorizontalConfig.call(this),r,i;return this.labelRotation<0?(i="right",this.labelRotation===-45?r=20:this.labelRotation===-90&&(r=10)):(i="left",r=4),e.extend(!0,t,{labels:{align:i,x:r}})},formatLabel:function(e){return this.isLogScale()?this.properties.stackMode==="stacked100"?this.formatNumber(e.value):this.formatNumber(o.absPowerTen(e.value)):this.formatNumber(e.value)},formatValue:function(e){var t=this.formatNumber(e);return t!=="NaN"?t:u.format_decimal("0")},formatNumber:function(e){e=o.parseFloat(e);var n=Math.abs(e);if(n>0&&n<1e-6)return u.format_scientific(e,"#.###E0");var r=o.getDecimalPrecision(e),i="#,##0.";return t(r).times(function(){i+="#"}),e+=Math.pow(10,-1*r-1),u.format_decimal(e,i)},isLogScale:function(){return this.properties["axis.scale"]==="log"},normalizeAxisOptions:function(e){var t=e.options,n=e.getExtremes(),i=e.chart;if(!this.properties.isEmpty){var s=new r(i.renderer);n.min=t.min||n.dataMin,n.max=t.max||n.dataMax;var o,u=Math.abs(n.max-n.min);this.isVertical?o=t.tickInterval||t.tickPixelInterval/i.plotHeight*u:o=t.tickInterval||t.tickPixelInterval/i.plotWidth*u,this.isLogScale()?t.tickInterval=1:this.checkMajorUnitFit(o,n,t,s,i),this.includeZero?this.enforceIncludeZero(t,n):this.adjustAxisRange(t,n,o),t.allowDecimals!==!1&&this.enforceIntegerMajorUnit(t,n),s.destroy()}else this.handleNoData(t)},getSeriesExtremesPostHook:function(e,t){this.normalizeAxisOptions(e)},setTickPositionsPreHook:function(e,t){t&&this.normalizeAxisOptions(e)},checkMajorUnitFit:function(e,t,n,r,i){var s=Math.abs(t.max-t.min),o=this.isVertical?i.plotHeight:i.plotWidth,u=e*o/s,a=Math.max(Math.abs(t.min),Math.abs(t.max)),f=this.isVertical?5:15,l=parseInt(n.labels.style.fontSize.split("px")[0],10),c=function(e){return e*s/o};if(this.isVertical){var h=r.predictTextHeight(this.formatValue(a),l);u<h+2*f&&(n.tickInterval=Math.ceil(c(h+2*f,!0)))}else{var p=r.predictTextWidth(this.formatValue(a),l)+2*f;if(u<p||u>2*p){var d=Math.ceil(c(p,!0)),v=Math.pow(10,Math.floor(Math.log(d)/Math.LN10));n.tickInterval=this.fitTickIntervalToWidth(d,null,v)}}},determineIncludeZero:function(){if(i.normalizeBoolean(this.properties["axis.includeZero"]))return!0;if(this.isLogScale()){var e=parseFloat(this.properties["axis.minimumNumber"]),n=parseFloat(this.properties["axis.maximumNumber"]);if((t.isNaN(e)||e<=0)&&(t.isNaN(n)||n>=0))return!0}return!1},enforceIncludeZero:function(e,t){if(!t.min&&!t.max){this.handleNoData(e);return}t.min>=0?(e.min=0,e.minPadding=0):t.max<=0&&(e.max=0,e.maxPadding=0)},adjustAxisRange:function(e,t,n){this.hasExplicitMin||delete e.min,this.hasExplicitMax||delete e.max;if(!t.dataMin&&!t.dataMax){this.handleNoData(e);return}if(t.min>t.dataMax&&t.min>0&&!this.hasExplicitMax){e.max=this.isLogScale()?t.min+2:t.min*2;return}if(t.max<t.dataMin&&t.max<0&&!this.hasExplicitMin){e.min=this.isLogScale()?t.max-2:t.max*2;return}t.dataMin>=0&&t.dataMin<=n&&(this.hasExplicitMin||(e.min=0),e.minPadding=0),t.dataMax<=0&&t.dataMax>=-1*n&&(this.hasExplicitMax||(e.max=0),e.maxPadding=0)},handleNoData:function(e){var t=this.isLogScale();e.min=0,e.max=t?2:100,t&&(e.tickInterval=1)},enforceIntegerMajorUnit:function(e,t){var n=t.max-t.min;n>=10&&(e.allowDecimals=!1)},fitTickIntervalToWidth:function(e,t,n){var r=e/n;t||(t=[1,2,2.5,5,10,20]);for(var i=0;i<t.length-1;i++){e=t[i];if(r<=(t[i]+(t[i+1]||t[i]))/2){e=t[i+1];break}}return e*=n,this.hasExplicitMajorUnit?Math.max(o.parseFloat(this.properties["axisLabels.majorUnit"]),e):e}}),a}),define("js_charting/helpers/HoverEventThrottler",["jquery"],function(e){var t=function(e){e=e||{},this.highlightDelay=e.highlightDelay||200,this.unhighlightDelay=e.unhighlightDelay||100,this.timer=null,this.timer2=null,this.mouseStatus="over",this.isSelected=!1,this.onMouseOver=e.onMouseOver,this.onMouseOut=e.onMouseOut};return e.extend(t.prototype,{setMouseStatus:function(e){this.mouseStatus=e},getMouseStatus:function(){return this.mouseStatus},mouseOverHappened:function(e){var t=this,n=arguments;this.mouseOverFn=function(){t.onMouseOver.apply(null,n)},clearTimeout(this.timer),clearTimeout(this.timer2),this.setMouseStatus("over"),this.timeOutManager()},mouseOutHappened:function(e){var t=this,n=arguments;this.mouseOutFn=function(){t.onMouseOut.apply(null,n)},this.setMouseStatus("out"),this.timeOutManager()},timeOutManager:function(){var e=this;clearTimeout(this.timer),this.isSelected?this.getMouseStatus()==="over"?this.mouseEventManager():this.timer2=setTimeout(function(){e.setMouseStatus("out"),e.mouseEventManager()},e.unhighlightDelay):this.timer=setTimeout(function(){e.isSelected=!0,e.mouseEventManager()},e.highlightDelay)},mouseEventManager:function(){var e=this;this.getMouseStatus()==="over"?(this.mouseOverFn(),this.isSelected=!0,this.setMouseStatus("out")):(this.mouseOutFn(),this.isSelected=!1,this.setMouseStatus("over"))}}),t}),define("js_charting/components/Legend",["jquery","underscore","../helpers/EventMixin","../helpers/Formatter","../helpers/HoverEventThrottler","../util/parsing_utils","../util/color_utils","../util/dom_utils"],function(e,t,n,r,i,s,o,u){var a=function(e){this.properties=e||{},this.id=t.uniqueId("legend_"),this.clickEnabled=s.normalizeBoolean(this.properties.clickEnabled),this.ellipsisMode=this.OVERFLOW_TO_ELLIPSIS_MAP[this.properties["labelStyle.overflowMode"]]||this.DEFAULT_ELLIPSIS_MODE,this.UNHIGHLIGHTED_COLOR=o.addAlphaToColor(this.UNHIGHLIGHTED_BASE_COLOR,this.UNHIGHLIGHTED_OPACITY)};return a.prototype=e.extend({},n,{HIGHLIGHTED_OPACITY:1,UNHIGHLIGHTED_OPACITY:.3,UNHIGHLIGHTED_BASE_COLOR:"rgb(150, 150, 150)",DEFAULT_PLACEMENT:"right",DEFAULT_ELLIPSIS_MODE:"middle",BASE_CONFIG:{borderWidth:0},PLACEMENT_OPTIONS:{top:!0,left:!0,bottom:!0,right:!0,none:!0},PLACEMENT_TO_MARGIN_MAP:{top:30,left:15,bottom:15,right:15},OVERFLOW_TO_ELLIPSIS_MAP:{ellipsisStart:"start",ellipsisMiddle:"middle",ellipsisEnd:"end",ellipsisNone:"none","default":"start"},getConfig:function(){var n=this.PLACEMENT_OPTIONS.hasOwnProperty(this.properties.placement)?this.properties.placement:this.DEFAULT_PLACEMENT,r={left:!0,right:!0}.hasOwnProperty(n),i=this.clickEnabled?"pointer":"default";return e.extend(!0,{},this.BASE_CONFIG,{enabled:this.properties.isEmpty?!1:!0,align:r?n:"center",verticalAlign:r?"middle":n,layout:r?"vertical":"horizontal",margin:this.PLACEMENT_TO_MARGIN_MAP[n],itemStyle:{cursor:i,color:this.properties.fontColor||"#000000"},itemHoverStyle:{cursor:i,color:this.properties.fontColor||"#000000"},renderItemsPreHook:t(this.renderItemsPreHook).bind(this),renderItemsPostHook:t(this.renderItemsPostHook).bind(this)})},onChartLoad:function(){},onChartLoadOrRedraw:function(e){this.hcSeriesList=t(e.series).filter(function(e){return e.options.showInLegend!==!1}),this.removeEventHandlers(),this.addEventHandlers()},addEventHandlers:function(){var n=this,r={highlightDelay:125,unhighlightDelay:50,onMouseOver:function(e){n.selectField(e),n.trigger("mouseover",[e])},onMouseOut:function(e){n.unSelectField(e),n.trigger("mouseout",[e])}},s=new i(r);t(this.hcSeriesList).each(function(r){var i=r.name;t(this.getSeriesLegendObjects(r)).each(function(t){u.jQueryOn.call(e(t.element),"mouseover."+this.id,function(){s.mouseOverHappened(i)}),u.jQueryOn.call(e(t.element),"mouseout."+this.id,function(){s.mouseOutHappened(i)}),this.clickEnabled&&u.jQueryOn.call(e(t.element),"click."+this.id,function(e){var t={type:"click",modifierKey:e.ctrlKey||e.metaKey};n.trigger(t,[i])})},this)},this)},removeEventHandlers:function(){t(this.hcSeriesList).each(function(n){t(this.getSeriesLegendObjects(n)).each(function(t){u.jQueryOff.call(e(t.element),"."+this.id)},this)},this)},selectField:function(e){t(this.hcSeriesList).each(function(t){t.name!==e?this.unHighlightField(e,t):this.highlightField(e,t)},this)},unSelectField:function(e){t(this.hcSeriesList).each(function(t){t.name!==e&&this.highlightField(e,t)},this)},highlightField:function(e,t){t=t||this.getSeriesByFieldName(e);var n=this.getSeriesLegendObjects(t),r=t.color;n.item&&n.item.attr("fill-opacity",this.HIGHLIGHTED_OPACITY),n.line&&n.line.attr("stroke",r),n.symbol&&n.symbol.attr({fill:r,stroke:r})},unHighlightField:function(e,t){t=t||this.getSeriesByFieldName(e);var n=this.getSeriesLegendObjects(t);n.item&&n.item.attr("fill-opacity",this.UNHIGHLIGHTED_OPACITY),n.line&&n.line.attr("stroke",this.UNHIGHLIGHTED_COLOR),n.symbol&&n.symbol.attr({fill:this.UNHIGHLIGHTED_COLOR,stroke:this.UNHIGHLIGHTED_COLOR})},getSeriesByFieldName:function(e){return t(this.hcSeriesList).find(function(t){return t.name===e})},getSeriesLegendObjects:function(e){var t={};return e.legendItem&&(t.item=e.legendItem),e.legendSymbol&&(t.symbol=e.legendSymbol),e.legendLine&&(t.line=e.legendLine),t},destroy:function(){this.off(),this.removeEventHandlers(),this.hcSeriesList=null},renderItemsPreHook:function(e){var t,n,i,o,a=e.options,f=e.itemStyle,l=e.allItems,c=e.chart,h=c.renderer,p=c.spacingBox,d=a.layout==="horizontal",v=12,m=10,g=a.symbolWidth,y=a.symbolPadding,b=e.padding||0,w=10,E=[],S=new r(h);d?o=l.length>5?Math.floor(p.width/6):Math.floor(p.width/l.length)-(g+y+w)*(l.length-1):o=Math.floor(p.width/6)-(g+y+b),a.originalFormatter||(a.originalFormatter=a.labelFormatter);for(t=0;t<l.length;t++)E.push(a.originalFormatter.call(l[t]));n=S.adjustLabels(E,o,m,v,this.ellipsisMode),n.areEllipsized&&d&&l.length>5?(i=o+g+y+w,a.itemWidth=i):a.itemWidth=undefined;for(t=0;t<l.length;t++)l[t].ellipsizedName=n.labels[t],l[t].legendItem&&(u.setLegendItemText(l[t].legendItem,n.labels[t]),l[t].legendItem.css({"font-size":n.fontSize+"px"}));a.labelFormatter=function(){return s.escapeSVG(this.ellipsizedName)},f["font-size"]=n.fontSize+"px",e.itemMarginTop=v-n.fontSize,S.destroy()},renderItemsPostHook:function(t){var n=55,r=t.options,i=t.padding,s=t.lastItemY+t.lastLineHeight,o=t.chart.spacingBox.height-i;if(s>o)r.verticalAlign="top",r.y=-i,t.offsetWidth<n&&(r.width=n);else{var u=this.getConfig();e.extend(r,{verticalAlign:u.verticalAlign,y:u.y,width:u.width})}}}),a}),define("js_charting/components/Tooltip",["jquery","underscore"],function(e,t){var n=function(e){this.properties=e||{}};return n.prototype={BASE_CONFIG:{enabled:!0,backgroundColor:"#000000",borderColor:"#ffffff",hideDelay:0,style:{color:"#cccccc"},positioner:function(t,n,r){var i=this.getPosition(t,n,r),s=this.chart.plotWidth,o=e(".btn-zoom-out"),u=i.x+t;if(o){var a=o.position();if(a){var f=a.left,l=a.top,c=o.height();u>f&&i.y<l+c&&(i.x-=i.x+t-f+10)}}if(t>s){var h=this.options;i.x=h.borderRadius+h.borderWidth}return i},getAnchorPostHook:function(e,n,r){return e&&!t.isArray(e)&&e.series.options.type==="column"&&(r[0]=e.barX),r}},getConfig:function(){return e.extend(!0,{},this.BASE_CONFIG,{borderColor:this.properties.borderColor})},destroy:function(){}},n}),define("js_charting/components/SelectionWindow",["jquery","underscore","../helpers/EventMixin","helpers/user_agent"],function(e,t,n,r){var i=function(n){this.id=t.uniqueId("selection_window"),this.hcChart=n,this.renderer=n.renderer,this.axis=n.xAxis[0],this.axisHasTickmarksBetween=this.axis.options.tickmarkPlacement==="between",this.axisValueOffset=this.axisHasTickmarksBetween?.5:0,this.isiOS=r.isiOS();var i,s,o,u;this.pointer=n.pointer,this.pointer.selectionMarker.renderer?(this.zIndex=this.pointer.selectionMarker.attr("zIndex"),o=this.pointer.selectionMarker.attr("x"),u=this.pointer.selectionMarker.attr("width")):(this.zIndex=7,o=this.pointer.selectionMarker.x,u=this.pointer.selectionMarker.width),i=o,s=this.snapXValue(i+u,this.axisHasTickmarksBetween?"ceil":"round","max"),this.x=this.snapXValue(i,this.axisHasTickmarksBetween?"floor":"round","min"),this.width=s-this.x,this.createResizeHandles(),this.ownedElements=[this.resizeHandleLeft.element,this.resizeHandleRight.element],this.updateExtremesValues();var a=e(this.hcChart.container);this.defaultContainerCursor=a.css("cursor"),a.on("mousemove."+this.id,t(this.onContainerMouseMove).bind(this)),this.initialized=!0};return i.prototype=e.extend({},n,{handleWidth:r.isiOS()?25:10,handleHeight:50,handleBorderColor:"rgb(255,255,255)",handleBgColor:"rgba(79,79,79,0.5)",handleBorderRadius:5,shadedAreaColor:"rgba(100,100,100,0.3)",handleDragStartEvent:function(e){var n=e.target,r=n===this.hcChart.chartBackground.element&&this.hcChart.isInsidePlot(e.chartX-this.hcChart.plotLeft,e.chartY-this.hcChart.plotTop);return r||t(this.ownedElements).contains(n)?(this.originalTarget=n,this.mouseDownX=this.getCurrentX(),this.mouseDownWidth=this.getCurrentWidth(),this.isDragging=!0,!0):!1},handleDragEvent:function(e){this.originalTarget===this.hcChart.chartBackground.element&&this.dragSelectionMarker(e),this.originalTarget===this.resizeHandleLeft.element&&this.resizeSelectionLeft(e),this.originalTarget===this.resizeHandleRight.element&&this.resizeSelectionRight(e)},handleDropEvent:function(e){this.isDragging&&(this.updateExtremesValues(),this.emitSelectionEvent(),this.isDragging=!1)},getExtremes:function(){return{min:this.startValue,max:this.endValue}},setExtremes:function(e){this.startValue=e.min,this.endValue=e.max,this.x=Math.round(this.axis.toPixels(this.startValue+this.axisValueOffset)),this.width=Math.round(this.axis.toPixels(this.endValue+this.axisValueOffset))-this.x,this.positionResizeHandles("both")},onContainerMouseMove:function(t){t=this.pointer.normalize(t),t.target===this.hcChart.chartBackground.element&&this.hcChart.isInsidePlot(t.chartX-this.hcChart.plotLeft,t.chartY-this.hcChart.plotTop)?e(this.hcChart.container).css("cursor","move"):e(this.hcChart.container).css("cursor",this.defaultContainerCursor)},onChartRedraw:function(){this.x=Math.round(this.axis.toPixels(this.startValue+this.axisValueOffset)),this.width=Math.round(this.axis.toPixels(this.endValue+this.axisValueOffset))-this.x,this.resizeHandleLeft.attr({y:this.hcChart.plotTop+this.hcChart.plotHeight/2-this.handleHeight/2}),this.resizeHandleRight.attr({y:this.hcChart.plotTop+this.hcChart.plotHeight/2-this.handleHeight/2}),this.shadedRegionLeft.attr({x:this.hcChart.plotLeft,y:this.hcChart.plotTop,height:this.hcChart.plotHeight}),this.shadedRegionRight.attr({y:this.hcChart.plotTop,height:this.hcChart.plotHeight}),this.positionResizeHandles("both")},destroy:function(){this.initialized&&(this.resizeHandleLeft.destroy(),this.resizeHandleRight.destroy(),this.handleVerticalLineLeft.destroy(),this.handleVerticalLineRight.destroy(),this.shadedRegionRight.destroy(),this.shadedRegionLeft.destroy(),this.$resetButton.remove(),this.initialized=!1),e(this.hcChart.container).off("mousemove."+this.id),this.off()},dragSelectionMarker:function(e){this.x=this.snapXValue(this.mouseDownX+e.chartX-this.pointer.mouseDownX,"round"),this.x=Math.max(this.x,this.hcChart.plotLeft),this.x=Math.min(this.x,this.hcChart.plotLeft+this.hcChart.plotWidth-this.getCurrentWidth()),this.positionResizeHandles("both")},resizeSelectionLeft:function(e){var t=this.getCurrentX(),n=this.getCurrentWidth();this.x=this.snapXValue(this.mouseDownX+e.chartX-this.pointer.mouseDownX,"round"),this.x=Math.max(this.x,this.hcChart.plotLeft);var r=t+n;this.x=Math.min(this.x,this.axis.toPixels(this.axis.toValue(r)-1)),this.width=n-this.x+t,this.positionResizeHandles("left")},resizeSelectionRight:function(e){this.x=this.getCurrentX();var t=this.mouseDownWidth+e.chartX-this.pointer.mouseDownX,n=this.snapXValue(this.x+t,"round");this.width=n-this.x,this.width=Math.min(this.width,this.hcChart.plotLeft+this.hcChart.plotWidth-this.x),this.width=Math.max(this.width,this.axis.toPixels(1)-this.axis.toPixels(0)),this.positionResizeHandles("right")},emitSelectionEvent:function(){var e=this.axis,t=e.toValue(this.x)+this.axisValueOffset,n=e.toValue(this.x+this.width)-this.axisValueOffset;this.trigger("rangeSelect",[t,n])},createResizeHandles:function(){var n={zIndex:this.zIndex+1,fill:{linearGradient:{x1:0,y1:.5,x2:1,y2:.5},stops:[[0,this.handleBgColor],[1/6,this.handleBorderColor],[2/6,this.handleBgColor],[.5,this.handleBorderColor],[4/6,this.handleBgColor],[5/6,this.handleBorderColor],[1,this.handleBgColor]]},"stroke-width":2,stroke:this.handleBgColor},r={"stroke-width":2,stroke:this.handleBgColor,zIndex:this.zIndex},i={zIndex:this.zIndex,fill:this.shadedAreaColor},s=this.hcChart.plotTop+this.hcChart.plotHeight/2-this.handleHeight/2;this.shadedRegionRight=this.renderer.rect(0,this.hcChart.plotTop,0,this.hcChart.plotHeight).attr(i).add(),this.handleVerticalLineRight=this.renderer.path().attr(r).add(),this.resizeHandleRight=this.renderer.rect(0,s,this.handleWidth,this.handleHeight,this.handleBorderRadius).attr(n).css({cursor:"ew-resize"}).add(),this.shadedRegionLeft=this.renderer.rect(this.hcChart.plotLeft,this.hcChart.plotTop,0,this.hcChart.plotHeight).attr(i).add(),this.handleVerticalLineLeft=this.renderer.path().attr(r).add(),this.resizeHandleLeft=this.renderer.rect(0,s,this.handleWidth,this.handleHeight,this.handleBorderRadius).attr(n).css({cursor:"ew-resize"}).add(),this.positionResizeHandles("both"),this.$resetButton=e(t(this.resetButtonTemplate).template({})),this.$resetButton.on("click",function(e){e.preventDefault()}),this.$resetButton.css({top:this.hcChart.yAxis[0].top+"px",right:this.hcChart.xAxis[0].right+"px"}),this.$resetButton.appendTo(this.hcChart.container)},positionResizeHandles:function(e){var t=this.x,n=t+this.width,r=this.hcChart.plotTop,i=r+this.hcChart.plotHeight,s=this.hcChart.plotLeft,o=s+this.hcChart.plotWidth;if(e==="both"||e==="left")this.shadedRegionLeft.attr({width:t-s}),this.handleVerticalLineLeft.attr({d:["M",t,r,"L",t,i]}),this.resizeHandleLeft.attr({x:t-this.handleWidth/2});if(e==="both"||e==="right")this.shadedRegionRight.attr({x:n,width:o-n}),this.handleVerticalLineRight.attr({d:["M",n,r,"L",n,i]}),this.resizeHandleRight.attr({x:n-this.handleWidth/2})},getCurrentX:function(){return this.resizeHandleLeft.attr("x")+this.handleWidth/2},getCurrentWidth:function(){return this.resizeHandleRight.attr("x")+this.handleWidth/2-this.getCurrentX()},snapXValue:function(e,t){var n=this.axis,r=n.toValue(e);return n.toPixels(Math[t](r-this.axisValueOffset)+this.axisValueOffset)},updateExtremesValues:function(){this.startValue=Math.round(this.axis.toValue(this.x)-this.axisValueOffset),this.endValue=Math.round(this.axis.toValue(this.x+this.width)-this.axisValueOffset)},resetButtonTemplate:'<a class="btn-link btn-reset-selection" href="#"><i class="icon-minus-circle"></i><%= _("Reset").t() %></a>'}),i}),define("js_charting/components/PanButtons",["jquery","underscore","../helpers/EventMixin","../util/color_utils"],function(e,t,n,r){var i=function(e){this.hcChart=e,this.initialize()};return i.prototype=e.extend({},n,{initialize:function(){var n=this.hcChart.xAxis[0],r=n.getExtremes(),i='<a class="btn-pill btn-pan-left" href="#"><i class="icon-chevron-left"></i></a>',s='<a class="btn-pill btn-pan-right" href="#"><i class="icon-chevron-right"></i></a>';this.panRightButton||(this.panRightButton=e(s),(this.hcChart.xAxis[0].options.tickmarkPlacement==="between"&&r.max>=r.dataMax||this.hcChart.xAxis[0].options.tickmarkPlacement==="on"&&r.max>r.dataMax)&&this.panRightButton.addClass("disabled"),e(this.hcChart.container).append(this.panRightButton)),this.panLeftButton||(this.panLeftButton=e(i),r.min===0&&this.panLeftButton.addClass("disabled"),e(this.hcChart.container).append(this.panLeftButton));var o=this;this.debouncedPanLeft=t.debounce(function(){o.handlePan("left"),o.positionButtons()}),this.debouncedPanRight=t.debounce(function(){o.handlePan("right"),o.positionButtons()}),this.positionButtons(),this.bindPanListeners()},positionButtons:function(){var e=this.hcChart.legend.options,t=this.hcChart.plotHeight+this.hcChart.plotTop+4,n=this.hcChart.xAxis[0].left-20,r=this.hcChart.xAxis[0].right-(e.align==="right"?20:0);this.panRightButton.css({top:t+"px",right:r+"px"}),this.panLeftButton.css({top:t+"px",left:n+"px"})},handlePan:function(e){var t=this.hcChart.xAxis[0],n=t.getExtremes(),r=Math.round(n.min),i=Math.round(n.max),s,o,u,a,f;e==="left"?(a=n.dataMin,r>a&&(r===a+1&&this.panLeftButton.addClass("disabled"),this.panRightButton.hasClass("disabled")&&this.panRightButton.removeClass("disabled"),o=r-1,u=i-1,s=!0)):e==="right"&&(f=n.dataMax+(this.hcChart.xAxis[0].options.tickmarkPlacement==="between"?0:1),i<f&&(i===f-1&&this.panRightButton.addClass("disabled"),this.panLeftButton.hasClass("disabled")&&this.panLeftButton.removeClass("disabled"),o=r+1,u=i+1,s=!0)),t.setExtremes(o,u,!1,!1,{trigger:"pan"}),s&&this.hcChart.redraw(!1)},bindPanListeners:function(){var e=this,t,n=function(){t&&clearTimeout(t)},r=this.hcChart.xAxis[0],i,s,o;this.panLeftButton&&(this.panLeftButton.on("click",function(t){t.preventDefault(),e.debouncedPanLeft()}),this.panLeftButton.on("mousedown",function(r){n(),t=window.setInterval(function(){e.handlePan("left")},200)}),this.panLeftButton.on("mouseup",function(t){n(),i=r.getExtremes(),e.trigger("pan",[i.min,i.max])})),this.panRightButton&&(this.panRightButton.on("click",function(t){t.preventDefault(),e.debouncedPanRight()}),this.panRightButton.on("mousedown",function(r){n(),t=window.setInterval(function(){e.handlePan("right")},200)}),this.panRightButton.on("mouseup",function(t){n(),i=r.getExtremes(),e.trigger("pan",[i.min,i.max])}))},onChartResize:function(e){this.panLeftButton&&this.panRightButton&&this.positionButtons()},onChartRedraw:function(e){this.panLeftButton&&this.panRightButton&&this.positionButtons()},destroy:function(){this.panLeftButton&&(this.panLeftButton.remove(),this.panLeftButton=undefined),this.panRightButton&&(this.panRightButton.remove(),this.panRightButton=undefined),this.off()}}),i}),define("js_charting/components/ZoomOutButton",["jquery","underscore","../helpers/EventMixin","../util/color_utils"],function(e,t,n,r){var i=function(e){this.hcChart=e,this.initialize(),this.debouncedZoomOut=t.debounce(function(){e.zoomOut()})};return i.prototype=e.extend({},n,{initialize:function(){var n=this.hcChart.xAxis[0],r=n.getExtremes(),i='<a class="btn-pill btn-zoom-out" href="#"><i class="icon-minus-circle"></i>'+t("Reset Zoom").t()+"</a>";this.zoomOutBtn||(this.zoomOutBtn=e(i),e(this.hcChart.container).append(this.zoomOutBtn));var s=this.hcChart.yAxis[0].top,o=this.hcChart.xAxis[0].right;this.zoomOutBtn.css({top:s+"px",right:o+"px"}),this.addEventHandlers()},addEventHandlers:function(){var e=this;this.zoomOutBtn&&this.zoomOutBtn.on("click",function(t){t.preventDefault(),e.debouncedZoomOut()})},destroy:function(){this.zoomOutBtn&&(this.zoomOutBtn.remove(),this.zoomOutBtn=undefined),this.off()}}),i}),define("js_charting/series/Series",["jquery","underscore","../helpers/EventMixin","../helpers/Formatter","../util/color_utils","../util/parsing_utils"],function(e,t,n,r,i,s){var o=function(e){this.index=e.index,this.seriesName=e.series.name,this.name=e.name,this.y=e.y},u=function(e){this.properties=this.normalizeProperties(e||{}),this.processProperties(),this.id=t.uniqueId("series_"),this.data=[],this._isDirty=!1,this._dataIsDirty=!1,this.UNHIGHLIGHTED_COLOR=i.addAlphaToColor(this.UNHIGHLIGHTED_BASE_COLOR,this.UNHIGHLIGHTED_OPACITY)};return u.prototype=e.extend({},n,{STACK_MODE_MAP:{"default":null,stacked:"normal",stacked100:"percent"},CHART_PROPERTY_PREFIX_REGEX:/^chart\./,UNHIGHLIGHTED_OPACITY:.3,UNHIGHLIGHTED_BASE_COLOR:"rgb(150, 150, 150)",DEFAULT_STACK_MODE:null,CHARTING_PROPERTY_WHITELIST:[],normalizeProperties:function(n){var r=e.extend(!0,{},n);return t(r).each(function(e,n){if(this.CHART_PROPERTY_PREFIX_REGEX.test(n)){delete r[n];var i=n.replace(this.CHART_PROPERTY_PREFIX_REGEX,"");t(this.CHARTING_PROPERTY_WHITELIST).contains(i)&&(r[i]=e)}},this),r},processProperties:function(){},redraw:function(e){if(!this.hcSeries)return;this.isDirty()?this.hcSeries.update(this.getConfig(),e):this.dataIsDirty()&&this.hcSeries.setData(this.hasPrettyData?this.prettyData:this.data,e)},update:function(e){var n=this.properties;this.properties=this.normalizeProperties(e),t.isEqual(this.properties,n)||(this.processProperties(),this._isDirty=!0)},setData:function(e){var n=this.data;t(e.x).isUndefined()?this.data=e.y:this.data=t(e.x).map(function(t,n){return[t,e.y[n]]}),t.isEqual(this.data,n)||(this._dataIsDirty=!0)},getData:function(){return this.data},isDirty:function(){return this._isDirty},dataIsDirty:function(){return this._dataIsDirty},getXAxisIndex:function(){return this.properties.xAxis||0},getYAxisIndex:function(){return this.properties.yAxis||0},getName:function(){return this.properties.name},getLegendKey:function(){return this.properties.legendKey||this.getName()},getFieldList:function(){return[this.getName()]},matchesName:function(e){return e===this.getName()},applyColorMapping:function(e){var t=this.color;this.color=e[this.getName()],this.color!==t&&(this._isDirty=!0)},getColor:function(){return this.color},getStackMode:function(){return this.STACK_MODE_MAP[this.properties.stacking]||this.DEFAULT_STACK_MODE},getType:function(){return this.type},getConfig:function(){return{type:this.type,id:this.id,name:this.getName(),color:this.color,data:this.hasPrettyData?this.prettyData:this.data,xAxis:this.getXAxisIndex(),yAxis:this.getYAxisIndex(),stacking:this.getStackMode()}},onChartLoad:function(e){},onChartLoadOrRedraw:function(e){this.hcSeries=e.get(this.id),this.hcSeries.splSeries=this,this._isDirty=!1,this._dataIsDirty=!1,this.hcSeries.options.states.hover.enabled=!0,this.addEventHandlers(this.hcSeries),t(this.hcSeries.data).each(function(e,t){e&&(e.index=t)})},addEventHandlers:function(e){e.options.point.events=e.options.point.events||{};var t=this,n=e.options.point.events;n.mouseOver=function(e){var n=this,r=new o(n);t.trigger("mouseover",[r,t])},n.mouseOut=function(e){var n=this,r=new o(n);t.trigger("mouseout",[r,t])},s.normalizeBoolean(this.properties.clickEnabled)&&(n.click=function(e){var n=this,r=new o(n),i={type:"click",modifierKey:e.ctrlKey||e.metaKey};t.trigger(i,[r,t])})},destroy:function(){this.off(),this.hcSeries&&this.hcSeries.splSeries&&(this.hcSeries.splSeries=null),this.hcSeries=null},handlePointMouseOver:function(e){this.bringToFront()},handleLegendMouseOver:function(e){this.bringToFront(),this.highlight()},bringToFront:function(){this.hcSeries.group&&this.hcSeries.group.toFront(),this.hcSeries.trackerGroup&&this.hcSeries.trackerGroup.toFront()},estimateMaxColumnWidths:function(e,n,i){var s=new r(e.renderer),o=e.options.tooltip.style.fontSize.replace("px",""),u=-Infinity,a=-Infinity;return t.each(n,function(e){var t=s.predictTextWidth(e,o);t>u&&(u=t)}),t.each(i,function(e){var t=s.predictTextWidth(e,o);t>a&&(a=t)}),s.destroy(),{maxLeftColWidth:u,maxRightColWidth:a}},getLeftColData:function(e){return e.xAxisIsTime?[e.xValueDisplay,e.seriesName]:[e.xAxisName,e.seriesName]},getRightColData:function(e){return e.xAxisIsTime?[e.yValueDisplay]:[e.xValueDisplay,e.yValueDisplay]},getTooltipHtml:function(e,n){e.seriesName=this.getName(),e.seriesColor=this.getColor();var r=n.chartWidth-50,i=this.getLeftColData(e),s=this.getRightColData(e),o=this.estimateMaxColumnWidths(n,i,s),u=o.maxLeftColWidth/(o.maxLeftColWidth+o.maxRightColWidth);return u>.9?u=.9:u<.1&&(u=.1),e.scaledMaxLeftColWidth=u*r+"px",e.scaledMaxRightColWidth=(1-u)*r+"px",e.willWrap=o.maxLeftColWidth+o.maxRightColWidth>r,t(this.tooltipTemplate).template(e)},handlePointMouseOut:function(e){},handleLegendMouseOut:function(e){},highlight:function(){},unHighlight:function(){},tooltipTemplate:'            <table class="highcharts-tooltip"                <% if(willWrap) { %>                    style="word-wrap: break-word; white-space: normal;"                <% } %>>                <% if(xAxisIsTime) { %>                    <tr>                        <td style="text-align: left; color: #ffffff;" colpsan="2"><%- xValueDisplay %></td>                    </tr>                <% } else { %>                    <tr>                        <td style="text-align: left; color: #cccccc; max-width: <%= scaledMaxLeftColWidth %>;"><%- xAxisName %>:&nbsp;&nbsp;</td>                        <td style="text-align: right; color: #ffffff; max-width: <%= scaledMaxRightColWidth %>;"><%- xValueDisplay %></td>                    </tr>                <% } %>                    <tr>                        <td style="text-align: left; color:<%= seriesColor %>; max-width: <%= scaledMaxLeftColWidth %>;"><%- seriesName %>:&nbsp;&nbsp;</td>                        <td style="text-align: right; color: #ffffff; max-width: <%= scaledMaxRightColWidth %>;"><%- yValueDisplay %></td>                    </tr>            </table>        '}),u.Point=o,u}),define("js_charting/series/ManyShapeSeries",["jquery","underscore","highcharts","./Series","../util/lang_utils","../util/color_utils"],function(e,t,n,r,i,s){var o=function(e){r.call(this,e),this.UNHIGHLIGHTED_BORDER_COLOR=s.addAlphaToColor(this.UNHIGHLIGHTED_BORDER_BASE_COLOR,this.UNHIGHLIGHTED_OPACITY)};return i.inherit(o,r),e.extend(o.prototype,{CHARTING_PROPERTY_WHITELIST:t.union(["seriesSpacing"],r.prototype.CHARTING_PROPERTY_WHITELIST),UNHIGHLIGHTED_BORDER_BASE_COLOR:"rgb(200, 200, 200)",DEFAULT_COLUMN_SPACING:.01,DEFAULT_COLUMN_GROUP_SPACING:.05,DEFAULT_BAR_SPACING:.02,DEFAULT_BAR_GROUP_SPACING:.05,getConfig:function(){var e=r.prototype.getConfig.apply(this,arguments);return e.drawGraphOverride=t(this.drawGraphOverride).bind(this),e.drawTrackerOverride=t(this.drawTrackerOverride).bind(this),e.drawPointsOverride=t(this.drawPointsOverride).bind(this),e.getGraphPathOverride=t(this.getGraphPathOverride).bind(this),e},drawGraphOverride:function(e){n.seriesTypes.area.prototype.drawGraph.call(e)},drawTrackerOverride:function(e){n.seriesTypes.area.prototype.drawTracker.call(e)},drawPointsOverride:function(){},destroy:function(){this.unSelectPoint(),r.prototype.destroy.call(this)},getGraphPathOverride:function(e){return t(e.points).each(function(t){var n=t.shapeArgs,r=n.x||0,i=n.y||0,s=n.width||0,o=n.height||0;e.areaPath.push("M",r,i,"L",r+s,i,"L",r+s,i+o,"L",r,i+o,"Z")}),e.singlePoints=[],[]},handlePointMouseOver:function(e){r.prototype.handlePointMouseOver.call(this,e),this.unHighlight(),this.selectPoint(e)},handlePointMouseOut:function(e){r.prototype.handlePointMouseOut.call(this,e),this.highlight(),this.unSelectPoint()},highlight:function(){r.prototype.highlight.call(this);if(!this.hcSeries.area)return;var e=this.getColor();this.hcSeries.area.attr({fill:e,"stroke-width":0})},unHighlight:function(){r.prototype.unHighlight.call(this),this.unSelectPoint();if(!this.hcSeries.area)return;this.hcSeries.area.attr({fill:this.UNHIGHLIGHTED_COLOR,stroke:this.UNHIGHLIGHTED_BORDER_COLOR,"stroke-width":1})},selectPoint:function(e){var t=this.hcSeries.data[e.index],n=t.shapeArgs,r=this.hcSeries.chart.renderer,i=this.hcSeries.group;this.selectedPointGraphic=r.rect(n.x,n.y,n.width,n.height).attr({fill:this.getColor(),zIndex:1}).add(i)},unSelectPoint:function(){this.selectedPointGraphic&&(this.selectedPointGraphic.destroy(),this.selectedPointGraphic=null)},computeColumnSpacing:function(e){var n=parseFloat(e);return t(n).isNaN()?this.DEFAULT_COLUMN_SPACING:n*this.DEFAULT_COLUMN_SPACING},computeColumnGroupSpacing:function(e){var n=parseFloat(e);return t(n).isNaN()?this.DEFAULT_COLUMN_GROUP_SPACING:this.DEFAULT_COLUMN_GROUP_SPACING*(1+n)},computeBarSpacing:function(e){var n=parseFloat(e);return t(n).isNaN()?this.DEFAULT_BAR_SPACING:n*this.DEFAULT_BAR_SPACING},computeBarGroupSpacing:function(e){var n=parseFloat(e);return t(n).isNaN()?this.DEFAULT_BAR_GROUP_SPACING:this.DEFAULT_BAR_GROUP_SPACING*(1+n)}}),o}),define("js_charting/series/ColumnSeries",["jquery","underscore","./ManyShapeSeries","../util/lang_utils"],function(e,t,n,r){var i=function(e){n.call(this,e)};return r.inherit(i,n),e.extend(i.prototype,{CHARTING_PROPERTY_WHITELIST:t.union(["columnSpacing"],n.prototype.CHARTING_PROPERTY_WHITELIST),type:"column",getConfig:function(){var e=n.prototype.getConfig.call(this);return e.pointPadding=this.computeColumnSpacing(this.properties.columnSpacing),e.groupPadding=this.computeColumnGroupSpacing(this.properties.seriesSpacing),e},bringToFront:function(){}}),i}),define("js_charting/series/BarSeries",["jquery","underscore","./ManyShapeSeries","../util/lang_utils"],function(e,t,n,r){var i=function(e){n.call(this,e)};return r.inherit(i,n),e.extend(i.prototype,{CHARTING_PROPERTY_WHITELIST:t.union(["barSpacing"],n.prototype.CHARTING_PROPERTY_WHITELIST),type:"bar",getConfig:function(){var e=n.prototype.getConfig.call(this);return e.pointPadding=this.computeBarSpacing(this.properties.barSpacing),e.groupPadding=this.computeBarGroupSpacing(this.properties.seriesSpacing),e},bringToFront:function(){}}),i}),define("js_charting/series/SingleShapeSeries",["jquery","underscore","./Series","../util/lang_utils"],function(e,t,n,r){var i=function(e){n.call(this,e)};return r.inherit(i,n),e.extend(i.prototype,{CHARTING_PROPERTY_WHITELIST:t.union(["lineStyle","nullValueMode"],n.prototype.CHARTING_PROPERTY_WHITELIST),HIGHLIGHTED_OPACITY:1,getConfig:function(){var e=n.prototype.getConfig.call(this);return e.dashStyle=this.properties.lineStyle==="dashed"?"Dash":"Solid",e.pointPlacement="on",e.drawPointsPreHook=t(this.drawPointsPreHook).bind(this),e},handlePointMouseOver:function(e){n.prototype.handlePointMouseOver.call(this,e),this.highlight()},drawPointsPreHook:function(e){if(e.options.marker&&e.options.marker.enabled)return;var t,n,r=e.segments;for(t=0;t<r.length;t++)n=r[t],n.length===1&&n[0].update({marker:{enabled:!0,radius:4}},!1)}}),i}),define("js_charting/series/LineSeries",["jquery","underscore","./SingleShapeSeries","../util/lang_utils","../util/parsing_utils"],function(e,t,n,r,i){var s=function(e){n.call(this,e)};return r.inherit(s,n),e.extend(s.prototype,{CHARTING_PROPERTY_WHITELIST:t.union(["showMarkers"],n.prototype.CHARTING_PROPERTY_WHITELIST),type:"line",highlight:function(){n.prototype.highlight.call(this);if(this.hcSeries.graph){var e=this.getColor();this.hcSeries.graph.attr({stroke:e,"stroke-opacity":this.HIGHLIGHTED_OPACITY})}t(this.hcSeries.data).each(this.highlightPoint,this)},unHighlight:function(){n.prototype.unHighlight.call(this),this.hcSeries.graph&&this.hcSeries.graph.attr("stroke",this.UNHIGHLIGHTED_COLOR),t(this.hcSeries.data).each(this.unHighlightPoint,this)},highlightPoint:function(e){var t=this.getColor();e.graphic&&e.graphic.attr("fill",t)},unHighlightPoint:function(e){e.graphic&&e.graphic.attr("fill",this.UNHIGHLIGHTED_COLOR)},translatePostHook:function(){if(this.hcSeries){var e=this.hcSeries.chart,t=this.hcSeries.xAxis,n=this.hcSeries.points;if(Math.round(t.min)===Math.round(t.max)&&this.hcSeries.options.type==="line"){var r=!1,i=e.series;for(var s=0;s<e.series.length;s++)e.series[s].options.type==="column"&&(r=!0);if(r){var o=Math.round(t.min);n[o-1]&&(n[o-1].plotX=n[o].plotX-t.width),n[o+1]&&(n[o+1].plotX=n[o].plotX+t.width)}}}},getConfig:function(){var r=n.prototype.getConfig.call(this);return r.connectNulls=this.properties.nullValueMode==="connect",e.extend(r,{marker:{},stacking:this.STACK_MODE_MAP["default"],zIndex:2,translatePostHook:t(this.translatePostHook).bind(this),dashStyle:this.properties.dashStyle}),r.marker.enabled=i.normalizeBoolean(this.properties.showMarkers,!1),r}}),s}),define("js_charting/series/AreaSeries",["jquery","underscore","./SingleShapeSeries","../util/lang_utils","../util/color_utils","../util/parsing_utils","../util/math_utils"],function(e,t,n,r,i,s,o){var u=function(e){n.call(this,e),this.UNHIGHLIGHTED_LINE_COLOR=i.addAlphaToColor(this.UNHIGHLIGHTED_BASE_COLOR,this.UNHIGHLIGHTED_LINE_OPACITY)};return r.inherit(u,n),e.extend(u.prototype,{HIGHLIGHTED_OPACITY:.75,UNHIGHLIGHTED_LINE_OPACITY:.4,CHARTING_PROPERTY_WHITELIST:t.union(["showLines","areaFillOpacity"],n.prototype.CHARTING_PROPERTY_WHITELIST),type:"area",processProperties:function(){var e=o.parseFloat(this.properties.areaFillOpacity);this.fillOpacity=e<=1&&e>=0?e:this.HIGHLIGHTED_OPACITY},getConfig:function(){var e=n.prototype.getConfig.call(this);return e.fillOpacity=this.fillOpacity,e.connectNulls=this.properties.nullValueMode==="connect",e.lineWidth=s.normalizeBoolean(this.properties.showLines,!0)?1:0,e},onChartLoadOrRedraw:function(e){n.prototype.onChartLoadOrRedraw.call(this,e),this.hasLines=this.hcSeries.options.lineWidth>0,this.hcSeries.area.attr("fill-opacity",this.fillOpacity)},highlight:function(){n.prototype.highlight.call(this);var e=this.getColor();this.hcSeries.area.attr({fill:e,"fill-opacity":this.fillOpacity}),this.hcSeries.graph&&this.hasLines&&this.hcSeries.graph.attr({stroke:e,"stroke-opacity":1})},unHighlight:function(){n.prototype.unHighlight.call(this),this.hcSeries.area.attr("fill",this.UNHIGHLIGHTED_COLOR),this.hcSeries.graph&&this.hasLines&&this.hcSeries.graph.attr("stroke",this.UNHIGHLIGHTED_LINE_COLOR)}}),u}),define("js_charting/series/PieSeries",["jquery","underscore","./Series","./ManyShapeSeries","../util/lang_utils","../util/parsing_utils","../util/time_utils","util/time","splunk.i18n"],function(e,t,n,r,i,s,o,u,a){var f=function(e){r.call(this,e)};return i.inherit(f,r),e.extend(f.prototype,{CHARTING_PROPERTY_WHITELIST:t.union(["sliceCollapsingThreshold","sliceCollapsingLabel","showPercent"],r.prototype.CHARTING_PROPERTY_WHITELIST),type:"pie",hasPrettyData:!1,fieldList:[],processProperties:function(){this.collapseFieldName=this.properties.sliceCollapsingLabel||"other",this.collapsePercent=this.properties.hasOwnProperty("sliceCollapsingThreshold")?parseFloat(this.properties.sliceCollapsingThreshold):.01},getConfig:function(){return e.extend(r.prototype.getConfig.call(this),{translatePreHook:t(this.translatePreHook).bind(this)})},setData:function(e){var n=this.data;this.data=[],this.prettyData=[];var r=this,i=e.names,f=e.sizes,l=e.spans,c=e.isTimeBased,h=t(f).reduce(function(e,t){return e+t},0),p=f.length,d=0,v=0,m=0,g=null,y=function(e){return e>0&&e/h>r.collapsePercent};c&&(g=u.determineLabelGranularity(i),this.hasPrettyData=!0),this.fieldList=t(i).map(s.escapeSVG,s),t(f).each(function(e,t){y(f[t])||m++},this),t(i).each(function(e,n){var r=f[n];if(y(r)||m===1||p<=10)if(c){var i=u.extractBdTime(e),s=o.formatBdTimeAsAxisLabel(i,null,g).join(" "),a=l[n];this.data.push([e,r,a]),this.prettyData.push([s,r,a])}else this.data.push([e,r]);else d+=r,v++,this.fieldList=t(this.fieldList).without(e)},this);if(v>0){var b=this.collapseFieldName+" ("+v+")";this.data.push([b,d]),this.prettyData.push([b,d,null]),this.fieldList.push("__other")}s.normalizeBoolean(this.properties.showPercent)&&t([this.data,this.prettyData]).each(function(e){t(e).each(function(e){e[0]+=", "+a.format_percent(e[1]/h)})}),t.isEqual(this.data,n)||(this._dataIsDirty=!0)},getFieldList:function(){return this.fieldList},getData:function(){return this.data},getPrettyData:function(){return this.prettyData},handlePointMouseOver:function(e){n.prototype.handlePointMouseOver.call(this,e);var r=this.hcSeries.data[e.index];this.highlightPoint(r),t(this.hcSeries.data).chain().without(r).each(this.unHighlightPoint,this)},handlePointMouseOut:function(e){n.prototype.handlePointMouseOut.call(this,e);var r=this.hcSeries.data[e.index];t(this.hcSeries.data).chain().without(r).each(this.highlightPoint,this)},highlightPoint:function(e){var t=e.color;e.graphic.attr({fill:t,"stroke-width":0,stroke:t})},unHighlightPoint:function(e){if(!e.graphic)return;e.graphic.attr({fill:this.UNHIGHLIGHTED_COLOR,"stroke-width":1,stroke:this.UNHIGHLIGHTED_BORDER_COLOR})},getLeftColData:function(e){return[e.sliceFieldName,e.seriesName,e.seriesName+"%"]},getRightColData:function(e){return[e.sliceName,e.yValue,e.yPercent]},translatePreHook:function(e){var t=e.chart;e.options.dataLabels.enabled?e.options.size=Math.min(t.plotHeight*.75,t.plotWidth/3):e.options.size=Math.min(t.plotHeight*.75,t.plotWidth*.75)},tooltipTemplate:'            <table class="highcharts-tooltip"                <% if(willWrap) { %>                    style="word-wrap: break-word; white-space: normal;"                <% } %>>                <tr>                    <td style="text-align: left; color: #cccccc; max-width: <%= scaledMaxLeftColWidth %>;"><%- sliceFieldName %>:&nbsp;&nbsp;</td>                    <td style="text-align: right; color: #ffffff; max-width: <%= scaledMaxRightColWidth %>;"><%- sliceName %></td>                </tr>                <tr>                    <td style="text-align: left; color: <%= sliceColor %>; max-width: <%= scaledMaxLeftColWidth %>;"><%- seriesName %>:&nbsp;&nbsp;</td>                    <td style="text-align: right; color: #ffffff; max-width: <%= scaledMaxRightColWidth %>;"><%- yValue %></td>                </tr>                <tr>                    <td style="text-align: left; color: <%= sliceColor %>; max-width: <%= scaledMaxLeftColWidth %>;"><%- seriesName %>%:&nbsp;&nbsp;</td>                    <td style="text-align: right; color: #ffffff; max-width: <%= scaledMaxRightColWidth %>;"><%- yPercent %></td>                </tr>            </table>        '}),f}),define("js_charting/series/ScatterSeries",["jquery","underscore","highcharts","./ManyShapeSeries","../util/lang_utils"],function(e,t,n,r,i){var s=function(e){r.call(this,e)};return i.inherit(s,r),e.extend(s.prototype,{type:"scatter",getConfig:function(){var e=r.prototype.getConfig.apply(this,arguments);return e.pointActionsPreHook=t(this.pointActionsPreHook).bind(this),e.renderPostHook=t(this.renderPostHook).bind(this),e},getGraphPathOverride:function(e){var r,i="",s="select",o=e.chart,u=e.options.marker;return t(e.points).each(function(t){var a=Math.floor(t.plotX),f=t.plotY,l=t.marker||{},c=u.enabled&&l.enabled===r||l.enabled,h=o.isInsidePlot(Math.round(a),f,o.inverted);if(c&&f!==r&&!isNaN(f)&&t.y!==null){var p=t.pointAttr[t.selected?s:i],d=p.r,v=n.pick(l.symbol,e.symbol);if(h&&d>0){var m=o.renderer.symbols[v](a-d,f-d,2*d,2*d);e.areaPath.push.apply(e.areaPath,m)}}}),e.singlePoints=[],[]},renderPostHook:function(e){e.group&&e.group.toFront()},pointActionsPreHook:function(e,n){var r,i,s,o=e.chart,u=o.pointer,a=n.chartX-o.plotLeft,f=n.chartY-o.plotTop,l=e.options.marker.radius,c=5,h=l+c,p=u.getIndex(n);e._sortedPoints||(e._sortedPoints=t(e.points).sortBy("plotX"));var d,v,m=[],g=t(e._sortedPoints).sortedIndex({plotX:a-h},"plotX");for(r=g,i=e._sortedPoints.length;r<i;r++){d=e._sortedPoints[r],v=d.plotX;if(!(v<=a+h))break;m.push(d)}m.length===1?s=m[0]:s=t(m).min(function(e){return Math.abs(e.plotY-f)}),e.tooltipPoints=e.tooltipPoints||[],e.tooltipPoints[p]=s},selectPoint:function(t){var n=this.hcSeries.data[t.index],r=n.series;r.stateMarkerGraphic&&(this.selectedPointGraphic=r.stateMarkerGraphic,r.stateMarkerGraphic=null,e(this.selectedPointGraphic.element).insertBefore(r.tracker.element))},getLeftColData:function(e){return[e.labelSeriesName,e.xAxisName,e.yAxisName]},getRightColData:function(e){return[e.seriesName,e.xValue,e.yValue]},tooltipTemplate:'            <table class="highcharts-tooltip"                <% if(willWrap) { %>                    style="word-wrap: break-word; white-space: normal;"                <% } %>>                <% if(isMultiSeries) { %>                    <tr>                        <td style="text-align: left; color: #cccccc; max-width: <%= scaledMaxLeftColWidth %>;"><%- labelSeriesName %>:&nbsp;&nbsp;</td>                        <td style="text-align: right; color: <%= seriesColor %>; max-width: <%= scaledMaxRightColWidth %>;"><%- seriesName %></td>                    </tr>                <% } %>                <% if(markName) { %>                    <tr>                        <td style="text-align: left; color: #cccccc; max-width: <%= scaledMaxLeftColWidth %>;"><%- markName %>:&nbsp;&nbsp;</td>                        <td style="text-align: right; color: #ffffff; max-width: <%= scaledMaxRightColWidth %>;"><%- markValue %></td>                    </tr>                <% } %>                <tr>                    <td style="text-align: left; color: #cccccc; max-width: <%= scaledMaxLeftColWidth %>;"><%- xAxisName %>:&nbsp;&nbsp;</td>                    <td style="text-align: right; color: #ffffff; max-width: <%= scaledMaxRightColWidth %>;"><%- xValue %></td>                </tr>                <tr>                    <td style="text-align: left; color: #cccccc; max-width: <%= scaledMaxLeftColWidth %>;"><%- yAxisName %>:&nbsp;&nbsp;</td>                    <td style="text-align: right; color: #ffffff; max-width: <%= scaledMaxRightColWidth %>;"><%- yValue %></td>                </tr>            </table>        '}),s}),define("js_charting/series/MultiSeries",["jquery","underscore","./Series","../util/lang_utils"],function(e,t,n,r){var i=function(e){n.call(this,e),this.nestedSeriesList=[]};return r.inherit(i,n),e.extend(i.prototype,{normalizeProperties:function(e){return e},isDirty:function(){return t(this.nestedSeriesList).any(function(e){return e.isDirty()})},dataIsDirty:function(){return t(this.nestedSeriesList).any(function(e){return e.dataIsDirty()})},getFieldList:function(){return t(this.nestedSeriesList).invoke("getFieldList")},applyColorMapping:function(e){t(this.nestedSeriesList).invoke("applyColorMapping",e)},matchesName:function(e){return t(this.nestedSeriesList).any(function(t){return t.matchesName(e)})},getConfig:function(){return t(this.nestedSeriesList).invoke("getConfig")},bindNestedSeries:function(){var e=this;t(this.nestedSeriesList).each(function(t){t.on("mouseover",function(t,n,r){e.trigger(t,[n,r])}),t.on("mouseout",function(t,n,r){e.trigger(t,[n,r])}),t.on("click",function(t,n,r){e.trigger(t,[n,r])})})},handlePointMouseOver:function(e){var n=e.seriesName;t(this.nestedSeriesList).each(function(t){t.matchesName(n)?t.handlePointMouseOver(e):t.unHighlight()})},handlePointMouseOut:function(e){var n=e.seriesName;t(this.nestedSeriesList).each(function(t){t.matchesName(n)?t.handlePointMouseOut(e):t.highlight()})},handleLegendMouseOver:function(e){t(this.nestedSeriesList).each(function(t){t.matchesName(e)?t.handleLegendMouseOver(e):t.unHighlight()})},handleLegendMouseOut:function(e){t(this.nestedSeriesList).each(function(t){t.matchesName(e)?t.handleLegendMouseOut(e):t.highlight()})},onChartLoad:function(e){t(this.nestedSeriesList).invoke("onChartLoad",e)},onChartLoadOrRedraw:function(e){t(this.nestedSeriesList).invoke("onChartLoadOrRedraw",e)},redraw:function(e){t(this.nestedSeriesList).invoke("redraw",e)},destroy:function(){this.off(),t(this.nestedSeriesList).invoke("destroy")},bringToFront:function(){t(this.nestedSeriesList).invoke("bringToFront")},highlight:function(){t(this.nestedSeriesList).invoke("highlight")},unHighlight:function(){t(this.nestedSeriesList).invoke("unHighlight")}}),i}),define("js_charting/series/RangeSeries",["jquery","underscore","./AreaSeries","./LineSeries","./MultiSeries","../util/lang_utils"],function(e,t,n,r,i,s){var o=function(e){this.threshold=0,n.call(this,e)};s.inherit(o,n),e.extend(o.prototype,{HIGHLIGHTED_OPACITY:0,UNHIGHLIGHTED_OPACITY:0,UNHIGHLIGHTED_LINE_OPACITY:.25,normalizeProperties:function(t){return e.extend({},n.prototype.normalizeProperties.apply(this,arguments),{lineStyle:"dashed",stacking:"stacked"})},setData:function(e){n.prototype.setData.call(this,e);var r=t(e.y).min(),i=this.threshold;this.threshold=Math.min(r,0),this.threshold!==i&&(this._isDirty=!0)},getConfig:function(){var e=n.prototype.getConfig.call(this);return e.showInLegend=!1,e.threshold=this.threshold,e}});var u=function(e){n.call(this,e)};s.inherit(u,n),e.extend(u.prototype,{HIGHLIGHTED_OPACITY:.25,UNHIGHLIGHTED_OPACITY:.1,UNHIGHLIGHTED_LINE_OPACITY:.25,normalizeProperties:function(t){return e.extend({},n.prototype.normalizeProperties.apply(this,arguments),{lineStyle:"dashed",stacking:"stacked"})},getConfig:function(){var e=n.prototype.getConfig.call(this);return e.showInLegend=!1,e}});var a=function(e){i.call(this,e),this.rangeStackId=t.uniqueId("rangeStack_"),this.predictedSeries=new r(this.getPredictedSeriesProperties()),this.lowerSeries=new o(this.getLowerSeriesProperties()),this.upperSeries=new u(this.getUpperSeriesProperties()),this.nestedSeriesList=[this.upperSeries,this.lowerSeries,this.predictedSeries],this.bindNestedSeries()};return s.inherit(a,i),e.extend(a.prototype,{type:"range",update:function(e){this.properties=this.normalizeProperties(e),this.predictedSeries.update(this.getPredictedSeriesProperties()),this.lowerSeries.update(this.getLowerSeriesProperties()),this.upperSeries.update(this.getUpperSeriesProperties())},setData:function(e){this.predictedSeries.setData({y:e.predicted,x:e.x}),this.lowerSeries.setData({y:e.lower,x:e.x}),e.upper=t(e.upper).map(function(n,r){if(t(n).isNull())return null;var i=n-e.lower[r];return Math.max(i,0)}),this.upperSeries.setData({y:e.upper,x:e.x})},getPredictedSeriesProperties:function(){return this.properties},getLowerSeriesProperties:function(){return e.extend({},this.properties,{name:this.properties.names.lower,legendKey:this.predictedSeries.getLegendKey(),stack:this.rangeStackId})},getUpperSeriesProperties:function(){return e.extend({},this.properties,{name:this.properties.names.upper,legendKey:this.predictedSeries.getLegendKey(),stack:this.rangeStackId})},getFieldList:function(){return this.predictedSeries.getFieldList()},applyColorMapping:function(e){this.predictedSeries.applyColorMapping(e);var t=this.predictedSeries.getColor(),n={},r={};n[this.lowerSeries.getName()]=t,this.lowerSeries.applyColorMapping(n),r[this.upperSeries.getName()]=t,this.upperSeries.applyColorMapping(r)},handlePointMouseOver:function(e){this.bringToFront(),this.highlight()},handlePointMouseOut:function(e){},handleLegendMouseOver:function(e){this.bringToFront(),this.highlight()},handleLegendMouseOut:function(e){}}),a}),define("js_charting/series/series_factory",["./ColumnSeries","./BarSeries","./LineSeries","./AreaSeries","./PieSeries","./ScatterSeries","./RangeSeries"],function(e,t,n,r,i,s,o){return{create:function(u){return u.type==="column"?new e(u):u.type==="bar"?new t(u):u.type==="line"?new n(u):u.type==="area"?new r(u):u.type==="pie"?new i(u):u.type==="scatter"?new s(u):u.type==="range"?new o(u):new e(u)}}}),define("js_charting/util/testing_utils",["jquery","underscore","splunk","./dom_utils"],function(e,t,n,r){var i=function(t,n,r){var i=t.series[n],s=i.type,o=i.data[r],u=e(t.container).offset();if(s in{line:!0,area:!0,scatter:!0})return t.inverted?{x:i.yAxis.translate(o.y)+u.left+t.plotLeft,y:t.plotHeight+t.plotTop+u.top-i.xAxis.translate(o.x)}:{x:o.plotX+u.left+t.plotLeft,y:o.plotY+u.top+t.plotTop};if(s==="column"){var a=o.shapeArgs;return{x:o.plotX+u.left+t.plotLeft,y:o.plotY+u.top+t.plotTop+a.height/2}}if(s==="bar")return{x:u.left+t.plotLeft+t.plotWidth-o.shapeArgs.y-o.shapeArgs.height/2,y:u.top+t.plotTop+t.plotHeight-i.xAxis.translate(o.x)-i.barW/2-i.pointXOffset};if(s==="pie"){var f=i.center[0],l=i.center[1],c=o.labelPos[0],h=o.labelPos[1];return{x:(f+c)/2+u.left+t.plotLeft,y:(l+h)/2+u.top+t.plotTop}}return{}},s=function(n,r,s){n.$container.addClass("highcharts-wrapper"),n.$container.attr("id")||n.$container.attr("id",n.id);var c=n.hcChart;e(c.container).addClass(s),o(c),u(c),c.options.legend.enabled&&l(c);if(c.tooltip&&c.tooltip.refresh){var h=c.tooltip.refresh,p=t.find(r,function(e){return e==="_time"})==="_time"?f:a;c.tooltip.refresh=function(e){h.call(c.tooltip,e),p(c)}}c.getPointCoordinates=t(i).bind(null,c)},o=function(t){var n=this,i,s;e(".highcharts-series",e(t.container)).each(function(n,o){i=t.series[n].name,e(o).attr("id",i+"-series"),r.hasSVG?s=e("rect, path",e(o)):s=e("shape",e(o)),s.each(function(e,t){c(t,"spl-display-object")})})},u=function(n){var i,s;t(n.xAxis).each(function(e){var t=n.inverted?"vertical-axis":"horizontal-axis";c(e.axisGroup.element,t),c(e.labelGroup.element,t)}),t(n.yAxis).each(function(e){var t=n.inverted?"horizontal-axis":"vertical-axis";c(e.axisGroup.element,t),c(e.labelGroup.element,t)}),e(".highcharts-axis, .highcharts-axis-labels",e(n.container)).each(function(t,n){r.hasSVG?i=e("text",e(n)):i=e("span",e(n)),i.each(function(e,t){c(t,"spl-text-label")})});var o=function(e){t(e.ticks).each(function(e){e.mark&&e.mark.element&&c(e.mark.element,"highcharts-axis-tickmark")})};for(s=0;s<n.xAxis.length;s++)n.xAxis[s].axisTitle&&c(n.xAxis[s].axisTitle.element,"x-axis-title"),o(n.xAxis[s]);for(s=0;s<n.yAxis.length;s++)n.yAxis[s].axisTitle&&c(n.yAxis[s].axisTitle.element,"y-axis-title"),o(n.yAxis[s])},a=function(t){var n,i,s,o,u,a,f=e(".highcharts-tooltip"),l=e("tr",f);for(n=0;n<l.length;n++)a=e("td",l[n]),i=(r.hasSVG?l[n].textContent:l[n].innerText).split(":"),e(a[0]).addClass("key"),e(a[0]).addClass(h(i[0]+"-key")),e(a[1]).addClass("value"),e(a[1]).addClass(h(i[0]+"-value"))},f=function(t){var n=this,r,i,s,o,u,a,f=e(".highcharts-tooltip"),l=e("tr",f);for(r=0;r<l.length;r++)a=e("td",l[r]),r===0?(e(a[0]).addClass("time-value"),e(a[0]).addClass("time")):(i=l[r].textContent.split(":"),e(a[0]).addClass("key"),e(a[0]).addClass(h(i[0]+"-key")),e(a[1]).addClass("value"),e(a[1]).addClass(h(i[0]+"-value")))},l=function(t){var n=this,i;e(t.series).each(function(t,n){if(!n.legendItem)return;i=r.hasSVG?n.legendItem.textStr:e(n.legendItem.element).html(),n.legendSymbol&&(c(n.legendSymbol.element,"symbol"),c(n.legendSymbol.element,i+"-symbol")),n.legendLine&&(c(n.legendLine.element,"symbol"),c(n.legendLine.element,i+"-symbol")),n.legendItem&&c(n.legendItem.element,"legend-label")})},c=function(t,n){n=h(n);if(n==="")return;r.hasSVG?t.className.baseVal?t.className.baseVal+=" "+n:t.className.baseVal=n:e(t).addClass(n)},h=function(e){return e=e.replace(/\s/g,""),/^[-]?[A-Za-z]/.test(e)?e.replace(/[^A-Za-z0-9_-]/g,""):""},p=function(t,n,r,i){t.$container.attr("id")||t.$container.attr("id",t.id);var s=t.$hcContainer;s.addClass(r),d(s,i),n.valueDisplay&&c(n.valueDisplay.element,"gauge-value");var o;for(o in n)/^tickLabel_/.test(o)&&c(n[o].element,"gauge-tick-label");for(o in n)/^colorBand/.test(o)&&c(n[o].element,"gauge-color-band");e(".gauge-color-band").each(function(){e(this).attr("data-band-color",e(this).attr("fill"))}),n.fill&&e(n.fill.element).attr("data-indicator-color",e(n.fill.element).attr("fill")),n.needle&&c(n.needle.element,"gauge-indicator"),n.markerLine&&c(n.markerLine.element,"gauge-indicator")},d=function(e,t){e.attr("data-gauge-value",t)},v=function(e,t){n.JSCharting=n.JSCharting||{},n.JSCharting.chartByIdMap=n.JSCharting.chartByIdMap||{};var r=e.$container.attr("id");n.JSCharting.chartByIdMap[r]=t};return{initializeTestingMetaData:s,gaugeAddTestingMetadata:p,createGlobalReference:v,getPointCoordinates:i}}),define("js_charting/util/async_utils",["jquery","underscore"],function(e,t){var n={};return n.CANCELLED="cancelled",n.requestFrame=t(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,50)}}()).bind(window),n.cancelFrame=t(function(){return window.cancelAnimationFrame||window.mozCancelAnimationFrame||function(e){window.clearTimeout(e)}}()).bind(window),n.asyncEach=function(t,r){var i,s=!1,o=t.length,u=e.Deferred(),a=function(e){if(s)return;r(t[e],e),e<o-1?i=n.requestFrame(function(){a(e+1)}):u.resolve()};return u.cancel=function(){s=!0,i&&(n.cancelFrame(i),u.reject(n.CANCELLED))},a(0),u},n}),define("js_charting/visualizations/charts/Chart",["jquery","underscore","highcharts","../Visualization","../../components/ColorPalette","../../components/axes/TimeAxis","../../components/axes/CategoryAxis","../../components/axes/NumericAxis","../../components/Legend","../../components/Tooltip","../../components/SelectionWindow","../../components/PanButtons","../../components/ZoomOutButton","../../helpers/HoverEventThrottler","../../series/series_factory","splunk.util","../../util/lang_utils","../../util/testing_utils","../../util/parsing_utils","../../util/color_utils","../../util/time_utils","../../util/dom_utils","../../util/async_utils","helpers/user_agent","util/console"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T){var N=function(e,t){r.call(this,e,t)};return m.inherit(N,r),e.extend(N.prototype,{HOVER_DELAY:160,EXPORT_WIDTH:600,EXPORT_HEIGHT:400,PROGRESSIVE_DRAW_THRESHOLD:x.isIELessThan(9)?100:1e3,hasLegend:!0,hasTooltip:!0,hasXAxis:!0,hasYAxis:!0,requiresExternalColors:!0,externalPaletteMapping:{},externalPaletteSize:0,prepare:function(e,n){var i=this.isEmpty();r.prototype.prepare.call(this,e,n),this.benchmark("Prepare Started"),this.initializeFields(),this.isiOS=x.isiOS();var s=this.isEmpty();s!==i&&(this._isDirty=!0),this.shouldUpdateInPlace()?(this.updateSeriesProperties(),this.updateAxisProperties(),s||this.setAllSeriesData()):(s||this.initializeColorPalette(),this.initializeSeriesList(),this.axesAreInverted=t(this.seriesList).any(function(e){return e.getType()==="bar"}),this.hasXAxis&&this.initializeXAxisList(),this.hasYAxis&&this.initializeYAxisList(),s?(this.legend&&(this.legend.destroy(),this.legend=null),this.tooltip&&(this.tooltip.destroy(),this.tooltip=null)):(this.hasLegend&&this.initializeLegend(),this.hasTooltip&&this.initializeTooltip(),this.setAllSeriesData(),this.bindSeriesEvents()))},getFieldList:function(){return t(this.seriesList).chain().invoke("getFieldList").flatten(!0).compact().value()},setExternalColorPalette:function(t,n){this.externalPaletteMapping=e.extend({},t),this.externalPaletteSize=n},handleDraw:function(r){T.debug("drawing a chart with dimensions:",{width:this.width,height:this.height}),T.debug("drawing a chart with properties:",this.properties),T.debug("drawing a chart with data:",this.dataSet.toJSON()),this.benchmark("Draw Started"),this.applyColorPalette(),this.cancelPendingDraw();if(this.shouldUpdateInPlace()){this.redrawInPlace(r);return}this.hcConfig=this.getConfig(),T.debug("config object to be sent to highcharts:",this.hcConfig),this.hcChart&&this.hcChart.destroy(),this.shouldProgressiveDraw()&&(this.hcConfig.firstRenderOverride=t(this.firstRenderOverride).bind(this),this.hcConfig.renderOverride=t(this.renderOverride).bind(this));var i=this;new n.Chart(this.hcConfig,function(t){i.hcChart=t,i.testMode&&(g.initializeTestingMetaData(i,i.xFields,i.getClassName()),g.createGlobalReference(i,t)),e(n).on("baseUriChange."+i.id,function(){i.$container.find("[clip-path]").each(function(){var t=e(this),n=t.attr("clip-path");t.removeAttr("clip-path"),t.attr("clip-path",n)})}),i.addEventHandlers(t),i.onChartLoad(t),i.onChartLoadOrRedraw(t),i.hasTooltip&&!i.isEmpty()&&i.enableTooltip(t),i.benchmark("Draw Finished"),r(i,i.benchmarks)})},redrawInPlace:function(e){T.log("in place redraw!");if(!this.hcChart)throw new Error("Cannot call redrawInPlace if chart does not already exist");t(this.seriesList).invoke("redraw",!1);var n=this.hcChart.series,r=this.getSeriesConfigList();n.length>r.length?t(n.slice(r.length)).invoke("remove",!1):n.length<r.length&&t(r.slice(n.length)).each(function(e){this.hcChart.addSeries(e,!1,!1)},this);var i,s,o=this.xAxisList[0],u=o.isZoomed;u?(i=this.hcChart.xAxis[0].getExtremes(),i.max-=o.hasTickmarksBetween()?0:1):this.selectionWindow&&(i=this.selectionWindow.getExtremes(),i.min+=o.hasTickmarksBetween()?1:0),i&&(s=this.calculatePostUpdateExtremes(i)),t(this.xAxisList).invoke("redraw",!1),u?s.min===null||s.max===null?this.hcChart.xAxis[0].zoom():(s.max+=o.hasTickmarksBetween()?0:1,this.hcChart.xAxis[0].zoom(s.min,s.max)):this.selectionWindow&&(s.max===null?(this.selectionWindow.destroy(),this.selectionWindow=null):(s.min=(s.min||0)-(o.hasTickmarksBetween()?1:0),this.selectionWindow.setExtremes(s))),this.hcChart.redraw(),this.benchmark("Series Redraw Finished"),e(this,this.benchmarks)},cancelPendingDraw:function(){this.pendingDraw&&this.pendingDraw.state()==="pending"&&this.pendingDraw.cancel()},setSize:function(e,t){var n=this.hcChart.xAxis[0];if(!this.hcChart)return;n&&this.xAxisList[0].isZoomed&&(n.userMin=n.userMin||n.oldUserMin,n.userMax=n.userMax||n.oldUserMax),this.hcChart.setSize(e,t,!1)},destroy:function(){this.cancelPendingDraw(),this.hcChart&&(this.onChartDestroy(),this.hcChart.destroy(),this.hcChart=null)},getSVG:function(){var t=this.hcChart;this.hcConfig.legend.enabled&&(this.exportMode&&t.type!=="scatter"&&e(t.series).each(function(e,t){if(!t.legendSymbol)return!1;t.legendSymbol.attr({height:8,translateY:4}),t.area&&parseFloat(t.area.attr("fill-opacity"))===0&&(t.area.destroy(),delete t.area)}),t.legend.nav&&t.legend.nav.destroy());var n=e(".highcharts-container").find("svg");return n.siblings().remove(),n.find(".highcharts-tracker").remove(),n.find(".highcharts-legend g[clip-path]").each(function(){e(this).removeAttr("clip-path")}),n.parent().html()},processProperties:function(){r.prototype.processProperties.call(this),this.properties.hasOwnProperty("drilldown")?this.chartClickEnabled=this.legendClickEnabled=this.properties.drilldown==="all":(this.properties.hasOwnProperty("chart.clickEnabled")?this.chartClickEnabled=y.normalizeBoolean(this.properties["chart.clickEnabled"]):this.chartClickEnabled=y.normalizeBoolean(this.properties.enableChartClick),this.properties.hasOwnProperty("chart.legend.clickEnabled")?this.legendClickEnabled=y.normalizeBoolean(this.properties["chart.legend.clickEnabled"]):this.legendClickEnabled=y.normalizeBoolean(this.properties.enableLegendClick)),this.properties["legend.placement"]==="none"&&(this.hasLegend=!1);if(this.hasXAxis||this.hasYAxis)this.axisColorScheme={"axis.foregroundColorSoft":this.foregroundColorSoft,"axis.foregroundColorSofter":this.foregroundColorSofter,"axis.fontColor":this.fontColor};this.properties.hasOwnProperty("legend.masterLegend")&&(!this.properties["legend.masterLegend"]||e.trim(this.properties["legend.masterLegend"])==="null")&&(this.requiresExternalColors=!1),this.stackMode=this.properties["chart.stackMode"]||"default",this.legendLabels=y.stringToArray(this.properties["legend.labels"]||"[]"),this.showHideMode=this.properties["data.fieldListMode"]==="show_hide",this.fieldHideList=t.union(this.properties.fieldHideList||[],y.stringToArray(this.properties["data.fieldHideList"])||[]),this.fieldShowList=y.stringToArray(this.properties["data.fieldShowList"])||[];var n=this.properties["chart.seriesColors"]||this.properties.seriesColors;this.seriesColors=y.stringToHexArray(n)||null;var i=this.properties["chart.fieldColors"]||this.properties.fieldColors;this.internalFieldColors=y.stringToObject(i||"{}"),t(this.internalFieldColors).each(function(e,n){var r=parseInt(e,16);this.internalFieldColors[n]=t(r).isNaN()?0:r},this),this.overlayFields=v.stringToFieldList(this.properties["chart.overlayFields"]),this.seriesTypeMapping={},t(this.overlayFields).each(function(e){this.seriesTypeMapping[e]="line"},this),this.yAxisMapping={};var s=y.normalizeBoolean(this.properties["axisY2.enabled"]);if(s){var o=this.properties["axisY2.fields"]?v.stringToFieldList(this.properties["axisY2.fields"]):this.overlayFields;t(o).each(function(e){this.yAxisMapping[e]=1},this)}this.enableAnimation=y.normalizeBoolean(this.properties.enableAnimation,!1);var u=["x","y","xy","off"];t(u).indexOf(this.properties.zoomType)!==-1&&(this.zoomType=this.properties.zoomType)},firstRenderOverride:function(e){this.hcChart=e;var t=window.HighchartsAdapter,r=e.options,i=e.callback;if(!e.isReadyToRender())return;e.getContainer(),t.fireEvent(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),t.each(r.series||[],function(t){e.initSeries(t)}),e.linkSeries(),t.fireEvent(e,"beforeRender"),e.pointer=new n.Pointer(e,r),e.render(function(){e.renderer.draw(),i&&i.apply(e,[e]),t.each(e.callbacks,function(t){t.apply(e,[e])}),e.cloneRenderTo(!0),t.fireEvent(e,"load")})},renderOverride:function(e,t){var r=window.HighchartsAdapter,i=e.axes,s=e.renderer,o=e.options,u=o.labels,a=o.credits,f;e.setTitle(),e.legend=new n.Legend(e,o.legend),e.getStacks(),r.each(i,function(e){e.setScale()}),e.getMargins(),e.maxTicks=null,r.each(i,function(e){e.setTickPositions(!0),e.setMaxTicks()}),e.adjustTickAmounts(),e.getMargins(),e.drawChartBox(),e.hasCartesianSeries&&r.each(i,function(e){e.render()}),e.seriesGroup||(e.seriesGroup=s.g("series-group").attr({zIndex:3}).add()),this.pendingDraw=S.asyncEach(e.series,function(e){e.translate(),e.setTooltipPoints(),e.render()}),this.pendingDraw.done(function(){u.items&&r.each(u.items,function(t){var n=r.extend(u.style,t.style),i=r.pInt(n.left)+e.plotLeft,o=r.pInt(n.top)+e.plotTop+12;delete n.left,delete n.top,s.text(t.html,i,o).attr({zIndex:2}).css(n).add()}),a.enabled&&!e.credits&&(f=a.href,e.credits=s.text(a.text,0,0).on("click",function(){f&&(window.location.href=f)}).attr({align:a.position.align,zIndex:8}).css(a.style).add().align(a.position)),e.hasRendered=!0,t()})},initializeFields:function(){var n=this.dataSet.allDataFields();this.xFields=[n[0]];if(this.isRangeSeriesMode()){var r=this.getRangeSeriesConfig();n=t(n).without(r.lower,r.upper)}this.yFields=t(n).difference(this.xFields);var i=e.extend([],this.fieldShowList),s=e.extend([],this.fieldHideList),o=t.intersection(i,s);this.showHideMode?s=t.difference(s,o):i=t.difference(i,o),this.yFields=t.difference(this.yFields,s),i.length>0&&(this.yFields=t.intersection(this.yFields,i)),this.legendLabels.length>0&&(this.yFields=t.union(this.legendLabels,this.yFields))},isEmpty:function(){return!this.yFields||this.yFields.length===0},shouldProgressiveDraw:function(){if(this.isEmpty())return!1;var e=this.yFields.length*this.dataSet.getSeries(this.yFields[0]).length;return e>this.PROGRESSIVE_DRAW_THRESHOLD},shouldUpdateInPlace:function(){return this.hcChart&&!this.isDirty()},initializeColorPalette:function(){this.colorPalette=new i(this.seriesColors)},initializeSeriesList:function(){this.seriesList=t(this.initializeSeriesPropertiesList()).map(function(e){return d.create(e)})},updateSeriesProperties:function(){var e=this.initializeSeriesPropertiesList();this.seriesList.length>e.length?this.seriesList=t(this.seriesList).filter(function(t,n){return n>=e.length?(t.destroy(),!1):(t.update(e[n]),!0)},this):this.seriesList.length<=e.length&&(this.seriesList=t(e).map(function(e,t){if(t<this.seriesList.length)return this.seriesList[t].update(e),this.seriesList[t];var n=d.create(e);return this.bindIndividualSeries(n),n},this))},initializeSeriesPropertiesList:function(){if(this.isEmpty())return[{type:this.type}];var n,r=this.isRangeSeriesMode(),i=this.getDashStyle();return r&&(n=this.getRangeSeriesConfig().predicted),t(this.yFields).map(function(t){var s;n&&n===t?s="range":this.seriesTypeMapping.hasOwnProperty(t)&&(s=this.seriesTypeMapping[t]);var o=e.extend(!0,{},this.properties,{type:s||this.type,name:t,stacking:r?"default":this.stackMode,clickEnabled:this.chartClickEnabled,dashStyle:i});return s==="range"&&(o.names=this.getRangeSeriesConfig()),this.yAxisMapping[t]&&(o.yAxis=this.yAxisMapping[t]),o},this)},initializeXAxisList:function(){var n=this.isEmpty();this.xAxisList=t(this.xFields).map(function(r,i){var u=t(this.seriesList).any(function(e){return e.getXAxisIndex()===i&&{column:!0,bar:!0}.hasOwnProperty(e.getType())}),a=e.extend(y.getXAxisProperties(this.properties),this.axisColorScheme,{"axis.orientation":this.axesAreInverted?"vertical":"horizontal","axisLabels.tickmarkPlacement":u?"between":"on",isEmpty:n});return a["axisTitle.text"]||(a["axisTitle.text"]=r),this.seriesIsTimeBased(r)?(a["axis.spanData"]=this.dataSet.getSeriesAsFloats("_span"),a["axis.categories"]=this.dataSet.getSeriesAsTimestamps(r),new s(a)):(a["axis.categories"]=this.dataSet.getSeries(r),new o(a))},this)},initializeYAxisList:function(){var e=this,n=this.isEmpty();this.yAxisList=[];var r=t(this.seriesList).chain().invoke("getYAxisIndex").max().value();t(r+1).times(function(t){e._initializeYAxis(t,n)})},_initializeYAxis:function(e,n){var r=this.initializeYAxisProperties(e,n);if(!r["axisTitle.text"]){var i=t(this.seriesList).filter(function(t){return t.getYAxisIndex()===e});i.length===1&&(r["axisTitle.text"]=i[0].getName())}this.stackMode!=="default"&&(r["axis.scale"]="linear"),this.yAxisList.push(new u(r))},initializeYAxisProperties:function(t,n){var r=e.extend(y.getYAxisProperties(this.properties,t),this.axisColorScheme,{"axis.orientation":this.axesAreInverted?"horizontal":"vertical",isEmpty:n});return r},updateAxisProperties:function(){if(this.hasXAxis){var e=this.xAxisList[0],t=this.xFields[0];e.constructor===o?e.setCategories(this.dataSet.getSeries(t)):e.constructor===s&&e.setCategories(this.dataSet.getSeriesAsTimestamps(t),this.dataSet.getSeriesAsFloats("_span"))}},initializeLegend:function(){var n=y.getLegendProperties(this.properties);t(n.clickEnabled).isUndefined()&&(n.clickEnabled=this.legendClickEnabled),e.extend(n,{fontColor:this.fontColor}),this.legend=new a(n);var r=this,i={highlightDelay:125,unhighlightDelay:50,onMouseOver:function(e){r.handleLegendMouseOver(e)},onMouseOut:function(e){r.handleLegendMouseOut(e)}},s=new p(i);this.legend.on("mouseover",function(e,t){s.mouseOverHappened(t)}),this.legend.on("mouseout",function(e,t){s.mouseOutHappened(t)}),this.legend.on("click",function(e,t){r.handleLegendClick(e,t)})},initializeTooltip:function(){var e={borderColor:this.foregroundColorSoft};this.tooltip=new f(e)},setAllSeriesData:function(){t(this.seriesList).each(function(e){e.getType()==="range"?this.setRangeSeriesData(e):this.setBasicSeriesData(e)},this)},setBasicSeriesData:function(e){var t=this.getSeriesXInfo(e),n=this.getSeriesYInfo(e);if(t.axis instanceof u)e.setData({x:this.formatAxisData(t.axis,t.fieldName),y:this.formatAxisData(n.axis,n.fieldName)});else if(t.axis instanceof s){var r=t.axis.getCategories(),i=this.formatAxisData(n.axis,n.fieldName);e.setData({y:i.slice(0,r.length)})}else e.setData({y:this.formatAxisData(n.axis,n.fieldName)})},setRangeSeriesData:function(e){var t=this.getSeriesXInfo(e),n=this.getSeriesYInfo(e),r=this.getRangeSeriesConfig(),i={predicted:this.formatAxisData(n.axis,r.predicted),lower:this.formatAxisData(n.axis,r.lower),upper:this.formatAxisData(n.axis,r.upper)};t.axis instanceof u&&(i.x=this.formatAxisData(t.axis,t.fieldName)),e.setData(i)},bindSeriesEvents:function(){var e=this;this.throttle=new p({highlightDelay:125,unhighlightDelay:50,onMouseOver:function(t,n){e.handlePointMouseOver(t,n)},onMouseOut:function(t,n){e.handlePointMouseOut(t,n)}}),t(this.seriesList).each(this.bindIndividualSeries,this)},bindIndividualSeries:function(e){var t=this;e.on("mouseover",function(e,n,r){t.throttle.mouseOverHappened(n,r)}),e.on("mouseout",function(e,n,r){t.throttle.mouseOutHappened(n,r)}),e.on("click",function(e,n,r){t.handlePointClick(e,n,r)})},handlePointClick:function(e,n,r){var i={},s=n.index,o=this.getSeriesPointInfo(r,n.index),u={type:"pointClick",modifierKey:e.modifierKey,name:o.xAxisName,name2:o.yAxisName,value2:o.yValue};if(o.xAxisIsTime){var a=this.dataSet.getSeries(o.xAxisName)[s];u.value=v.getEpochTimeFromISO(a),u._span=this.dataSet.getSeriesAsFloats("_span")[s],i["row."+o.xAxisName]=u.value}else u.value=o.xValue,i["row."+o.xAxisName]=o.xValue;t(this.yFields).each(function(e){i["row."+e]=this.dataSet.getSeries(e)[s]},this),u.rowContext=i,this.trigger(u)},handlePointMouseOver:function(e,n){t(this.seriesList).each(function(t){t.matchesName(n.getName())?t.handlePointMouseOver(e):t.unHighlight()}),this.legend&&this.legend.selectField(n.getLegendKey())},handlePointMouseOut:function(e,n){t(this.seriesList).each(function(t){t.matchesName(n.getName())?t.handlePointMouseOut(e):t.highlight()}),this.legend&&this.legend.unSelectField(n.getLegendKey())},handleLegendClick:function(e,t){var n={type:"legendClick",modifierKey:e.modifierKey,name2:t};this.trigger(n)},handleLegendMouseOver:function(e){t(this.seriesList).each(function(t){t.matchesName(e)?t.handleLegendMouseOver(e):t.unHighlight()})},handleLegendMouseOut:function(e){t(this.seriesList).each(function(t){t.matchesName(e)?t.handleLegendMouseOut(e):t.highlight()})},applyColorPalette:function(){if(this.isEmpty())return;var e={};t(this.getFieldList()).each(function(t,n,r){e[t]=this.computeFieldColor(t,n,r)},this),t(this.seriesList).invoke("applyColorMapping",e)},getConfig:function(){var n=e.extend(!0,{chart:{animation:this.enableAnimation},plotOptions:{series:{animation:this.enableAnimation}},tooltip:{animation:this.enableAnimation}},this.BASE_CONFIG,{chart:this.getChartConfig(),series:this.getSeriesConfigList(),xAxis:this.getXAxisConfig(),yAxis:this.getYAxisConfig(),legend:this.getLegendConfig(),tooltip:this.getTooltipConfig(),plotOptions:this.getPlotOptionsConfig(),pointerDragStartPreHook:t(this.pointerDragStartPreHook).bind(this),pointerDragOverride:t(this.pointerDragOverride).bind(this),pointerDropPreHook:t(this.pointerDropPreHook).bind(this),pointerDropPostHook:t(this.pointerDropPostHook).bind(this),pointerPinchOverride:t(this.pointerPinchOverride).bind(this)}),r=this;return this.exportMode&&(this.seriesIsTimeBased(this.xFields)&&t(n.xAxis).each(function(e){var t;if(r.axesAreInverted)t=-50;else{var n=r.dataSet.getSeriesAsFloats("_span"),i=n&&n.length>0?parseInt(n[0],10):1,s=86400,o=s*365;i>=o?t=15:i>=s?t=25:t=35}e.title.margin=t}),e.extend(!0,n,{plotOptions:{series:{enableMouseTracking:!1,shadow:!1}}})),n},getSeriesConfigList:function(){return t(this.seriesList).chain().invoke("getConfig").flatten(!0).value()},getXAxisConfig:function(){return this.hasXAxis?t(this.xAxisList).map(function(e,t){var n=e.getConfig();return t>0&&(n.offset=40),n},this):[]},getYAxisConfig:function(){return this.hasYAxis?t(this.yAxisList).map(function(e,t){var n=e.getConfig();return t%2!==0&&(n.opposite=!0),n}):[]},getLegendConfig:function(){return!this.hasLegend||!this.legend?{}:this.legend.getConfig()},getTooltipConfig:function(){return this.tooltip?e.extend(this.tooltip.getConfig(),{formatter:function(){return!1}}):{}},formatTooltip:function(e,t){var n=this.getSeriesPointInfo(e,t.index);return e.getTooltipHtml(n,this.hcChart)},getChartConfig:function(){var e={type:this.type,renderTo:this.container,backgroundColor:this.backgroundColor,borderColor:this.backgroundColor};return this.exportMode&&(e.width=this.width||this.EXPORT_WIDTH,e.height=this.height||this.EXPORT_HEIGHT),this.isZoomable()&&this.zoomType!=="off"&&(e.zoomType=this.zoomType||"x"),e},getPlotOptionsConfig:function(){var t=this.stackMode!=="default"&&!this.isRangeSeriesMode();return e.extend(!0,{},this.BASE_PLOT_OPTIONS_CONFIG,{series:{cursor:this.chartClickEnabled?"pointer":"default"},area:{trackByArea:t}})},isZoomable:function(){return this.type==="area"||this.type==="line"||this.type==="column"},addEventHandlers:function(n){var r=this,i=e(n);E.jQueryOn.call(i,"redraw",function(){r.onChartRedraw(n),r.onChartLoadOrRedraw(n)}),this.hasXAxis&&E.jQueryOn.call(i,"selection",t(this.onChartSelection).bind(this)),E.jQueryOn.call(i,"tooltipRefresh",function(){if(r.hcChart.hoverPoint){var e=r.hcChart.hoverPoint.series.index;if(r.hcChart.series[e].splSeries.type==="column")r.hcChart.series[e].splSeries.unHighlight(),r.hcChart.series[e].splSeries.highlight();else if(r.hcChart.series[e].splSeries.type==="line"||r.hcChart.series[e].splSeries.type==="area")r.hcChart.hoverPoint.setState(),r.hcChart.hoverPoint.setState("hover")}}),E.jQueryOn.call(i,"endResize",function(){r.onChartResize(n)})},enableTooltip:function(e){var t=this;e.tooltip.options.formatter=function(){var e=this.series.splSeries;return t.formatTooltip(e,this.point)}},onChartLoad:function(e){this.legend&&this.legend.onChartLoad(e),t(this.xAxisList).invoke("onChartLoad",e),t(this.yAxisList).invoke("onChartLoad",e),t(this.seriesList).invoke("onChartLoad",e),this.isZoomable()&&this.triggerRangeSelectionEvent()},onChartRedraw:function(e){var t=this;if(this.selectionWindow)this.selectionWindow.onChartRedraw(e);else if(this.isZoomable()&&!this.isiOS){var n=this.xAxisList[0];n&&n.isZoomed?(this.resetZoomButton||(this.resetZoomButton=new h(this.hcChart)),this.panButtons?this.panButtons.onChartRedraw(e):(this.panButtons=new c(this.hcChart),this.panButtons.on("pan",function(e,n,r){t.triggerRangeSelectionEvent()}))):(this.resetZoomButton&&(this.resetZoomButton.destroy(),this.resetZoomButton=null),this.panButtons&&(this.panButtons.destroy(),this.panButtons=null))}this.isZoomable()&&!this.selectionTriggeredBeforeRedraw&&this.triggerRangeSelectionEvent(),this.selectionTriggeredBeforeRedraw=!1},onChartLoadOrRedraw:function(e){this.legend&&this.legend.onChartLoadOrRedraw(e),t(this.xAxisList).invoke("onChartLoadOrRedraw",e),t(this.yAxisList).invoke("onChartLoadOrRedraw",e),t(this.seriesList).invoke("onChartLoadOrRedraw",e)},onChartDestroy:function(){e(n).off("baseUriChange."+this.id),this.legend&&this.legend.destroy(),t(this.xAxisList).invoke("destroy"),t(this.yAxisList).invoke("destroy"),t(this.seriesList).invoke("destroy"),this.selectionWindow&&this.selectionWindow.destroy(),this.panButtons&&(this.panButtons.destroy(),this.panButtons=undefined)},onChartSelection:function(e){var t=this.xAxisList[0];if(!e.resetSelection){var n=e.xAxis[0],r;this.isiOS&&this.hcChart.pointer.selectionMarker.width===this.hcChart.plotWidth&&(n.min+=.5,n.max-=.5),r=this.getNormalizedAxisExtremes(n.min,n.max),n.min=r.min,n.max=r.max+(t.hasTickmarksBetween()?0:1);var i=this.triggerRangeSelectionEvent(r);if(i.isDefaultPrevented()){e.preventDefault(),this.hasPendingRangeResetEvent=!1;if(t.getZoomed(n.min,n.max)){this.selectionWindow=new l(this.hcChart);var s=this;this.selectionWindow.on("rangeSelect",function(e,t,n){s.triggerRangeSelectionEvent()})}}else this.selectionTriggeredBeforeRedraw=!0}},onChartResize:function(e){this.panButtons&&this.panButtons.onChartResize(e)},getNormalizedAxisExtremes:function(e,t){var n=this.xAxisList[0],r=this.hcChart.xAxis[0],i=r.dataMax,s=r.dataMin,o=this,u=function(e,r){return e>i&&(e=i),e<s&&(e=s),n.hasTickmarksBetween()||o.isiOS&&t+.5===i?Math.round(e):Math.floor(e)};return{min:u(e,"min"),max:u(t,"max")}},calculatePostUpdateExtremes:function(e){var n=this.xAxisList[0],r=n.getCategories();if(n instanceof s){var i=n.getPreviousCategories(),o=t(r).indexOf(i[e.min]),u=parseInt(v.getEpochTimeFromISO(i[e.max]),10)+n.getPreviousSpanData()[e.max],a=n.getSpanData(),f=t(r).map(function(e,t){return parseInt(v.getEpochTimeFromISO(e),10)+a[t]}),l=t(f).indexOf(u);return{min:o>-1?o:null,max:l>-1?l:null}}return r.length>e.max?e:{min:null,max:null}},triggerRangeSelectionEvent:function(n){var r=this.xAxisList[0],i=!n&&!this.selectionWindow&&!r.isZoomed;n||(this.selectionWindow?(n=this.selectionWindow.getExtremes(),n.min+=r.hasTickmarksBetween()?1:0):(n=this.hcChart.xAxis[0].getExtremes(),n.max-=r.hasTickmarksBetween()?0:1)),n=this.getNormalizedAxisExtremes(n.min,n.max);var o=r instanceof s,u=o?this.dataSet.getSeriesAsTimestamps(this.xFields[0]):this.dataSet.getSeries(this.xFields[0]),a=u[n.min],f=u[n.max];if(o){var l=1;if(this.dataSet.hasField("_span")){var c=this.dataSet.getSeriesAsFloats("_span");l=c.length>n.max?c[n.max]:t(c).last()}a=parseInt(v.getEpochTimeFromISO(a),10),f=parseInt(v.getEpochTimeFromISO(f),10)+l}var h=e.Event("chartRangeSelect",{startXIndex:n.min,endXIndex:n.max,startXValue:a,endXValue:f,isReset:!!i});return this.trigger(h),h},pointerDragStartPreHook:function(e,t){if(this.selectionWindow){var n=this.selectionWindow.handleDragStartEvent(t);n||(this.selectionWindow.destroy(),this.selectionWindow=null,this.hasPendingRangeResetEvent=!0)}},pointerPinchOverride:function(e,n,r){this.selectionWindow?n.type==="touchstart"?(e.dragStart(n),this.selectionWindow||t.each(n.touches,function(t,n){e.pinchDown[n]={chartX:t.chartX||t.pageX,chartY:t.chartY||t.pageY}})):n.type==="touchmove"?(e.normalize(n).chartX,this.selectionWindow.handleDragEvent(n)):n.type==="touchend"&&this.selectionWindow.handleDropEvent(n):r.call(e,n)},pointerDragOverride:function(e,t,n){this.selectionWindow?this.selectionWindow.handleDragEvent(t):(n.call(e,t),this.hcChart.pointer.selectionMarker&&this.hcChart.pointer.selectionMarker.attr({"stroke-width":2,stroke:this.foregroundColorSofter}))},pointerDropPreHook:function(e,t){this.selectionWindow&&this.selectionWindow.handleDropEvent(t)},pointerDropPostHook:function(e,t){this.hasPendingRangeResetEvent&&(this.triggerRangeSelectionEvent(),this.hasPendingRangeResetEvent=!1)},getSeriesXInfo:function(e){var t=e.getXAxisIndex();return{axis:this.xAxisList[t],fieldName:this.xFields[t]}},getSeriesYInfo:function(e){return{axis:this.yAxisList[e.getYAxisIndex()],fieldName:e.getName()}},getSeriesPointInfo:function(e,t){var n=this.getSeriesXInfo(e),r=this.getSeriesYInfo(e),i=this.dataSet.getSeries(n.fieldName),o=this.dataSet.getSeries(r.fieldName);return{xAxisIsTime:n.axis instanceof s,xAxisName:n.fieldName,xValue:i[t],xValueDisplay:n.axis.formatValue(i[t]),yAxisName:r.fieldName,yValue:o[t],yValueDisplay:r.axis.formatValue(o[t])}},getDashStyle:function(){var e=this.properties.lineDashStyle;if(e)return e.charAt(0).toUpperCase()+e.slice(1)},isRangeSeriesMode:function(){return this.dataSet.hasField("_predicted")&&this.dataSet.hasField("_lower")&&this.dataSet.hasField("_upper")},getRangeSeriesConfig:function(){var e=t(this.dataSet.getSeries("_predicted")).find(function(e){return!!e}),n=t(this.dataSet.getSeries("_lower")).find(function(e){return!!e}),r=t(this.dataSet.getSeries("_upper")).find(function(e){return!!e});return{predicted:e,lower:n,upper:r}},seriesIsTimeBased:function(e){return/^_time/.test(e)&&(this.dataSet.getSeries(e).length<=1||this.dataSet.hasField("_span"))},formatAxisData:function(e,t){return this.dataSet.hasField(t)?this.dataSet.getSeriesAsFloats(t,{scale:e.isLogScale()?"log":"linear",nullValueMode:this.properties["chart.nullValueMode"]}):[]},computeFieldColor:function(e,n,r){if(this.internalFieldColors.hasOwnProperty(e))return b.colorFromHex(this.internalFieldColors[e]);var i=!t(this.externalPaletteMapping).isEmpty(),s=i?this.externalPaletteMapping[e]:n,o=i?this.externalPaletteSize:r.length;return this.colorPalette.getColorAsRgb(e,s,o)},BASE_CONFIG:{chart:{showAxes:!0,reflow:!1,selectionMarkerFill:"rgba(0,0,0,0)"},credits:{enabled:!1},legend:{enabled:!1},plotOptions:{series:{states:{hover:{enabled:!1}},events:{legendItemClick:function(){return!1}},borderWidth:0,shadow:!1,turboThreshold:0}},title:{text:null},tooltip:{enabled:!1,useHTML:!0}},BASE_PLOT_OPTIONS_CONFIG:{line:{stickyTracking:!0,states:{hover:{marker:{enabled:!0,radius:6}}},marker:{enabled:!1,symbol:"square"}},area:{stickyTracking:!0,lineWidth:1,states:{hover:{marker:{enabled:!0,radius:6}}},marker:{symbol:"square",enabled:!1}},column:{markers:{enabled:!1},stickyTracking:!1,fillOpacity:1,trackByArea:!0},bar:{markers:{enabled:!1},stickyTracking:!1,fillOpacity:1,trackByArea:!0}}}),N}),define("js_charting/visualizations/charts/SplitSeriesChart",["jquery","underscore","./Chart","../../util/lang_utils","../../util/parsing_utils"],function(e,t,n,r,i){var s=function(e,t){n.call(this,e,t)};return r.inherit(s,n),e.extend(s.prototype,{interAxisSpacing:10,shouldUpdateInPlace:function(){return!1},initializeSeriesPropertiesList:function(){var e=n.prototype.initializeSeriesPropertiesList.call(this);return t(e).each(function(e,t){e.yAxis=t}),e},initializeYAxisProperties:function(t,n){var r=e.extend(i.getYAxisProperties(this.properties,0),this.axisColorScheme,{"axis.orientation":this.axesAreInverted?"horizontal":"vertical",isEmpty:n});return r},setAllSeriesData:function(){n.prototype.setAllSeriesData.call(this),this.globalMin=Infinity,this.globalMax=-Infinity,t(this.yFields).each(function(e,t){var n=this.yAxisList[t],r=this.formatAxisData(n,e);this.globalMin=Math.min(this.globalMin,Math.min.apply(Math,r)),this.globalMax=Math.max(this.globalMax,Math.max.apply(Math,r))},this)},getYAxisConfig:function(){var r=n.prototype.getYAxisConfig.call(this);return t(r).each(function(n,r){e.extend(n,{opposite:!1,offset:0,setSizePreHook:t(function(t){e.extend(t.options,this.getAdjustedAxisPosition(t,r,this.yAxisList.length))}).bind(this)});var i=n.getSeriesExtremesPostHook;n.getSeriesExtremesPostHook=t(function(e){e.dataMax=Math.max(e.dataMax,this.globalMax),e.dataMin=Math.min(e.dataMin,this.globalMin),i&&i(e)}).bind(this)},this),r},getSeriesConfigList:function(){var e=n.prototype.getSeriesConfigList.call(this);return t(e).each(function(e){e.stacking="normal",e.afterAnimatePostHook=t(this.updateSeriesClipRect).bind(this),e.renderPostHook=t(this.updateSeriesClipRect).bind(this),e.destroyPreHook=t(this.destroySplitSeriesClipRect).bind(this),e.plotGroupPostHook=t(this.translateSeriesGroup).bind(this)},this),e},getAdjustedAxisPosition:function(e,t,n){var r=e.chart;if(r.inverted){var i=r.plotWidth,s=(i-this.interAxisSpacing*(n-1))/n;return{left:r.plotLeft+(s+this.interAxisSpacing)*t,width:s}}var o=r.plotHeight,u=(o-this.interAxisSpacing*(n-1))/n;return{top:r.plotTop+(u+this.interAxisSpacing)*t,height:u}},getTooltipConfig:function(){var e=n.prototype.getTooltipConfig.call(this),t=this;return e.getAnchorPostHook=function(e,n,r){return t.axesAreInverted&&(r[0]=e.series.yAxis.left+(e.pointWidth||0)),r},e},updateSeriesClipRect:function(e){var t=e.chart,n=e.yAxis;this.destroySplitSeriesClipRect(e),t.inverted?e.splitSeriesClipRect=t.renderer.clipRect(0,0,t.plotHeight,n.width):e.splitSeriesClipRect=t.renderer.clipRect(0,0,t.plotWidth,n.height),e.group.clip(e.splitSeriesClipRect)},destroySplitSeriesClipRect:function(e){e.hasOwnProperty("splitSeriesClipRect")&&e.splitSeriesClipRect.destroy()},translateSeriesGroup:function(e,t){e.chart.inverted&&t.translate(e.yAxis.left,0)}}),s}),define("js_charting/components/DataLabels",["jquery","underscore","../helpers/EventMixin","../helpers/Formatter","../helpers/HoverEventThrottler","../util/dom_utils"],function(e,t,n,r,i,s){var o=function(e){this.properties=e||{},this.id=t.uniqueId("data_labels_")};return o.prototype=e.extend({},n,{HIGHLIGHTED_OPACITY:1,UNHIGHLIGHTED_OPACITY:.3,getConfig:function(){return{color:this.properties.fontColor||"#000000",connectorColor:this.properties.foregroundColorSoft,softConnector:!1,distance:20,style:{cursor:this.properties.clickEnabled?"pointer":"default"},x:.01,drawDataLabelsPreHook:t(this.drawDataLabelsPreHook).bind(this),drawDataLabelsPostHook:t(this.drawDataLabelsPostHook).bind(this)}},onChartLoad:function(){},onChartLoadOrRedraw:function(e){this.hcSeries=e.series[0],this.removeEventHandlers(),this.addEventHandlers()},addEventHandlers:function(){var n=this,r={highlightDelay:125,unhighlightDelay:50,onMouseOver:function(e){n.selectLabel(e),n.trigger("mouseover",[e])},onMouseOut:function(e){n.unSelectLabel(e),n.trigger("mouseout",[e])}},o=new i(r);t(this.hcSeries.data).each(function(t){var r=t.dataLabel.element;s.jQueryOn.call(e(r),"mouseover."+this.id,function(){o.mouseOverHappened(t)}),s.jQueryOn.call(e(r),"mouseout."+this.id,function(){o.mouseOutHappened(t)}),s.jQueryOn.call(e(r),"click."+this.id,function(){n.trigger("click",[t])})},this)},removeEventHandlers:function(){t(this.hcSeries.data).each(function(t){var n=t.dataLabel.element;s.jQueryOff.call(e(n),"."+this.id)},this)},destroy:function(){this.off(),this.removeEventHandlers(),this.hcSeries=null},selectLabel:function(e){var n=this.hcSeries.data[e.index];n.dataLabel.attr("fill-opacity",this.HIGHLIGHTED_OPACITY),t(this.hcSeries.data).chain().without(n).each(function(e){e.dataLabel.attr("fill-opacity",this.UNHIGHLIGHTED_OPACITY)},this)},unSelectLabel:function(e){var n=this.hcSeries.data[e.index];t(this.hcSeries.data).chain().without(n).each(function(e){e.dataLabel.attr("fill-opacity",this.HIGHLIGHTED_OPACITY)},this)},drawDataLabelsPreHook:function(e){var t=e.chart,n=e.options.dataLabels.distance,r=e.center,i=r[2]/2;e.getX=function(e,s){return t.plotLeft+r[0]+(s?-i-n:i+n/2)},this.fitLabelsToPlotArea(e)},fitLabelsToPlotArea:function(t){var n,i,s=t.options,o=s.dataLabels.distance,u=s.size,a=t.chart,f=a.renderer,l=new r(f),c=11,h=9,p=(a.plotWidth-(u+2*o))/2,d=[];for(n=0;n<t.data.length;n++)d.push(t.options.data[n][0]);i=l.adjustLabels(d,p,h,c,"middle");for(n=0;n<t.data.length;n++)t.data[n].name=i.labels[n],t.data[n].dataLabel&&t.data[n].dataLabel.css&&t.data[n].dataLabel.css({fontSize:i.fontSize+"px"});e.extend(!0,s.dataLabels,{style:{fontSize:i.fontSize+"px"},y:Math.floor(i.fontSize/4)-3}),l.destroy()},drawDataLabelsPostHook:function(e){t(e.points).each(function(e){if(e.connector){var t=e.connector.attr("d").split(" ");e.connector.attr({d:this.updateConnectorPath(t)})}},this)},updateConnectorPath:function(e){var n={x:parseFloat(e[1]),y:parseFloat(e[2])},r={x:parseFloat(e[4]),y:parseFloat(e[5])},i={x:parseFloat(e[7]),y:parseFloat(e[8])},s=(i.y-r.y)/(i.x-r.x),o={x:i.x+(n.y-i.y)/s,y:n.y},u=!t.isFinite(s),a=isNaN(o.x)||n.x>=o.x&&o.x<=i.x||n.x<=o.x&&o.x>=i.x,f=!u&&a?["M",n.x,n.y,"L",i.x,i.y]:["M",n.x,n.y,"L",o.x,o.y,"L",i.x,i.y];return f}}),o}),define("js_charting/visualizations/charts/PieChart",["jquery","underscore","highcharts","splunk.i18n","./Chart","splunk.util","../../components/DataLabels","../../helpers/HoverEventThrottler","../../series/series_factory","../../util/lang_utils","../../util/parsing_utils"],function(e,t,n,r,i,s,o,u,a,f,l){var c=function(e,t){i.call(this,e,t)};return f.inherit(c,i),e.extend(c.prototype,{hasLegend:!1,hasXAxis:!1,hasYAxis:!1,shouldUpdateInPlace:function(){return!1},processProperties:function(){i.prototype.processProperties.call(this),this.showLabels=this.isEmpty()?!1:l.normalizeBoolean(this.properties["chart.showLabels"],!0)},prepare:function(e,t){i.prototype.prepare.call(this,e,t),this.showLabels&&this.initializeDataLabels()},handleDraw:function(e){this.destroyCustomRenderer();if(this.isEmpty()){this.benchmark("Draw Started"),this.drawEmptyPieChart(),this.benchmark("Draw Finished"),e(this,this.benchmarks);return}i.prototype.handleDraw.call(this,e)},initializeFields:function(){var e=this.dataSet.allDataFields();this.sliceNameField=e[0],this.sliceSizeField=e[1]},isEmpty:function(){return!this.dataSet||this.dataSet.allDataFields().length<2},shouldProgressiveDraw:function(){return!1},initializeSeriesPropertiesList:function(){var t=e.extend({},this.properties,{name:this.sliceSizeField,type:"pie",clickEnabled:this.chartClickEnabled});return[t]},setAllSeriesData:function(){var e=this.seriesIsTimeBased(this.sliceNameField),t;e&&(t=this.dataSet.getSeriesAsFloats("_span")),this.seriesList[0].setData({names:this.dataSet.getSeries(this.sliceNameField),sizes:this.dataSet.getSeriesAsFloats(this.sliceSizeField,{nullValueMode:"zero"}),spans:t,isTimeBased:e})},handlePointMouseOver:function(e){this.seriesList[0].handlePointMouseOver(e),this.dataLabels&&this.dataLabels.selectLabel(e)},handlePointMouseOut:function(e){this.seriesList[0].handlePointMouseOut(e),this.dataLabels&&this.dataLabels.unSelectLabel(e)},handlePointClick:function(e,t){var n=t.index,r=this.seriesList[0].getData()[n],i=r[0],o=r[1].toString(),u=new RegExp("^"+this.seriesList[0].collapseFieldName),a={},f={type:"pointClick",modifierKey:e.modifierKey,name:this.sliceNameField,name2:this.sliceSizeField,value2:o,rowContext:a};if(this.seriesIsTimeBased(this.sliceNameField)&&!u.test(r[0])){var l=r[0];f.value=s.getEpochTimeFromISO(l),f._span=r[2],a["row."+this.sliceNameField]=f.value}else f.value=i,a["row."+this.sliceNameField]=i;a["row."+this.sliceSizeField]=o,this.trigger(f)},initializeDataLabels:function(){var e={fontColor:this.fontColor,foregroundColorSoft:this.foregroundColorSoft,clickEnabled:l.normalizeBoolean(this.properties["chart.clickEnabled"])||l.normalizeBoolean(this.properties.enableChartClick)};this.dataLabels=new o(e);var t=this,n={highlightDelay:75,unhighlightDelay:50,onMouseOver:function(e){t.seriesList[0].selectPoint(e)},onMouseOut:function(e){t.seriesList[0].unSelectPoint(e)}},r=new u(n);this.dataLabels.on("mouseover",function(e,t){r.mouseOverHappened(t)}),this.dataLabels.on("mouseout",function(e,t){r.mouseOutHappened(t)})},getPlotOptionsConfig:function(){var t=this;return{pie:{dataLabels:e.extend(this.getDataLabelConfig(),{formatter:function(){var e=this;return l.escapeSVG(t.formatDataLabel(e))}}),borderWidth:0,stickyTracking:!1,cursor:this.chartClickEnabled?"pointer":"default",states:{hover:{brightness:0}},tooltip:{followPointer:!1}}}},getDataLabelConfig:function(){return this.showLabels?this.dataLabels.getConfig():{enabled:!1}},applyColorPalette:function(){this.BASE_CONFIG=e.extend({},this.BASE_CONFIG,{colors:t(this.getFieldList()).map(this.computeFieldColor,this)})},formatDataLabel:function(e){return e.point.name},formatTooltip:function(e,t){var n=t.index,i=e.hasPrettyData?e.getPrettyData()[n]:e.getData()[n],s=i[0],o=i[1];return e.getTooltipHtml({sliceFieldName:this.sliceNameField,sliceName:s,sliceColor:t.color,yValue:r.format_decimal(o),yPercent:r.format_percent(t.percentage/100)},this.hcChart)},drawEmptyPieChart:function(){var e=this.$container.width(),r=this.$container.height(),i=Math.min(r*.75,e/3)/2;this.renderer=new n.Renderer(this.container,e,r),this.renderer.circle(e/2,r/2,i).attr({fill:"rgba(150, 150, 150, 0.3)",stroke:"rgb(200, 200, 200)","stroke-width":1}).add(),this.renderer.text(t("No Results").t(),e/2,r/2).attr({align:"center"}).css({fontSize:"20px",color:"rgb(200, 200, 200)"}).add()},setSize:function(e,t){this.isEmpty()?(this.destroyCustomRenderer(),this.drawEmptyPieChart()):i.prototype.setSize.call(this,e,t)},destroy:function(){this.destroyCustomRenderer(),i.prototype.destroy.call(this)},destroyCustomRenderer:function(){this.renderer&&(this.renderer.destroy(),this.renderer=null,this.$container.empty())},onChartLoad:function(e){i.prototype.onChartLoad.call(this,e),this.dataLabels&&this.dataLabels.onChartLoad(e)},onChartLoadOrRedraw:function(e){i.prototype.onChartLoadOrRedraw.call(this,e),this.dataLabels&&this.dataLabels.onChartLoadOrRedraw(e)},onChartDestroy:function(){i.prototype.onChartDestroy.call(this),this.dataLabels&&this.dataLabels.destroy()}}),c}),define("js_charting/visualizations/charts/ScatterChart",["jquery","underscore","./Chart","../../series/series_factory","../../components/axes/NumericAxis","../../util/lang_utils","../../util/parsing_utils"],function(e,t,n,r,i,s,o){var u=function(e,t){n.call(this,e,t)};return s.inherit(u,n),e.extend(u.prototype,{initializeFields:function(){n.prototype.initializeFields.call(this);var e=this.dataSet.allDataFields();this.dataSet.fieldIsGroupby(e[0])&&(this.markField=e[0],e=e.slice(1)),e.length>2?(this.isMultiSeries=!0,this.labelField=e[0],this.xField=e[1],this.yField=e[2],this.hasLegend=this.properties["legend.placement"]!=="none"):(this.isMultiSeries=!1,this.xField=e[0],this.yField=e[1],this.hasLegend=!1)},isEmpty:function(){return!this.dataSet||this.dataSet.length<2},initializeSeriesPropertiesList:function(){var e;if(this.isMultiSeries)e=t(this.dataSet.getSeries(this.labelField)).chain().uniq().compact().map(function(e){return{name:e,type:"scatter",clickEnabled:this.chartClickEnabled}},this).value();else{var n={name:t.uniqueId("scatter_field_"),type:"scatter",clickEnabled:this.chartClickEnabled};e=[n]}return e},initializeXAxisList:function(){var t=e.extend(o.getXAxisProperties(this.properties),this.axisColorScheme,{"axis.orientation":"horizontal",isEmpty:this.isEmpty()});t["axisTitle.text"]||(t["axisTitle.text"]=this.xField),t["gridLines.showMajorLines"]=!1,this.xAxisList=[new i(t)]},initializeYAxisList:function(){var t=e.extend(o.getYAxisProperties(this.properties),this.axisColorScheme,{"axis.orientation":"vertical",isEmpty:this.isEmpty()});t["axisTitle.text"]||(t["axisTitle.text"]=this.yField),this.yAxisList=[new i(t)]},setAllSeriesData:function(){var e=this.formatAxisData(this.xAxisList[0],this.xField),n=this.formatAxisData(this.yAxisList[0],this.yField);this.isMultiSeries?t(this.seriesList).each(function(t){var r=t.getName();t.setData({x:this.filterDataByNameMatch(e,r),y:this.filterDataByNameMatch(n,r)})},this):this.seriesList[0].setData({x:e,y:n})},getPlotOptionsConfig:function(){var e=parseInt(this.properties["chart.markerSize"],10);return{scatter:{stickyTracking:!1,fillOpacity:1,trackByArea:!0,marker:{radius:e?Math.ceil(e*6/4):6,symbol:"square"},tooltip:{followPointer:!1},cursor:this.chartClickEnabled?"pointer":"default"}}},handlePointClick:function(e,t,n){var r=t.index,i=n.getName(),s=this.dataSet.getSeries(this.xField),o=this.dataSet.getSeries(this.yField),u=this.isMultiSeries?this.filterDataByNameMatch(s,i)[r]:s[r],a=this.isMultiSeries?this.filterDataByNameMatch(o,i)[r]:o[r],f={},l={type:"pointClick",modifierKey:e.modifierKey,name:this.isMultiSeries?this.labelField:this.xField,value:this.isMultiSeries?i:u,name2:this.isMultiSeries?this.xField:this.yField,value2:this.isMultiSeries?u:a,rowContext:f};f["row."+this.xField]=u,f["row."+this.yField]=a,this.isMultiSeries&&(f["row."+this.labelField]=i);if(this.markField){var c=this.dataSet.getSeries(this.markField),h=this.isMultiSeries?this.filterDataByNameMatch(c,i)[r]:c[r];f["row."+this.markField]=h}this.trigger(l)},handleLegendClick:function(e,t){var n={},r={type:"legendClick",modifierKey:e.modifierKey,name:this.labelField,value:t,rowContext:n};n["row."+this.labelField]=t,this.trigger(r)},formatTooltip:function(t,n){var r=n.index,i=this.xAxisList[0],s=this.yAxisList[0],o=t.getName(),u=this.dataSet.getSeries(this.xField),a=this.dataSet.getSeries(this.yField),f=this.isMultiSeries?this.filterDataByNameMatch(u,o)[r]:u[r],l=this.isMultiSeries?this.filterDataByNameMatch(a,o)[r]:a[r],c={isMultiSeries:this.isMultiSeries,xAxisName:this.xField,xValue:i.formatValue(f),yAxisName:this.yField,yValue:s.formatValue(l),markName:null,markValue:null};if(this.markField){var h=this.dataSet.getSeries(this.markField),p=this.isMultiSeries?this.filterMarkByNameMatch(o)[r]:h[r];e.extend(c,{markName:this.markField,markValue:p})}return this.isMultiSeries&&e.extend(c,{labelSeriesName:this.labelField}),t.getTooltipHtml(c,this.hcChart)},filterDataByNameMatch:function(e,n){var r=this.dataSet.getSeries(this.labelField);return t(e).filter(function(e,t){return r[t]===n})},filterMarkByNameMatch:function(e){var n=this.dataSet.getSeries(this.labelField),r=this.dataSet.getSeries(this.markField);return t(r).filter(function(t,r){return n[r]===e})}}),u}),define("js_charting/visualizations/gauges/Gauge",["jquery","underscore","highcharts","../Visualization","../../helpers/Formatter","../../components/ColorPalette","../../util/lang_utils","../../util/parsing_utils","../../util/testing_utils","../../util/math_utils","../../util/dom_utils","../../util/color_utils","splunk.i18n"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){var p=function(t,n){r.call(this,t,n),this.$hcContainer=e("<div />").addClass("highcharts-container").appendTo(this.container),this.elements={},this.hasRendered=!1,this.needsRedraw=!0};return o.inherit(p,r),e.extend(p.prototype,{WINDOW_RESIZE_DELAY:100,EXPORT_HEIGHT:400,EXPORT_WIDTH:600,MIN_GAUGE_HEIGHT:25,RESIZED_GAUGE_HEIGHT:200,DEFAULT_COLORS:[8710400,16771072,12529712],DEFAULT_RANGES:[0,30,70,100],MAX_TICKS_PER_RANGE:10,showValueByDefault:!0,showMinorTicksByDefault:!0,getFieldList:function(){return[]},getWidth:function(){var e=r.prototype.getWidth.call(this);return this.exportMode?e||this.EXPORT_WIDTH:e},getHeight:function(){var e=r.prototype.getHeight.call(this);return this.exportMode?e||this.EXPORT_HEIGHT:(e=e<this.MIN_GAUGE_HEIGHT?this.RESIZED_GAUGE_HEIGHT:e,e)},prepare:function(t,n){var i=e.extend([],this.ranges);r.prototype.prepare.call(this,t,n),u.arraysAreEquivalent(i,this.ranges)||(this.needsRedraw=!0)},handleDraw:function(e){this.needsRedraw?(this.destroy(),this.renderer=new n.Renderer(this.$hcContainer[0],this.getWidth(),this.getHeight()),this.formatter=new i(this.renderer),this.$container.css("backgroundColor",this.backgroundColor),this.renderGauge(),this.nudgeChart(),this.hasRendered=!0,this.testMode&&(a.gaugeAddTestingMetadata(this,this.elements,this.getClassName(),this.value),a.createGlobalReference(this,this.getChartObject())),this.needsRedraw=!1):this.updateValue(this.previousValue||0,this.value),e(this)},setSize:function(e,t){if(!this.hasRendered)return;this.destroy(),this.renderer=new n.Renderer(this.$hcContainer[0],e,t),this.formatter=new i(this.renderer),this.renderGauge(),this.nudgeChart(),this.hasRendered=!0},destroy:function(){var e;this.stopWobble(),this.$container.stop();for(e in this.elements)this.elements.hasOwnProperty(e)&&this.elements[e].destroy();this.elements={},this.$hcContainer.empty(),this.$container.css("backgroundColor",""),this.hasRendered=!1},getSVG:function(){return this.$container.find("svg").eq(0).parent().html()},processProperties:function(){r.prototype.processProperties.call(this),this.colors=this.computeColors(),this.colorPalette=new s(this.colors,!0),this.ranges=this.computeRanges(),this.previousValue=this.value,this.value=this.computeValue(),this.majorUnit=parseInt(this.properties["chart.majorUnit"],10)||null,this.showMajorTicks=u.normalizeBoolean(this.properties["chart.showMajorTicks"],!0),this.showMinorTicks=u.normalizeBoolean(this.properties["chart.showMinorTicks"],this.showMinorTicksByDefault),this.showLabels=u.normalizeBoolean(this.properties["chart.showLabels"],!0),this.showValue=u.normalizeBoolean(this.properties["chart.showValue"],this.showValueByDefault),this.showRangeBand=u.normalizeBoolean(this.properties["chart.showRangeBand"],!0),this.usePercentageRange=u.normalizeBoolean(this.properties["chart.usePercentageRange"]),this.usePercentageValue=u.normalizeBoolean(this.properties["chart.usePercentageValue"]),this.isShiny=this.properties["chart.style"]!=="minimal"},computeColors:function(){var e=u.stringToHexArray(this.properties["chart.gaugeColors"]||this.properties.gaugeColors);return e&&e.length>0?e:this.DEFAULT_COLORS},computeRanges:function(){var e,n=u.stringToArray(this.properties["chart.rangeValues"]);if(n&&n.length>1)e=n;else{var r=this.dataSet.allDataFields();e=t(r.slice(1)).map(function(e){return this.dataSet.getSeries(e)[0]},this)}var i=-Infinity,s=[];return t(e).each(function(e){var n=f.parseFloat(e);!t(n).isNaN()&&n>i&&(s.push(n),i=n)}),s.length>1?s:this.DEFAULT_RANGES},computeValue:function(){var e=this.dataSet.allDataFields();return e.length>0?f.parseFloat(this.dataSet.getSeries(e[0])[0])||0:0},updateValue:function(e,n){if(e===n)return;this.shouldAnimateTransition(e,n)&&(this.stopWobble(),this.animateTransition(e,n,t(this.drawIndicator).bind(this),t(this.onAnimationFinished).bind(this)));if(this.showValue){var r=this.formatValue(n);this.updateValueDisplay(r)}this.testMode&&a.gaugeUpdate(this.$container,n)},shouldAnimateTransition:function(e,t){return this.normalizedTranslateValue(e)!==this.normalizedTranslateValue(t)},drawTicks:function(){var t,n,r,i=this.calculateTickValues(this.ranges[0],this.ranges[this.ranges.length-1],this.MAX_TICKS_PER_RANGE);for(t=0;t<i.length;t++)n=this.translateValue(i[t]),this.showMajorTicks&&(this.elements["tickMark_"+i[t]]=this.drawMajorTick(n)),this.showLabels&&(r=this.formatTickLabel(i[t]),this.elements["tickLabel_"+i[t]]=this.drawMajorTickLabel(n,r));this.showLabels&&(i=this.removeTicksIfOverlap(i));if(this.showMinorTicks){var s=i[1]-i[0],o=s/this.minorsPerMajor,u=this.usePercentageRange?this.ranges[0]:i[0]-Math.floor((i[0]-this.ranges[0])/o)*o;for(t=u;t<=this.ranges[this.ranges.length-1];t+=o)if(!this.showMajorTicks||e.inArray(t,i)<0)n=this.translateValue(t),this.elements["minorTickMark_"+t]=this.drawMinorTick(n)}},removeTicksIfOverlap:function(e){while(e.length>2&&this.tickLabelsOverlap(e))e=this.removeEveryOtherTick(e);return e},tickLabelsOverlap:function(e){var t,n,r,i=3,s=1;for(t=0;t<e.length-1;t++){n=this.elements["tickLabel_"+e[t]],r=this.elements["tickLabel_"+e[t+1]];if(this.formatter.bBoxesOverlap(n.getBBox(),r.getBBox(),i,s))return!0}return!1},removeEveryOtherTick:function(e){var t,n=[];for(t=0;t<e.length;t++)t%2===0?n.push(e[t]):(this.elements["tickMark_"+e[t]].destroy(),this.elements["tickLabel_"+e[t]].destroy(),delete this.elements["tickMark_"+e[t]],delete this.elements["tickLabel_"+e[t]]);return n},animateTransition:function(e,t,n,r){var i=t-e,s=500,o={duration:s,step:function(t){n(e+t),this.nudgeChart()}.bind(this)};r&&(o.complete=function(){r(t)}),this.$container.stop(!0,!0).css({"animation-progress":0}).animate({"animation-progress":i},o)},onAnimationFinished:function(e){this.checkOutOfRange(e)},checkOutOfRange:function(e){var t,n,r;e<this.ranges[0]?(t=this.ranges[this.ranges.length-1]-this.ranges[0],r=t*.005,n=this.ranges[0]+r,this.wobble(n,r,this.drawIndicator)):e>this.ranges[this.ranges.length-1]&&(t=this.ranges[this.ranges.length-1]-this.ranges[0],r=t*.005,n=this.ranges[this.ranges.length-1]-r,this.wobble(n,r,this.drawIndicator))},formatValue:function(e){return this.usePercentageValue?this.formatPercent((e-this.ranges[0])/(this.ranges[this.ranges.length-1]-this.ranges[0])):this.formatNumber(e)},formatTickLabel:function(e){return this.usePercentageRange?this.formatPercent((e-this.ranges[0])/(this.ranges[this.ranges.length-1]-this.ranges[0])):this.formatNumber(e)},formatNumber:function(e){var t=parseFloat(e),n=Math.abs(t);return n>=1e9||n!==0&&n<.001?h.format_scientific(t,"#.###E0"):h.format_decimal(t)},formatPercent:function(e){return h.format_percent(e)},wobble:function(e,t,n){var r=this,i=0;this.wobbleInterval=setInterval(function(){var s=e+(i%3-1)*t;n.call(r,s),r.nudgeChart(),i=(i+1)%3},75)},stopWobble:function(){clearInterval(this.wobbleInterval)},nudgeChart:function(){if(l.hasSVG)return;this.elements.nudgeElement&&this.elements.nudgeElement.destroy(),this.elements.nudgeElement=this.renderer.rect(0,0,0,0).add()},predictTextWidth:function(e,t){return this.formatter.predictTextWidth(e,t)},calculateTickValues:function(e,t,n){var r,i,s=t-e,o=s/(n-1),u=f.nearestPowerOfTen(o),a=u,l=[];if(this.usePercentageRange){a=this.majorUnit&&!isNaN(this.majorUnit)?this.majorUnit:10;for(r=0;r<=100;r+=a)l.push(e+r/100*s)}else{this.majorUnit&&!isNaN(this.majorUnit)?a=this.majorUnit:(s/a>n&&(a*=2),s/a>n&&(a*=2.5),s/a>n&&(a*=2)),i=this.usePercentageRange?e:e>=0?0:e-e%a;for(r=i;r<=t;r+=a)r>=e&&l.push(parseFloat(r.toFixed(14)))}return l},getColorByIndex:function(e){return c.colorFromHex(this.colorPalette.getColor(null,e,this.ranges.length-1))},getChartObject:function(){return{series:[{data:[{y:this.value,onMouseOver:function(){}}]}]}},renderGauge:function(){this.updateDimensions()},translateValue:function(){},normalizedTranslateValue:function(){}}),p}),define("js_charting/visualizations/gauges/RadialGauge",["jquery","underscore","./Gauge","../../util/lang_utils","../../util/math_utils"],function(e,t,n,r,i){var s=function(e,t){n.call(this,e,t)};return r.inherit(s,n),e.extend(s.prototype,{showMinorTicksByDefault:!1,updateDimensions:function(){n.prototype.updateDimensions.call(this),this.width<this.height&&(this.$container.height(this.width),this.height=this.width)},processProperties:function(){n.prototype.processProperties.call(this),this.verticalPadding=10,this.minorsPerMajor=10,this.tickWidth=1,this.startAngle=this.computeStartAngle(),this.arcAngle=this.computeArcAngle()},computeStartAngle:function(){var e=parseInt(this.properties["chart.rangeStartAngle"],10);return t(e).isNaN()&&(e=45),i.degreeToRadian(e+90)},computeArcAngle:function(){var e=parseInt(this.properties["chart.rangeArcAngle"],10)||270;return i.degreeToRadian(e)},renderGauge:function(){n.prototype.renderGauge.call(this),this.borderWidth=i.roundWithMin(this.height/60,3),this.tickOffset=i.roundWithMin(this.height/100,3),this.tickLabelOffset=this.borderWidth,this.tickFontSize=i.roundWithMin(this.height/25,10),this.valueFontSize=i.roundWithMin(this.height/15,15),this.isShiny?(this.needleTailLength=i.roundWithMin(this.height/15,10),this.needleTailWidth=i.roundWithMin(this.height/50,6),this.knobWidth=i.roundWithMin(this.height/30,7)):this.needleWidth=i.roundWithMin(this.height/60,3),this.isShiny?(this.bandOffset=this.borderWidth,this.bandThickness=i.roundWithMin(this.height/40,4)):(this.bandOffset=0,this.bandThickness=i.roundWithMin(this.height/30,7)),this.tickColor=this.isShiny?"silver":this.foregroundColor,this.tickFontColor=this.isShiny?"silver":this.fontColor,this.valueColor=this.isShiny?"#b8b167":this.fontColor,this.tickLength=i.roundWithMin(this.height/20,4),this.minorTickLength=this.tickLength/2,this.radius=(this.height-2*(this.verticalPadding+this.borderWidth))/2,this.valueHeight=this.height-(this.radius/4+this.verticalPadding+this.borderWidth),this.needleLength=this.isShiny?this.radius:this.radius-this.bandThickness/2,this.tickStart=this.radius-this.bandOffset-this.bandThickness-this.tickOffset,this.tickEnd=this.tickStart-this.tickLength,this.tickLabelPosition=this.tickEnd-this.tickLabelOffset,this.minorTickEnd=this.tickStart-this.minorTickLength,this.isShiny&&(this.elements.border=this.renderer.circle(this.width/2,this.height/2,this.radius+this.borderWidth).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add(),this.elements.background=this.renderer.circle(this.width/2,this.height/2,this.radius).attr({fill:"#000000"}).add()),this.showRangeBand&&this.drawColorBand(),this.drawTicks(),this.drawIndicator(this.value),this.showValue&&this.drawValueDisplay(),this.checkOutOfRange(this.value)},updateValueDisplay:function(e){this.elements.valueDisplay.attr({text:e})},drawColorBand:function(){var e,t,n,r=this.radius-this.bandOffset,i=r-this.bandThickness;for(e=0;e<this.ranges.length-1;e++)t=this.translateValue(this.ranges[e]),n=this.translateValue(this.ranges[e+1]),this.elements["colorBand"+e]=this.renderer.arc(this.width/2,this.height/2,r,i,t,n).attr({fill:this.getColorByIndex(e)}).add()},drawMajorTick:function(e){return this.renderer.path(["M",this.width/2+this.tickStart*Math.cos(e),this.height/2+this.tickStart*Math.sin(e),"L",this.width/2+this.tickEnd*Math.cos(e),this.height/2+this.tickEnd*Math.sin(e)]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawMajorTickLabel:function(e,t){var n=Math.sin(e),r=this.predictTextWidth(t,this.tickFontSize),i=e<1.5*Math.PI?"left":"right",s=e<1.5*Math.PI?-r/2*n*n:r/2*n*n,o=this.tickFontSize/4*n;return this.renderer.text(t,this.width/2+this.tickLabelPosition*Math.cos(e)+s,this.height/2+(this.tickLabelPosition-4)*n+this.tickFontSize/4-o).attr({align:i}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px"}).add()},drawMinorTick:function(e){return this.renderer.path(["M",this.width/2+this.tickStart*Math.cos(e),this.height/2+this.tickStart*Math.sin(e),"L",this.width/2+this.minorTickEnd*Math.cos(e),this.height/2+this.minorTickEnd*Math.sin(e)]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawIndicator:function(e){var t,n,r,i,s,o,u=this.normalizedTranslateValue(e),a=Math.cos(u),f=Math.sin(u);this.isShiny?(t=["M",this.width/2-this.needleTailLength*a,this.height/2-this.needleTailLength*f,"L",this.width/2-this.needleTailLength*a+this.needleTailWidth*f,this.height/2-this.needleTailLength*f-this.needleTailWidth*a,this.width/2+this.needleLength*a,this.height/2+this.needleLength*f,this.width/2-this.needleTailLength*a-this.needleTailWidth*f,this.height/2-this.needleTailLength*f+this.needleTailWidth*a,this.width/2-this.needleTailLength*a,this.height/2-this.needleTailLength*f],i={linearGradient:[this.width/2-this.needleTailLength*a,this.height/2-this.needleTailLength*f,this.width/2-this.needleTailLength*a-this.needleTailWidth*f,this.height/2-this.needleTailLength*f+this.needleTailWidth*a],stops:[[0,"#999999"],[.2,"#cccccc"]]},s=["M",this.width/2-(this.needleTailLength-2)*a,this.height/2-(this.needleTailLength-2)*f,"L",this.width/2+(this.needleLength-this.bandOffset/2)*a,this.height/2+(this.needleLength-this.bandOffset/2)*f],o={linearGradient:[this.width/2+this.knobWidth*f,this.height/2-this.knobWidth*a,this.width/2-this.knobWidth*f,this.height/2+this.knobWidth*a],stops:[[0,"silver"],[.5,"black"],[1,"silver"]]}):(t=["M",this.width/2,this.height/2,"L",this.width/2+a*this.needleLength,this.height/2+f*this.needleLength],n=this.foregroundColor,r=this.needleWidth),this.isShiny&&(this.elements.centerKnob&&this.elements.centerKnob.destroy(),this.elements.centerKnob=this.renderer.circle(this.width/2,this.height/2,this.knobWidth).attr({fill:o}).add()),this.elements.needle&&this.elements.needle.destroy(),this.elements.needle=this.renderer.path(t).attr({fill:i||"",stroke:n||"","stroke-width":r||""}).add(),this.isShiny&&(this.elements.needleRidge&&this.elements.needleRidge.destroy(),this.elements.needleRidge=this.renderer.path(s).attr({stroke:"#cccccc","stroke-width":1}).add())},drawValueDisplay:function(){var e=this.formatValue(this.value);this.elements.valueDisplay=this.renderer.text(e,this.width/2,this.valueHeight).css({color:this.valueColor,fontSize:this.valueFontSize+"px",lineHeight:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"center"}).add()},getSVG:function(){return this.elements.centerKnob&&this.elements.centerKnob.attr({fill:"#999999"}),this.elements.needle.attr({fill:"#bbbbbb"}),this.elements.needleRidge&&this.elements.needleRidge.attr({stroke:"#999999"}),n.prototype.getSVG.call(this)},normalizedTranslateValue:function(e){return e<this.ranges[0]?this.translateValue(this.ranges[0]):e>this.ranges[this.ranges.length-1]?this.translateValue(this.ranges[this.ranges.length-1]):this.translateValue(e)},translateValue:function(e){var t=this.ranges[this.ranges.length-1]-this.ranges[0],n=e-this.ranges[0];return this.startAngle+n/t*this.arcAngle}}),s}),define("js_charting/visualizations/gauges/FillerGauge",["jquery","./Gauge","../../util/lang_utils","../../util/math_utils","../../util/color_utils"],function(e,t,n,r,i){var s=function(e,n){t.call(this,e,n),this.minorsPerMajor=5,this.minorTickWidth=1};return n.inherit(s,t),e.extend(s.prototype,{processProperties:function(){t.prototype.processProperties.call(this)},onAnimationFinished:function(){},renderGauge:function(){t.prototype.renderGauge.call(this),this.tickColor=this.foregroundColor,this.tickFontColor=this.fontColor,this.defaultValueColor=this.isShiny?"black":this.fontColor,this.drawBackground(),this.drawTicks(),this.drawIndicator(this.value)},updateValue:function(e,n){var i=r.getDecimalPrecision(e,3),s=r.getDecimalPrecision(n,3);this.valueAnimationPrecision=Math.max(i,s),t.prototype.updateValue.call(this,e,n)},getDisplayValue:function(e){var t=Math.pow(10,this.valueAnimationPrecision);return e!==this.value?Math.round(e*t)/t:e},updateValueDisplay:function(){},shouldAnimateTransition:function(){return!0},getFillColor:function(e){var t;for(t=0;t<this.ranges.length-2;t++)if(e<this.ranges[t+1])break;return this.getColorByIndex(t)},getValueColor:function(e){var t=i.hexFromColor(e),n=128,r="black",s="white",o=i.getLuminance(t);return o<n?s:r}}),s}),define("js_charting/visualizations/gauges/HorizontalFillerGauge",["jquery","./FillerGauge","../../util/lang_utils","../../util/math_utils"],function(e,t,n,r){var i=function(e,n){t.call(this,e,n),this.horizontalPadding=20,this.tickOffset=5,this.tickLength=15,this.tickWidth=1,this.tickLabelOffset=5,this.minorTickLength=Math.floor(this.tickLength/2)};return n.inherit(i,t),e.extend(i.prototype,{renderGauge:function(){this.tickFontSize=r.roundWithMinMax(this.width/50,10,20),this.backgroundCornerRad=r.roundWithMinMax(this.width/120,3,5),this.valueFontSize=r.roundWithMinMax(this.width/40,15,25),this.backgroundHeight=this.valueFontSize*3,this.valueBottomPadding=r.roundWithMinMax(this.width/100,5,10),t.prototype.renderGauge.call(this)},drawBackground:function(){var e=this.calculateTickValues(this.ranges[0],this.ranges[this.ranges.length-1],this.MAX_TICKS_PER_RANGE),t=e[e.length-1],n=this.predictTextWidth(this.formatValue(t),this.tickFontSize);this.horizontalPadding=Math.max(this.horizontalPadding,n),this.backgroundWidth=this.width-2*this.horizontalPadding,this.isShiny&&(this.elements.background=this.renderer.rect(this.horizontalPadding,(this.height-this.backgroundHeight)/2,this.backgroundWidth,this.backgroundHeight,this.backgroundCornerRad).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add()),this.tickStartY=(this.height+this.backgroundHeight)/2+this.tickOffset,this.tickEndY=this.tickStartY+this.tickLength,this.tickLabelStartY=this.tickEndY+this.tickLabelOffset},drawMajorTick:function(e){var t=this.horizontalPadding+e;return this.renderer.path(["M",t,this.tickStartY,"L",t,this.tickEndY]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawMajorTickLabel:function(e,t){var n=this.horizontalPadding+e;return this.renderer.text(t,n,this.tickLabelStartY+this.tickFontSize).attr({align:"center"}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px",lineHeight:this.tickFontSize+"px"}).add()},drawMinorTick:function(e){var t=this.horizontalPadding+e;return this.renderer.path(["M",t,this.tickStartY,"L",t,this.tickStartY+this.minorTickLength]).attr({stroke:this.tickColor,"stroke-width":this.minorTickWidth}).add()},drawIndicator:function(e){var t=this.getFillColor(e),n=this.normalizedTranslateValue(e),r,i;n>0?(n=Math.max(n,this.backgroundCornerRad),r=this.horizontalPadding+n,this.isShiny?i=["M",this.horizontalPadding+this.backgroundCornerRad,(this.height-this.backgroundHeight-2)/2,"C",this.horizontalPadding+this.backgroundCornerRad,(this.height-this.backgroundHeight-2)/2,this.horizontalPadding,(this.height-this.backgroundHeight-2)/2,this.horizontalPadding,(this.height-this.backgroundHeight-2)/2+this.backgroundCornerRad,"L",this.horizontalPadding,(this.height+this.backgroundHeight)/2-this.backgroundCornerRad,"C",this.horizontalPadding,(this.height+this.backgroundHeight)/2-this.backgroundCornerRad,this.horizontalPadding,(this.height+this.backgroundHeight)/2,this.horizontalPadding+this.backgroundCornerRad,(this.height+this.backgroundHeight)/2,"L",r,(this.height+this.backgroundHeight)/2,r,(this.height-this.backgroundHeight-2)/2,this.horizontalPadding+this.backgroundCornerRad,(this.height-this.backgroundHeight-2)/2]:i=["M",this.horizontalPadding,(this.height-this.backgroundHeight)/2,"L",r,(this.height-this.backgroundHeight)/2,r,(this.height+this.backgroundHeight)/2,this.horizontalPadding,(this.height+this.backgroundHeight)/2,this.horizontalPadding,(this.height-this.backgroundHeight)/2]):i=[],this.elements.fill&&this.elements.fill.destroy(),this.elements.fill=this.renderer.path(i).attr({fill:t}).add(),this.showValue&&this.drawValueDisplay(e,t,n)},drawValueDisplay:function(e,t,n){var r=this.getDisplayValue(e),i=this.horizontalPadding+n,s=this.getValueColor(t),o,u=this.formatValue(r),a=this.predictTextWidth(u,this.valueFontSize)+this.valueBottomPadding;n>=a?o=i-a:(o=i+this.valueBottomPadding,s=this.defaultValueColor),this.elements.valueDisplay?this.elements.valueDisplay.attr({text:u,x:o}).css({color:s,fontSize:this.valueFontSize+"px",fontWeight:"bold"}).toFront():this.elements.valueDisplay=this.renderer.text(u,o,this.height/2+this.valueFontSize/4).css({color:s,fontSize:this.valueFontSize+"px",lineHeight:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"left"}).add()},normalizedTranslateValue:function(e){return e<this.ranges[0]?0:e>this.ranges[this.ranges.length-1]?this.translateValue(this.ranges[this.ranges.length-1]):this.translateValue(e)},translateValue:function(e){var t=this.ranges[this.ranges.length-1]-this.ranges[0],n=e-this.ranges[0];return Math.round(n/t*this.backgroundWidth)}}),i}),define("js_charting/visualizations/gauges/VerticalFillerGauge",["jquery","./FillerGauge","../../util/lang_utils","../../util/math_utils"],function(e,t,n,r){var i=function(e,n){t.call(this,e,n),this.tickWidth=1};return n.inherit(i,t),e.extend(i.prototype,{renderGauge:function(){this.tickOffset=r.roundWithMin(this.height/100,3),this.tickLength=r.roundWithMin(this.height/20,4),this.tickLabelOffset=r.roundWithMin(this.height/60,3),this.tickFontSize=r.roundWithMin(this.height/20,10),this.minorTickLength=this.tickLength/2,this.backgroundCornerRad=r.roundWithMin(this.height/60,3),this.valueBottomPadding=r.roundWithMin(this.height/30,5),this.valueFontSize=r.roundWithMin(this.height/20,12),t.prototype.renderGauge.call(this)},drawBackground:function(){this.verticalPadding=10+this.tickFontSize/2,this.backgroundWidth=r.roundWithMin(this.height/4,50),this.backgroundHeight=this.height-2*this.verticalPadding;var e=this.determineMaxValueWidth(this.ranges,this.valueFontSize)+10;this.backgroundWidth=Math.max(this.backgroundWidth,e),this.isShiny&&(this.elements.background=this.renderer.rect((this.width-this.backgroundWidth)/2,this.verticalPadding,this.backgroundWidth,this.backgroundHeight,this.backgroundCornerRad).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add()),this.tickStartX=(this.width+this.backgroundWidth)/2+this.tickOffset,this.tickEndX=this.tickStartX+this.tickLength,this.tickLabelStartX=this.tickEndX+this.tickLabelOffset},determineMaxValueWidth:function(e,t){if(this.usePercentageValue)return this.predictTextWidth("100.00%",t);var n,r,i=0;for(n=0;n<e.length;n++){r=""+e[n];if(n===0||n===e.length-1)r+="0";i=Math.max(i,this.predictTextWidth(r,t))}return i},drawMajorTick:function(e){var t=this.verticalPadding+this.backgroundHeight-e;return this.renderer.path(["M",this.tickStartX,t,"L",this.tickEndX,t]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawMajorTickLabel:function(e,t){var n=this.verticalPadding+this.backgroundHeight-e;return this.renderer.text(t,this.tickLabelStartX,n+this.tickFontSize/4).attr({align:"left"}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px",lineHeight:this.tickFontSize+"px"}).add()},drawMinorTick:function(e){var t=this.verticalPadding+this.backgroundHeight-e;return this.renderer.path(["M",this.tickStartX,t,"L",this.tickStartX+this.minorTickLength,t]).attr({stroke:this.tickColor,"stroke-width":this.minorTickWidth}).add()},drawIndicator:function(e){var t=this.getFillColor(e),n=this.normalizedTranslateValue(e),r,i;n>0?(n=Math.max(n,this.backgroundCornerRad),r=this.verticalPadding+this.backgroundHeight-n,this.isShiny?i=["M",(this.width-this.backgroundWidth-2)/2,this.height-this.verticalPadding-this.backgroundCornerRad,"C",(this.width-this.backgroundWidth-2)/2,this.height-this.verticalPadding-this.backgroundCornerRad,(this.width-this.backgroundWidth-2)/2,this.height-this.verticalPadding,(this.width-this.backgroundWidth-2)/2+this.backgroundCornerRad,this.height-this.verticalPadding,"L",(this.width+this.backgroundWidth-2)/2-this.backgroundCornerRad,this.height-this.verticalPadding,"C",(this.width+this.backgroundWidth-2)/2-this.backgroundCornerRad,this.height-this.verticalPadding,(this.width+this.backgroundWidth-2)/2,this.height-this.verticalPadding,(this.width+this.backgroundWidth-2)/2,this.height-this.verticalPadding-this.backgroundCornerRad,"L",(this.width+this.backgroundWidth-2)/2,r,(this.width-this.backgroundWidth-2)/2,r,(this.width-this.backgroundWidth-2)/2,this.height-this.verticalPadding-this.backgroundCornerRad]:i=["M",(this.width-this.backgroundWidth)/2,this.height-this.verticalPadding,"L",(this.width+this.backgroundWidth)/2,this.height-this.verticalPadding,(this.width+this.backgroundWidth)/2,r,(this.width-this.backgroundWidth)/2,r,(this.width-this.backgroundWidth)/2,this.height-this.verticalPadding]):i=[],this.elements.fill&&this.elements.fill.destroy(),this.elements.fill=this.renderer.path(i).attr({fill:t}).add(),this.showValue&&this.drawValueDisplay(e,t)},drawValueDisplay:function(e,t){var n=this.getDisplayValue(e),r=this.normalizedTranslateValue(e),i=this.verticalPadding+this.backgroundHeight-r,s=this.valueFontSize+this.valueBottomPadding,o=this.getValueColor(t),u,a=this.formatValue(n);r>=s?u=i+s-this.valueBottomPadding:(u=i-this.valueBottomPadding,o=this.defaultValueColor),this.elements.valueDisplay?this.elements.valueDisplay.attr({text:a,y:u}).css({color:o,fontSize:this.valueFontSize+"px",fontWeight:"bold"}).toFront():this.elements.valueDisplay=this.renderer.text(a,this.width/2,u).css({color:o,fontSize:this.valueFontSize+"px",lineHeight:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"center"}).add()},normalizedTranslateValue:function(e){return e<this.ranges[0]?0:e>this.ranges[this.ranges.length-1]?this.translateValue(this.ranges[this.ranges.length-1])+5:this.translateValue(e)},translateValue:function(e){var t=this.ranges[this.ranges.length-1]-this.ranges[0],n=e-this.ranges[0];return Math.round(n/t*this.backgroundHeight)}}),i}),define("js_charting/visualizations/gauges/MarkerGauge",["jquery","./Gauge","../../util/lang_utils"],function(e,t,n){var r=function(e,n){t.call(this,e,n),this.bandCornerRad=0,this.tickLabelPaddingRight=10,this.minorsPerMajor=5,this.minorTickWidth=1,this.tickWidth=1};return n.inherit(r,t),e.extend(r.prototype,{showValueByDefault:!1,renderGauge:function(){t.prototype.renderGauge.call(this),this.tickColor=this.isShiny?"black":this.foregroundColor,this.tickFontColor=this.isShiny?"black":this.fontColor,this.valueOffset=this.isShiny?this.markerSideWidth+10:this.valueFontSize,this.drawBackground(),this.showRangeBand&&this.drawBand(),this.drawTicks(),this.drawIndicator(this.value),this.checkOutOfRange(this.value)},updateValueDisplay:function(){}}),r}),define("js_charting/visualizations/gauges/HorizontalMarkerGauge",["jquery","./MarkerGauge","../../util/lang_utils","../../util/math_utils"],function(e,t,n,r){var i=function(e,n){t.call(this,e,n),this.horizontalPadding=20,this.tickOffset=5,this.tickLength=15,this.tickWidth=1,this.tickLabelOffset=5,this.minorTickLength=Math.floor(this.tickLength/2),this.bandHeight=this.isShiny?15:35};return n.inherit(i,t),e.extend(i.prototype,{renderGauge:function(){this.markerWindowHeight=r.roundWithMinMax(this.width/30,30,80),this.markerSideWidth=this.markerWindowHeight/2,this.markerSideCornerRad=this.markerSideWidth/3,this.bandOffsetBottom=5+this.markerWindowHeight/2,this.bandOffsetTop=5+this.markerWindowHeight/2,this.tickFontSize=r.roundWithMinMax(this.width/50,10,20),this.backgroundCornerRad=r.roundWithMinMax(this.width/120,3,5),this.valueFontSize=r.roundWithMinMax(this.width/40,15,25),this.valueOffset=this.markerSideWidth+10,this.tickLabelPadding=this.tickFontSize/2,this.bandOffsetX=this.isShiny?this.tickLabelPadding:0,this.backgroundHeight=this.bandOffsetX+this.bandHeight+this.tickOffset+this.tickLength+this.tickLabelOffset+this.tickFontSize+this.tickLabelPadding,t.prototype.renderGauge.call(this)},drawBackground:function(e){e=this.calculateTickValues(this.ranges[0],this.ranges[this.ranges.length-1],this.MAX_TICKS_PER_RANGE);var t=e[e.length-1],n=this.predictTextWidth(this.formatValue(t),this.tickFontSize);this.bandOffsetBottom=Math.max(this.bandOffsetBottom,n),this.bandOffsetTop=Math.max(this.bandOffsetTop,n),this.backgroundWidth=this.width-2*this.horizontalPadding,this.bandWidth=this.backgroundWidth-(this.bandOffsetBottom+this.bandOffsetTop),this.isShiny&&(this.elements.background=this.renderer.rect(this.horizontalPadding,(this.height-this.backgroundHeight)/2,this.backgroundWidth,this.backgroundHeight,this.backgroundCornerRad).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add())},drawBand:function(){var e,t,n,r=this.horizontalPadding+this.bandOffsetBottom,i=(this.height-this.backgroundHeight)/2+this.bandOffsetX;for(e=0;e<this.ranges.length-1;e++)t=this.translateValue(this.ranges[e]),n=this.translateValue(this.ranges[e+1]),this.elements["colorBand"+e]=this.renderer.rect(r+t,i,n-t,this.bandHeight,this.bandCornerRad).attr({fill:this.getColorByIndex(e)}).add();this.tickStartY=(this.height-this.backgroundHeight)/2+(this.bandOffsetX+this.bandHeight)+this.tickOffset,this.tickEndY=this.tickStartY+this.tickLength,this.tickLabelStartY=this.tickEndY+this.tickLabelOffset},drawMajorTick:function(e){var t=this.horizontalPadding+this.bandOffsetBottom+e;return this.renderer.path(["M",t,this.tickStartY,"L",t,this.tickEndY]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawMajorTickLabel:function(e,t){var n=this.horizontalPadding+this.bandOffsetBottom+e;return this.renderer.text(t,n,this.tickLabelStartY+this.tickFontSize).attr({align:"center"}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px",lineHeight:this.tickFontSize+"px"}).add()},drawMinorTick:function(e){var t=this.horizontalPadding+this.bandOffsetBottom+e;return this.renderer.path(["M",t,this.tickStartY,"L",t,this.tickStartY+this.minorTickLength]).attr({stroke:this.tickColor,"stroke-width":this.minorTickWidth}).add()},drawIndicator:function(e){var t=this.normalizedTranslateValue(e),n=this.isShiny?(this.height-this.backgroundHeight)/2:(this.height-this.backgroundHeight)/2-10,r=this.isShiny?n+this.backgroundHeight:n+this.bandHeight+20,i=this.horizontalPadding+this.bandOffsetBottom+t,s=3,o=this.foregroundColor,u=["M",i,n,"L",i,r];if(this.isShiny){var a=["M",i-this.markerWindowHeight/2,n,"L",i-this.markerWindowHeight/2,n-(this.markerSideWidth-this.markerSideCornerRad),"C",i-this.markerWindowHeight/2,n-(this.markerSideWidth-this.markerSideCornerRad),i-this.markerWindowHeight/2,n-this.markerSideWidth,i-this.markerWindowHeight/2+this.markerSideCornerRad,n-this.markerSideWidth,"L",i+this.markerWindowHeight/2-this.markerSideCornerRad,n-this.markerSideWidth,"C",i+this.markerWindowHeight/2-this.markerSideCornerRad,n-this.markerSideWidth,i+this.markerWindowHeight/2,n-this.markerSideWidth,i+this.markerWindowHeight/2,n-(this.markerSideWidth-this.markerSideCornerRad),"L",i+this.markerWindowHeight/2,n,i-this.markerWindowHeight,n],f=["M",i-this.markerWindowHeight/2,r,"L",i-this.markerWindowHeight/2,r+(this.markerSideWidth-this.markerSideCornerRad),"C",i-this.markerWindowHeight/2,r+(this.markerSideWidth-this.markerSideCornerRad),i-this.markerWindowHeight/2,r+this.markerSideWidth,i-this.markerWindowHeight/2+this.markerSideCornerRad,r+this.markerSideWidth,"L",i+this.markerWindowHeight/2-this.markerSideCornerRad,r+this.markerSideWidth,"C",i+this.markerWindowHeight/2-this.markerSideCornerRad,r+this.markerSideWidth,i+this.markerWindowHeight/2,r+this.markerSideWidth,i+this.markerWindowHeight/2,r+(this.markerSideWidth-this.markerSideCornerRad),"L",i+this.markerWindowHeight/2,r,i-this.markerWindowHeight,r],l=["M",i-this.markerWindowHeight/2,n,"L",i-this.markerWindowHeight/2,r,i+this.markerWindowHeight/2,r,i+this.markerWindowHeight/2,n,i-this.markerWindowHeight/2,n],c=["M",i-1,n,"L",i-1,r];o="red",s=1,this.elements.markerLHS&&this.elements.markerLHS.destroy(),this.elements.markerLHS=this.renderer.path(a).attr({fill:"#cccccc"}).add(),this.elements.markerRHS&&this.elements.markerRHS.destroy(),this.elements.markerRHS=this.renderer.path(f).attr({fill:"#cccccc"}).add(),this.elements.markerWindow&&this.elements.markerWindow.destroy(),this.elements.markerWindow=this.renderer.rect(i-this.markerWindowHeight/2,n,this.markerWindowHeight,this.backgroundHeight,0).attr({fill:"rgba(255, 255, 255, 0.3)"}).add(),this.elements.markerBorder&&this.elements.markerBorder.destroy(),this.elements.markerBorder=this.renderer.path(l).attr({stroke:"white","stroke-width":2}).add(),this.elements.markerUnderline&&this.elements.markerUnderline.destroy(),this.elements.markerUnderline=this.renderer.path(c).attr({stroke:"white","stroke-width":2}).add()}this.elements.markerLine&&this.elements.markerLine.destroy(),this.elements.markerLine=this.renderer.path(u).attr({stroke:o,"stroke-width":s}).add(),this.showValue&&this.drawValueDisplay(e)},drawValueDisplay:function(e){var t=this.formatValue(e),n=this.normalizedTranslateValue(e),r=this.horizontalPadding+this.bandOffsetBottom+n;this.elements.valueDisplay?this.elements.valueDisplay.attr({text:t,x:r}):this.elements.valueDisplay=this.renderer.text(t,r,(this.height-this.backgroundHeight)/2-this.valueOffset).css({color:"black",fontSize:this.valueFontSize+"px",lineHeight:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"center"}).add()},normalizedTranslateValue:function(e){return e<this.ranges[0]?0:e>this.ranges[this.ranges.length-1]?this.translateValue(this.ranges[this.ranges.length-1]):this.translateValue(e)},translateValue:function(e){var t=this.ranges[this.ranges.length-1]-this.ranges[0],n=e-this.ranges[0];return Math.round(n/t*this.bandWidth)}}),i}),define("js_charting/visualizations/gauges/VerticalMarkerGauge",["jquery","./MarkerGauge","../../util/lang_utils","../../util/math_utils"],function(e,t,n,r){var i=function(e,n){t.call(this,e,n),this.verticalPadding=10};return n.inherit(i,t),e.extend(i.prototype,{renderGauge:function(){this.markerWindowHeight=r.roundWithMin(this.height/7,20),this.markerSideWidth=this.markerWindowHeight/2,this.markerSideCornerRad=this.markerSideWidth/3,this.bandOffsetBottom=5+this.markerWindowHeight/2,this.bandOffsetTop=5+this.markerWindowHeight/2,this.tickOffset=r.roundWithMin(this.height/100,3),this.tickLength=r.roundWithMin(this.height/20,4),this.tickLabelOffset=r.roundWithMin(this.height/60,3),this.tickFontSize=r.roundWithMin(this.height/20,10),this.minorTickLength=this.tickLength/2,this.backgroundCornerRad=r.roundWithMin(this.height/60,3),this.valueFontSize=r.roundWithMin(this.height/15,15),this.bandOffsetX=this.isShiny?r.roundWithMin(this.height/60,3):0,t.prototype.renderGauge.call(this)},drawBackground:function(){this.backgroundWidth=r.roundWithMin(this.height/4,50);var e=this.calculateTickValues(this.ranges[0],this.ranges[this.ranges.length-1],this.MAX_TICKS_PER_RANGE);this.backgroundHeight=this.height-2*this.verticalPadding,this.bandHeight=this.backgroundHeight-(this.bandOffsetBottom+this.bandOffsetTop),this.bandWidth=this.isShiny?10:30;var t,n,i=e[e.length-1];t=this.predictTextWidth(this.formatValue(i),this.tickFontSize),n=this.bandOffsetX+this.bandWidth+this.tickOffset+this.tickLength+this.tickLabelOffset+t+this.tickLabelPaddingRight,this.backgroundWidth=Math.max(this.backgroundWidth,n),this.isShiny&&(this.elements.background=this.renderer.rect((this.width-this.backgroundWidth)/2,this.verticalPadding,this.backgroundWidth,this.backgroundHeight,this.backgroundCornerRad).attr({fill:"#edede7",stroke:"silver","stroke-width":1}).add()),this.tickStartX=(this.width-this.backgroundWidth)/2+(this.bandOffsetX+this.bandWidth)+this.tickOffset,this.tickEndX=this.tickStartX+this.tickLength,this.tickLabelStartX=this.tickEndX+this.tickLabelOffset},drawBand:function(){var e,t,n,r=(this.width-this.backgroundWidth)/2+this.bandOffsetX,i=this.height-this.verticalPadding-this.bandOffsetBottom;for(e=0;e<this.ranges.length-1;e++)t=this.translateValue(this.ranges[e]),n=this.translateValue(this.ranges[e+1]),this.elements["colorBand"+e]=this.renderer.rect(r,i-n,this.bandWidth,n-t,this.bandCornerRad).attr({fill:this.getColorByIndex(e)}).add()},drawMajorTick:function(e){var t=this.verticalPadding+this.backgroundHeight-(this.bandOffsetBottom+e);return this.renderer.path(["M",this.tickStartX,t,"L",this.tickEndX,t]).attr({stroke:this.tickColor,"stroke-width":this.tickWidth}).add()},drawMajorTickLabel:function(e,t){var n=this.verticalPadding+this.backgroundHeight-(this.bandOffsetBottom+e);return this.renderer.text(t,this.tickLabelStartX,n+this.tickFontSize/4).attr({align:"left"}).css({color:this.tickFontColor,fontSize:this.tickFontSize+"px",lineHeight:this.tickFontSize+"px"}).add()},drawMinorTick:function(e){var t=this.verticalPadding+this.backgroundHeight-(this.bandOffsetBottom+e);return this.renderer.path(["M",this.tickStartX,t,"L",this.tickStartX+this.minorTickLength,t]).attr({stroke:this.tickColor,"stroke-width":this.minorTickWidth}).add()},drawIndicator:function(e){var t,n,r,i,s=this.normalizedTranslateValue(e),o=this.verticalPadding+this.backgroundHeight-(this.bandOffsetBottom+s),u=this.isShiny?(this.width-this.backgroundWidth)/2:(this.width-this.backgroundWidth)/2-10,a=this.isShiny?u+this.backgroundWidth:u+this.bandWidth+20,f=this.foregroundColor,l=3,c=["M",u,o,"L",a,o];this.isShiny&&(t=["M",u,o-this.markerWindowHeight/2,"L",u-(this.markerSideWidth-this.markerSideCornerRad),o-this.markerWindowHeight/2,"C",u-(this.markerSideWidth-this.markerSideCornerRad),o-this.markerWindowHeight/2,u-this.markerSideWidth,o-this.markerWindowHeight/2,u-this.markerSideWidth,o-this.markerWindowHeight/2+this.markerSideCornerRad,"L",u-this.markerSideWidth,o+this.markerWindowHeight/2-this.markerSideCornerRad,"C",u-this.markerSideWidth,o+this.markerWindowHeight/2-this.markerSideCornerRad,u-this.markerSideWidth,o+this.markerWindowHeight/2,u-(this.markerSideWidth-this.markerSideCornerRad),o+this.markerWindowHeight/2,"L",u,o+this.markerWindowHeight/2,u,o-this.markerWindowHeight/2],n=["M",a,o-this.markerWindowHeight/2,"L",a+(this.markerSideWidth-this.markerSideCornerRad),o-this.markerWindowHeight/2,"C",a+(this.markerSideWidth-this.markerSideCornerRad),o-this.markerWindowHeight/2,a+this.markerSideWidth,o-this.markerWindowHeight/2,a+this.markerSideWidth,o-this.markerWindowHeight/2+this.markerSideCornerRad,"L",a+this.markerSideWidth,o+this.markerWindowHeight/2-this.markerSideCornerRad,"C",a+this.markerSideWidth,o+this.markerWindowHeight/2-this.markerSideCornerRad,a+this.markerSideWidth,o+this.markerWindowHeight/2,a+(this.markerSideWidth-this.markerSideCornerRad),o+this.markerWindowHeight/2,"L",a,o+this.markerWindowHeight/2,a,o-this.markerWindowHeight/2],r=["M",u,o-this.markerWindowHeight/2,"L",a,o-this.markerWindowHeight/2,a,o+this.markerWindowHeight/2,u,o+this.markerWindowHeight/2,u,o-this.markerWindowHeight/2],i=["M",u,o+1,"L",a,o+1],f="red",l=1),this.isShiny&&(this.elements.markerLHS&&this.elements.markerLHS.destroy(),this.elements.markerLHS=this.renderer.path(t).attr({fill:"#cccccc"}).add(),this.elements.markerRHS&&this.elements.markerRHS.destroy(),this.elements.markerRHS=this.renderer.path(n).attr({fill:"#cccccc"}).add(),this.elements.markerWindow&&this.elements.markerWindow.destroy(),this.elements.markerWindow=this.renderer.rect(u,o-this.markerWindowHeight/2,this.backgroundWidth,this.markerWindowHeight,0).attr({fill:"rgba(255, 255, 255, 0.3)"}).add(),this.elements.markerBorder&&this.elements.markerBorder.destroy(),this.elements.markerBorder=this.renderer.path(r).attr({stroke:"white","stroke-width":2}).add(),this.elements.markerUnderline&&this.elements.markerUnderline.destroy(),this.elements.markerUnderline=this.renderer.path(i).attr({stroke:"white","stroke-width":2}).add()),this.elements.markerLine&&this.elements.markerLine.destroy(),this.elements.markerLine=this.renderer.path(c).attr({stroke:f,"stroke-width":l}).add(),this.showValue&&this.drawValueDisplay(e)},drawValueDisplay:function(e){var t=this.formatValue(e),n=this.normalizedTranslateValue(e),r=this.verticalPadding+this.backgroundHeight-this.bandOffsetBottom-n;this.elements.valueDisplay?this.elements.valueDisplay.attr({text:t,y:r+this.valueFontSize/4}):this.elements.valueDisplay=this.renderer.text(t,(this.width-this.backgroundWidth)/2-this.valueOffset,r+this.valueFontSize/4).css({color:"black",fontSize:this.valueFontSize+"px",lineHeight:this.valueFontSize+"px",fontWeight:"bold"}).attr({align:"right"}).add()},normalizedTranslateValue:function(e){return e<this.ranges[0]?0:e>this.ranges[this.ranges.length-1]?this.translateValue(this.ranges[this.ranges.length-1]):this.translateValue(e)},translateValue:function(e){var t=this.ranges[this.ranges.length-1]-this.ranges[0],n=e-this.ranges[0];return Math.round(n/t*this.bandHeight)}}),i}),define("js_charting/js_charting",["jquery","underscore","highcharts","helpers/user_agent","./helpers/DataSet","./visualizations/charts/Chart","./visualizations/charts/SplitSeriesChart","./visualizations/charts/PieChart","./visualizations/charts/ScatterChart","./visualizations/gauges/RadialGauge","./visualizations/gauges/HorizontalFillerGauge","./visualizations/gauges/VerticalFillerGauge","./visualizations/gauges/HorizontalMarkerGauge","./visualizations/gauges/VerticalMarkerGauge","./util/parsing_utils"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d){if(r.isFirefox()){var v=window.history;t(["pushState","replaceState"]).each(function(t){var r=v[t];v[t]=function(){r.apply(v,arguments),e(n).trigger("baseUriChange")}})}var m=function(e){if(!e||!e.fields||!e.columns)throw new Error("The data object passed to extractChartReadyData did not contain fields and columns");if(e.fields.length!==e.columns.length)throw new Error("The data object passed to extractChartReadyData must have the same number of fields and columns");return new i(e)},g=function(n,r){n instanceof e&&(n=n[0]);if(!t(n).isElement())throw new Error("Invalid first argument to createChart, container must be a valid DOM element or a jQuery object");r=r||{};var i=r.chart;return i==="pie"?new u(n,r):i==="scatter"?new a(n,r):i==="radialGauge"?new f(n,r):i==="fillerGauge"?r["chart.orientation"]==="x"?new l(n,r):new c(n,r):i==="markerGauge"?r["chart.orientation"]==="x"?new h(n,r):new p(n,r):d.normalizeBoolean(r["layout.splitSeries"])?new o(n,r):new s(n,r)};return{extractChartReadyData:m,createChart:g}});